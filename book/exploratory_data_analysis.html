<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.6.43">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Ryan M. Moore, PhD">
<meta name="dcterms.date" content="2025-04-01">
<meta name="description" content="Learn essential Python programming skills tailored for life science research. This practical guide helps biology and life science students with no prior coding experience develop fundamental programming and data analysis skills.">

<title>7&nbsp; Intro to Exploratory Data Analysis with Python – Practical Python Programming for Life Scientists</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js" integrity="sha512-bLT0Qm9VnAYZDflyKcBaQ2gg0hSYNQrJ8RilYldYQ1FxQYoCLtUjuuRuZo+fjqhx/qtq/1itJ0C2ejDxltZVFg==" crossorigin="anonymous"></script><script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<link href="./stats_models.html" rel="next">
<link href="./errors_exceptions.html" rel="prev">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting-d4d76bf8491c20bad77d141916dc28e1.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap-002b880b3315660e0e1b955d1bdbe0e9.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" integrity="sha512-c3Nl8+7g4LMSTdrm621y7kf9v3SDPnhxLNhcjFJbKECVnmZHTdo+IRO05sNLTH/D3vA6u1X32ehoLC7WFVdheg==" crossorigin="anonymous"></script>

<script type="application/javascript">define('jquery', [],function() {return window.jQuery;})</script>


<meta property="og:title" content="7&nbsp; Intro to Exploratory Data Analysis with Python – Practical Python Programming for Life Scientists">
<meta property="og:description" content="Learn essential Python programming skills tailored for life science research. This practical guide helps biology and life science students with no prior coding experience develop fundamental programming and data analysis skills.">
<meta property="og:image" content="https://pythonforlifescientists.com/exploratory_data_analysis_files/figure-html/cell-13-output-1.png">
<meta property="og:site_name" content="Practical Python Programming for Life Scientists">
<meta property="og:image:height" content="429">
<meta property="og:image:width" content="572">
</head>

<body class="nav-sidebar docked">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" role="button" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./exploratory_data_analysis.html"><span class="chapter-number">7</span>&nbsp; <span class="chapter-title">Exploratory Data Analysis</span></a></li></ol></nav>
        <a class="flex-grow-1" role="navigation" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
      <button type="button" class="btn quarto-search-button" aria-label="Search" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation docked overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header sidebar-header-stacked">
      <a href="./index.html" class="sidebar-logo-link">
      <img src="./images/dna_python_logo.webp" alt="" class="sidebar-logo py-0 d-lg-inline d-none">
      </a>
    <div class="sidebar-title mb-0 py-0">
      <a href="./">Practical Python Programming for Life Scientists</a> 
        <div class="sidebar-tools-main">
    <a href="https://github.com/mooreryan/practical_python" title="Source Code" class="quarto-navigation-tool px-1" aria-label="Source Code"><i class="bi bi-github"></i></a>
</div>
    </div>
      </div>
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Introduction</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./basics.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Basics</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./collections.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Collections</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./algorithms.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Algorithmic Thinking</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./functions.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Functions</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./object_oriented_programming.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">Object-Oriented Programming</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./errors_exceptions.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">Errors &amp; Exceptions</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./exploratory_data_analysis.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text"><span class="chapter-number">7</span>&nbsp; <span class="chapter-title">Exploratory Data Analysis</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./stats_models.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">8</span>&nbsp; <span class="chapter-title">Statistics &amp; Modeling</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./io_files_contexts.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">9</span>&nbsp; <span class="chapter-title">I/O, Files, &amp; Contexts</span></span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" role="navigation" aria-expanded="true">
 <span class="menu-text">Appendices</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" role="navigation" aria-expanded="false">
 <span class="menu-text">Errors &amp; Exceptions</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" role="navigation" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-2" class="collapse list-unstyled sidebar-section depth2 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./errors_exceptions/think_answers.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">A</span>&nbsp; <span class="chapter-title">Stop &amp; Think Answers</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./errors_exceptions/practice_solutions.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">B</span>&nbsp; <span class="chapter-title">Practice Problem Solutions</span></span></a>
  </div>
</li>
      </ul>
  </li>
          <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" role="navigation" aria-expanded="false">
 <span class="menu-text">Exploratory Data Analysis</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" role="navigation" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-3" class="collapse list-unstyled sidebar-section depth2 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./exploratory_data_analysis/think_answers.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">C</span>&nbsp; <span class="chapter-title">Stop &amp; Think Answers</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./exploratory_data_analysis/practice_solutions.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">D</span>&nbsp; <span class="chapter-title">Practice Problem Solutions</span></span></a>
  </div>
</li>
      </ul>
  </li>
          <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" role="navigation" aria-expanded="false">
 <span class="menu-text">Statistics &amp; Modeling</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" role="navigation" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-4" class="collapse list-unstyled sidebar-section depth2 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./stats_models/think_answers.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">E</span>&nbsp; <span class="chapter-title">Stop &amp; Think Answers</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./stats_models/practice_solutions.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">F</span>&nbsp; <span class="chapter-title">Practice Problem Solutions</span></span></a>
  </div>
</li>
      </ul>
  </li>
          <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-5" role="navigation" aria-expanded="false">
 <span class="menu-text">I/O, Files, &amp; Contexts</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-5" role="navigation" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-5" class="collapse list-unstyled sidebar-section depth2 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./io_files_contexts/think_answers.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">G</span>&nbsp; <span class="chapter-title">Stop &amp; Think Answers</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./io_files_contexts/practice_solutions.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">H</span>&nbsp; <span class="chapter-title">Practice Problem Solutions</span></span></a>
  </div>
</li>
      </ul>
  </li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./regex.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">I</span>&nbsp; <span class="chapter-title">Regular Expressions</span></span></a>
  </div>
</li>
      </ul>
  </li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul>
  <li><a href="#introduction" id="toc-introduction" class="nav-link active" data-scroll-target="#introduction">Introduction</a>
  <ul>
  <li><a href="#important-python-libraries-for-doing-eda" id="toc-important-python-libraries-for-doing-eda" class="nav-link" data-scroll-target="#important-python-libraries-for-doing-eda">Important Python libraries for doing EDA</a></li>
  <li><a href="#why-were-using-pandas" id="toc-why-were-using-pandas" class="nav-link" data-scroll-target="#why-were-using-pandas">Why We’re Using Pandas</a></li>
  <li><a href="#practical-examples" id="toc-practical-examples" class="nav-link" data-scroll-target="#practical-examples">Practical Examples</a></li>
  <li><a href="#key-pandas-functionality" id="toc-key-pandas-functionality" class="nav-link" data-scroll-target="#key-pandas-functionality">Key Pandas Functionality</a></li>
  </ul></li>
  <li><a href="#import-needed-libraries" id="toc-import-needed-libraries" class="nav-link" data-scroll-target="#import-needed-libraries">Import Needed Libraries</a></li>
  <li><a href="#state-demographics-data" id="toc-state-demographics-data" class="nav-link" data-scroll-target="#state-demographics-data">State Demographics Data</a>
  <ul>
  <li><a href="#importing-data" id="toc-importing-data" class="nav-link" data-scroll-target="#importing-data">Importing Data</a></li>
  <li><a href="#data-overview" id="toc-data-overview" class="nav-link" data-scroll-target="#data-overview">Data Overview</a></li>
  <li><a href="#filtering-columns" id="toc-filtering-columns" class="nav-link" data-scroll-target="#filtering-columns">Filtering Columns</a></li>
  <li><a href="#exploring-your-data" id="toc-exploring-your-data" class="nav-link" data-scroll-target="#exploring-your-data">Exploring Your Data</a>
  <ul>
  <li><a href="#basic-population-plots" id="toc-basic-population-plots" class="nav-link" data-scroll-target="#basic-population-plots">Basic Population Plots</a></li>
  <li><a href="#percent-population-change" id="toc-percent-population-change" class="nav-link" data-scroll-target="#percent-population-change">Percent Population Change</a></li>
  </ul></li>
  <li><a href="#state-demographics-wrap-up" id="toc-state-demographics-wrap-up" class="nav-link" data-scroll-target="#state-demographics-wrap-up">State Demographics Wrap-Up</a></li>
  </ul></li>
  <li><a href="#cancer-data" id="toc-cancer-data" class="nav-link" data-scroll-target="#cancer-data">Cancer data</a>
  <ul>
  <li><a href="#basic-info" id="toc-basic-info" class="nav-link" data-scroll-target="#basic-info">Basic Info</a></li>
  <li><a href="#effect-of-population" id="toc-effect-of-population" class="nav-link" data-scroll-target="#effect-of-population">Effect of Population</a></li>
  <li><a href="#comparing-states" id="toc-comparing-states" class="nav-link" data-scroll-target="#comparing-states">Comparing States</a></li>
  <li><a href="#cancer-deaths-and-demographics" id="toc-cancer-deaths-and-demographics" class="nav-link" data-scroll-target="#cancer-deaths-and-demographics">Cancer Deaths and Demographics</a></li>
  <li><a href="#cancer-data-wrap-up" id="toc-cancer-data-wrap-up" class="nav-link" data-scroll-target="#cancer-data-wrap-up">Cancer Data Wrap-Up</a></li>
  </ul></li>
  <li><a href="#public-health-data" id="toc-public-health-data" class="nav-link" data-scroll-target="#public-health-data">Public Health Data</a>
  <ul>
  <li><a href="#basics" id="toc-basics" class="nav-link" data-scroll-target="#basics">Basics</a></li>
  <li><a href="#disease-rates" id="toc-disease-rates" class="nav-link" data-scroll-target="#disease-rates">Disease Rates</a></li>
  <li><a href="#grouping-data" id="toc-grouping-data" class="nav-link" data-scroll-target="#grouping-data">Grouping Data</a></li>
  <li><a href="#plotting-the-data" id="toc-plotting-the-data" class="nav-link" data-scroll-target="#plotting-the-data">Plotting the Data</a></li>
  <li><a href="#public-health-data-wrap-up" id="toc-public-health-data-wrap-up" class="nav-link" data-scroll-target="#public-health-data-wrap-up">Public Health Data Wrap-Up</a></li>
  </ul></li>
  <li><a href="#pandas-tour" id="toc-pandas-tour" class="nav-link" data-scroll-target="#pandas-tour">Pandas Tour</a>
  <ul>
  <li><a href="#creating-data-frames" id="toc-creating-data-frames" class="nav-link" data-scroll-target="#creating-data-frames">Creating Data Frames</a></li>
  <li><a href="#subsetting-and-filtering-rows-and-columns" id="toc-subsetting-and-filtering-rows-and-columns" class="nav-link" data-scroll-target="#subsetting-and-filtering-rows-and-columns">Subsetting and Filtering Rows and Columns</a>
  <ul>
  <li><a href="#selecting-columns" id="toc-selecting-columns" class="nav-link" data-scroll-target="#selecting-columns">Selecting Columns</a></li>
  <li><a href="#filtering-data" id="toc-filtering-data" class="nav-link" data-scroll-target="#filtering-data">Filtering Data</a></li>
  <li><a href="#selecting-rows-and-columns" id="toc-selecting-rows-and-columns" class="nav-link" data-scroll-target="#selecting-rows-and-columns">Selecting Rows and Columns</a></li>
  <li><a href="#subsetting-rows" id="toc-subsetting-rows" class="nav-link" data-scroll-target="#subsetting-rows">Subsetting Rows</a></li>
  </ul></li>
  <li><a href="#reshaping-data" id="toc-reshaping-data" class="nav-link" data-scroll-target="#reshaping-data">Reshaping Data</a>
  <ul>
  <li><a href="#sorting-rows-and-columns" id="toc-sorting-rows-and-columns" class="nav-link" data-scroll-target="#sorting-rows-and-columns">Sorting Rows and Columns</a></li>
  <li><a href="#renaming-columns" id="toc-renaming-columns" class="nav-link" data-scroll-target="#renaming-columns">Renaming Columns</a></li>
  <li><a href="#dropping-columns" id="toc-dropping-columns" class="nav-link" data-scroll-target="#dropping-columns">Dropping Columns</a></li>
  <li><a href="#reindexing" id="toc-reindexing" class="nav-link" data-scroll-target="#reindexing">Reindexing</a></li>
  <li><a href="#concatenating" id="toc-concatenating" class="nav-link" data-scroll-target="#concatenating">Concatenating</a>
  <ul>
  <li><a href="#glue-rows" id="toc-glue-rows" class="nav-link" data-scroll-target="#glue-rows">Glue Rows</a></li>
  <li><a href="#glue-columns" id="toc-glue-columns" class="nav-link" data-scroll-target="#glue-columns">Glue Columns</a></li>
  </ul></li>
  <li><a href="#pivoting-and-melting" id="toc-pivoting-and-melting" class="nav-link" data-scroll-target="#pivoting-and-melting">Pivoting and Melting</a></li>
  </ul></li>
  <li><a href="#making-new-columns" id="toc-making-new-columns" class="nav-link" data-scroll-target="#making-new-columns">Making New Columns</a></li>
  <li><a href="#grouping-data-1" id="toc-grouping-data-1" class="nav-link" data-scroll-target="#grouping-data-1">Grouping Data</a></li>
  <li><a href="#combining-data-sets" id="toc-combining-data-sets" class="nav-link" data-scroll-target="#combining-data-sets">Combining Data Sets</a>
  <ul>
  <li><a href="#inner-join" id="toc-inner-join" class="nav-link" data-scroll-target="#inner-join">Inner Join</a></li>
  <li><a href="#outer-join" id="toc-outer-join" class="nav-link" data-scroll-target="#outer-join">Outer Join</a></li>
  <li><a href="#left-join" id="toc-left-join" class="nav-link" data-scroll-target="#left-join">Left Join</a></li>
  <li><a href="#right-join" id="toc-right-join" class="nav-link" data-scroll-target="#right-join">Right Join</a></li>
  </ul></li>
  <li><a href="#pandas-summary" id="toc-pandas-summary" class="nav-link" data-scroll-target="#pandas-summary">Pandas Summary</a></li>
  </ul></li>
  <li><a href="#wrap-up" id="toc-wrap-up" class="nav-link" data-scroll-target="#wrap-up">Wrap-Up</a></li>
  <li><a href="#suggested-readings" id="toc-suggested-readings" class="nav-link" data-scroll-target="#suggested-readings">Suggested Readings</a></li>
  <li><a href="#practice-problems" id="toc-practice-problems" class="nav-link" data-scroll-target="#practice-problems">Practice Problems</a>
  <ul>
  <li><a href="#sec-problem-7.1" id="toc-sec-problem-7.1" class="nav-link" data-scroll-target="#sec-problem-7.1">7.1</a></li>
  <li><a href="#sec-problem-7.2" id="toc-sec-problem-7.2" class="nav-link" data-scroll-target="#sec-problem-7.2">7.2</a></li>
  <li><a href="#sec-problem-7.3" id="toc-sec-problem-7.3" class="nav-link" data-scroll-target="#sec-problem-7.3">7.3</a></li>
  <li><a href="#sec-problem-7.4" id="toc-sec-problem-7.4" class="nav-link" data-scroll-target="#sec-problem-7.4">7.4</a></li>
  <li><a href="#sec-problem-7.5" id="toc-sec-problem-7.5" class="nav-link" data-scroll-target="#sec-problem-7.5">7.5</a></li>
  </ul></li>
  </ul>
<div class="toc-actions"><ul><li><a href="https://github.com/mooreryan/practical_python/issues/new" class="toc-action"><i class="bi bi-github"></i>Report an issue</a></li><li><a href="https://github.com/mooreryan/practical_python/blob/main/exploratory_data_analysis.qmd" class="toc-action"><i class="bi empty"></i>View source</a></li></ul></div></nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title"><span id="sec-eda" class="quarto-section-identifier"><span class="chapter-number">7</span>&nbsp; <span class="chapter-title">Intro to Exploratory Data Analysis with Python</span></span></h1>
</div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Ryan M. Moore, PhD </p>
          </div>
  </div>
    
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">April 1, 2025</p>
    </div>
  </div>
  
    <div>
    <div class="quarto-title-meta-heading">Modified</div>
    <div class="quarto-title-meta-contents">
      <p class="date-modified">April 24, 2025</p>
    </div>
  </div>
    
  </div>
  


</header>


<p>In this tutorial, we will learn the basics of exploratory data analysis in Python using Pandas (and just a tiny bit of seaborn).</p>
<section id="introduction" class="level2">
<h2 class="anchored" data-anchor-id="introduction">Introduction</h2>
<p>Exploratory Data Analysis, or EDA for short, is the process of building an understanding of your data. Before jumping into complex statistical analyses or building predictive models, EDA helps you understand what your data actually contains. It’s about visually and statistically summarizing your dataset, identifying patterns, spotting anomalies, and generating hypotheses.</p>
<p>EDA is a critical step in discovery-based research (sometimes known as foundational or exploratory research). As biologists, you will be familiar with hypothesis-driven research, whereby you start with the answer (the hypothesis), and try to work back to either prove or disprove it using the scientific method. Discovery-based research fits in even before hypothesis-driven research can begin, and is especially useful in cases where we know so little about the topic or system in question that we can’t craft useful hypotheses. One of its main goals is to build understanding of complex systems and generate hypotheses that can be tested in the more classical style of hypothesis-driven research, and EDA is a critical step in this process.</p>
<p>While EDA is often closely connected with discovery-based research, it is important to note that it is also a critical aspect of hypothesis-driven processes as well. For example, EDA can be a powerful tool for data quality control and assumption checking. It’s important to identify missing values, outliers, or other bad data that could compromise your analysis. Further, many statistical methods have assumptions about your data (like normality or constant variance of errors). EDA helps you verify if these assumptions are reasonable. Without proper exploration of your data, you might miss critical insights or, worse, draw incorrect conclusions from your analyses.</p>
<p>EDA has a role in helping you to build an intuition for your problem domain and your data. Regularly engaging with EDA will help you get a “feel” for your data and better understand its strengths and limitations. This intuition is critical for effective communication of your findings and for productive discussion of your data and problem domain with collaborators and stakeholders, or in publications.</p>
<section id="important-python-libraries-for-doing-eda" class="level3">
<h3 class="anchored" data-anchor-id="important-python-libraries-for-doing-eda">Important Python libraries for doing EDA</h3>
<p>Python has a strong set of libraries for exploratory data analysis (EDA). Here are some of the more common ones:</p>
<ul>
<li><a href="https://pandas.pydata.org/">Pandas</a>: Essential for working with tabular data, offering powerful DataFrame operations.</li>
<li><a href="https://numpy.org/">NumPy</a>: Provides fast array operations, forming the backbone of numerical computing in Python.</li>
<li><a href="https://scipy.org/">SciPy</a>: Useful for advanced statistical analysis and scientific computing.</li>
<li>Statsmodels: Extends on the statistical models provided by SciPy and provides and alternative interface.</li>
<li><a href="https://matplotlib.org/">Matplotlib</a>: A versatile library for creating static, animated, and interactive plots.</li>
<li><a href="https://seaborn.pydata.org/">Seaborn</a>: Simplifies statistical visualization with built-in themes and functions.</li>
<li><a href="https://jupyter.org/">Jupyter</a> and <a href="https://quarto.org/">Quarto</a>: Computational notebooks</li>
</ul>
<p>There are many more, but you will see these popping up again and again.</p>
</section>
<section id="why-were-using-pandas" class="level3">
<h3 class="anchored" data-anchor-id="why-were-using-pandas">Why We’re Using Pandas</h3>
<p>We’re using Pandas in this tutorial because:</p>
<ul>
<li>Works well with tabular data: Most biological data is structured like a spreadsheet or database table, and Pandas is built for handling this format.</li>
<li>Widely used: It’s a common tool in both academia and industry.</li>
<li>Relatively easy to use: Pandas provides a straightforward way to explore and manipulate data.</li>
<li>Has useful built-ins: Filtering, grouping, summarizing, and plotting data often take just a few lines of code.</li>
<li>Plays well with others: Pandas integrates smoothly with visualization and statistical tools.</li>
<li>Uses similar concepts to R’s <a href="https://www.tidyverse.org/">tidyverse</a>, which many of you have experience with from your previous coursework</li>
</ul>
<p>We’ll also use a bit of seaborn for visualization, as it can help with certain types of plots or when data is in a certain format.</p>
</section>
<section id="practical-examples" class="level3">
<h3 class="anchored" data-anchor-id="practical-examples">Practical Examples</h3>
<p>In this tutorial, we’ll learn exploratory data analysis (EDA) by working through real research questions with real datasets. Instead of covering every Pandas function upfront, we’ll introduce tools as we need them.</p>
<p>We’ll use datasets from the CORGIS collection, which offers accessible real-world data. Our examples include:</p>
<ul>
<li>State Demographics: Analyzing population patterns and economic indicators across the U.S.</li>
<li>Cancer Statistics: Examining cancer rates and their potential links to demographics.</li>
<li>Vaccination Impact: Exploring historical disease data to see how vaccines have shaped public health.</li>
</ul>
<p>These examples will help you learn Pandas in context, and use techniques that are similar to those you could use when getting started with a real research project.</p>
</section>
<section id="key-pandas-functionality" class="level3">
<h3 class="anchored" data-anchor-id="key-pandas-functionality">Key Pandas Functionality</h3>
<p>After working through the examples, we’ll summarize the essential Pandas operations, including:</p>
<ul>
<li>Loading and examining data</li>
<li>Selecting, filtering, and sorting</li>
<li>Grouping and aggregating</li>
<li>Basic visualization</li>
<li>Merging and joining datasets</li>
</ul>
<p>By focusing on core functions, you’ll gain practical skills without getting lost in the details. Let’s dive in!</p>
</section>
</section>
<section id="import-needed-libraries" class="level2">
<h2 class="anchored" data-anchor-id="import-needed-libraries">Import Needed Libraries</h2>
<p>The first thing we need to do is to import some libraries. We are only using numpy for a couple things in this tutorial: specifying data types the <code>NaN</code> value.</p>
<div id="5f38a444" class="cell" data-execution_count="1">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> numpy <span class="im">as</span> np</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> pandas <span class="im">as</span> pd</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> seaborn <span class="im">as</span> sns</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a>pd.options.mode.copy_on_write <span class="op">=</span> <span class="st">"warn"</span></span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a>pd.set_option(<span class="st">"display.max_rows"</span>, <span class="dv">10</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p><em>Note: While we don’t need to import it, you will also need to have SciPy installed to run the clustered heatmaps.</em></p>
</section>
<section id="state-demographics-data" class="level2">
<h2 class="anchored" data-anchor-id="state-demographics-data">State Demographics Data</h2>
<p>To start, we are going to look at the state demographics data from <a href="https://corgis-edu.github.io/corgis/">The Collection of Really Great, Interesting, Situated Datasets (CORGIS)</a>. CORGIS is a collection of datasets that have been cleaned and otherwise made ready for teaching/learning purposes. It was created in part by <a href="https://www.cis.udel.edu/people/faculty/austin-cory-bart/">Dr.&nbsp;Cory Bart</a>, who is a professor at UD.</p>
<p>This <a href="https://corgis-edu.github.io/corgis/csv/state_demographics/">state demographics data</a> includes a lot of info about states that we will be able to use to try and explain some of the cancer trends that we see in the next section. To give you an idea of the kinds of data we’ll be working with, here are some of the data categories:</p>
<ul>
<li>Population</li>
<li>Age</li>
<li>Ethnicities</li>
<li>Housing</li>
<li>Income</li>
<li>Employment</li>
</ul>
<section id="importing-data" class="level3">
<h3 class="anchored" data-anchor-id="importing-data">Importing Data</h3>
<p>The first thing we need to do is import the data. To do that, we can use the <a href="https://pandas.pydata.org/docs/reference/api/pandas.read_csv.html">read_csv()</a> function:</p>
<div id="abc29c25" class="cell" data-execution_count="2">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a>state_demographics <span class="op">=</span> pd.read_csv(<span class="st">"./_data/state_demographics.csv"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="data-overview" class="level3">
<h3 class="anchored" data-anchor-id="data-overview">Data Overview</h3>
<p>After importing data, it’s always a good idea to check out its basic info, things like shape, column names, basic summary statistics, etc.</p>
<p>To get the number of rows and columns in a data frame, we use [shape()][https://pandas.pydata.org/docs/reference/api/pandas.DataFrame.shape.html]:</p>
<div id="236c1d5e" class="cell" data-execution_count="3">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a>state_demographics.shape</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="3">
<pre><code>(51, 48)</code></pre>
</div>
</div>
<p>That’s not too much data, so let’s look at the table directly. We will use the <a href="https://pandas.pydata.org/docs/reference/api/pandas.DataFrame.head.html#pandas.DataFrame.head">head()</a> function to take only the first few rows:</p>
<div id="ddd659ba" class="cell" data-execution_count="4">
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a>state_demographics.head()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="4">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">State</th>
<th data-quarto-table-cell-role="th">Population.Population Percent Change</th>
<th data-quarto-table-cell-role="th">Population.2014 Population</th>
<th data-quarto-table-cell-role="th">Population.2010 Population</th>
<th data-quarto-table-cell-role="th">Age.Percent Under 5 Years</th>
<th data-quarto-table-cell-role="th">Age.Percent Under 18 Years</th>
<th data-quarto-table-cell-role="th">Age.Percent 65 and Older</th>
<th data-quarto-table-cell-role="th">Miscellaneous.Percent Female</th>
<th data-quarto-table-cell-role="th">Ethnicities.White Alone</th>
<th data-quarto-table-cell-role="th">Ethnicities.Black Alone</th>
<th data-quarto-table-cell-role="th">...</th>
<th data-quarto-table-cell-role="th">Employment.Nonemployer Establishments</th>
<th data-quarto-table-cell-role="th">Employment.Firms.Total</th>
<th data-quarto-table-cell-role="th">Employment.Firms.Men-Owned</th>
<th data-quarto-table-cell-role="th">Employment.Firms.Women-Owned</th>
<th data-quarto-table-cell-role="th">Employment.Firms.Minority-Owned</th>
<th data-quarto-table-cell-role="th">Employment.Firms.Nonminority-Owned</th>
<th data-quarto-table-cell-role="th">Employment.Firms.Veteran-Owned</th>
<th data-quarto-table-cell-role="th">Employment.Firms.Nonveteran-Owned</th>
<th data-quarto-table-cell-role="th">Population.Population per Square Mile</th>
<th data-quarto-table-cell-role="th">Miscellaneous.Land Area</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>Connecticut</td>
<td>-10.2</td>
<td>3605944</td>
<td>3574097</td>
<td>5.1</td>
<td>20.4</td>
<td>17.7</td>
<td>51.2</td>
<td>79.7</td>
<td>12.2</td>
<td>...</td>
<td>286874</td>
<td>326693</td>
<td>187845</td>
<td>106678</td>
<td>56113</td>
<td>259614</td>
<td>31056</td>
<td>281182</td>
<td>738.1</td>
<td>4842.36</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>Delaware</td>
<td>8.4</td>
<td>989948</td>
<td>897934</td>
<td>5.6</td>
<td>20.9</td>
<td>19.4</td>
<td>51.7</td>
<td>69.2</td>
<td>23.2</td>
<td>...</td>
<td>68623</td>
<td>73418</td>
<td>38328</td>
<td>23964</td>
<td>14440</td>
<td>54782</td>
<td>7206</td>
<td>60318</td>
<td>460.8</td>
<td>1948.54</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2</td>
<td>District of Columbia</td>
<td>17.3</td>
<td>689545</td>
<td>601723</td>
<td>6.4</td>
<td>18.2</td>
<td>12.4</td>
<td>52.6</td>
<td>46.0</td>
<td>46.0</td>
<td>...</td>
<td>62583</td>
<td>63408</td>
<td>30237</td>
<td>27064</td>
<td>29983</td>
<td>29521</td>
<td>5070</td>
<td>54217</td>
<td>9856.5</td>
<td>61.05</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">3</td>
<td>Florida</td>
<td>14.2</td>
<td>21538187</td>
<td>18801310</td>
<td>5.3</td>
<td>19.7</td>
<td>20.9</td>
<td>51.1</td>
<td>77.3</td>
<td>16.9</td>
<td>...</td>
<td>2388050</td>
<td>2100187</td>
<td>1084885</td>
<td>807817</td>
<td>926112</td>
<td>1121749</td>
<td>185756</td>
<td>1846686</td>
<td>350.6</td>
<td>53624.76</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">4</td>
<td>Georgia</td>
<td>9.6</td>
<td>10711908</td>
<td>9687653</td>
<td>6.2</td>
<td>23.6</td>
<td>14.3</td>
<td>51.4</td>
<td>60.2</td>
<td>32.6</td>
<td>...</td>
<td>955621</td>
<td>929864</td>
<td>480578</td>
<td>376506</td>
<td>371588</td>
<td>538893</td>
<td>96787</td>
<td>800585</td>
<td>168.4</td>
<td>57513.49</td>
</tr>
</tbody>
</table>

<p>5 rows × 48 columns</p>
</div>
</div>
</div>
<p>To get summary statistics of the numeric rows of a data frame, we use <a href="https://pandas.pydata.org/docs/reference/api/pandas.DataFrame.describe.html#pandas.DataFrame.describe">describe()</a>. This can help you to get an overall sense of your data.</p>
<div id="71e1747e" class="cell" data-execution_count="5">
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a>state_demographics.describe()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="5">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">Population.Population Percent Change</th>
<th data-quarto-table-cell-role="th">Population.2014 Population</th>
<th data-quarto-table-cell-role="th">Population.2010 Population</th>
<th data-quarto-table-cell-role="th">Age.Percent Under 5 Years</th>
<th data-quarto-table-cell-role="th">Age.Percent Under 18 Years</th>
<th data-quarto-table-cell-role="th">Age.Percent 65 and Older</th>
<th data-quarto-table-cell-role="th">Miscellaneous.Percent Female</th>
<th data-quarto-table-cell-role="th">Ethnicities.White Alone</th>
<th data-quarto-table-cell-role="th">Ethnicities.Black Alone</th>
<th data-quarto-table-cell-role="th">Ethnicities.American Indian and Alaska Native Alone</th>
<th data-quarto-table-cell-role="th">...</th>
<th data-quarto-table-cell-role="th">Employment.Nonemployer Establishments</th>
<th data-quarto-table-cell-role="th">Employment.Firms.Total</th>
<th data-quarto-table-cell-role="th">Employment.Firms.Men-Owned</th>
<th data-quarto-table-cell-role="th">Employment.Firms.Women-Owned</th>
<th data-quarto-table-cell-role="th">Employment.Firms.Minority-Owned</th>
<th data-quarto-table-cell-role="th">Employment.Firms.Nonminority-Owned</th>
<th data-quarto-table-cell-role="th">Employment.Firms.Veteran-Owned</th>
<th data-quarto-table-cell-role="th">Employment.Firms.Nonveteran-Owned</th>
<th data-quarto-table-cell-role="th">Population.Population per Square Mile</th>
<th data-quarto-table-cell-role="th">Miscellaneous.Land Area</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">count</td>
<td>51.000000</td>
<td>5.100000e+01</td>
<td>5.100000e+01</td>
<td>51.000000</td>
<td>51.000000</td>
<td>51.000000</td>
<td>51.000000</td>
<td>51.000000</td>
<td>51.000000</td>
<td>51.000000</td>
<td>...</td>
<td>5.100000e+01</td>
<td>5.100000e+01</td>
<td>5.100000e+01</td>
<td>5.100000e+01</td>
<td>5.100000e+01</td>
<td>5.100000e+01</td>
<td>51.000000</td>
<td>5.100000e+01</td>
<td>51.000000</td>
<td>51.000000</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">mean</td>
<td>5.147059</td>
<td>6.499006e+06</td>
<td>6.053834e+06</td>
<td>5.958824</td>
<td>22.139216</td>
<td>16.878431</td>
<td>50.598039</td>
<td>78.068627</td>
<td>11.872549</td>
<td>2.005882</td>
<td>...</td>
<td>5.193242e+05</td>
<td>5.452549e+05</td>
<td>2.923801e+05</td>
<td>1.938421e+05</td>
<td>1.560321e+05</td>
<td>3.737521e+05</td>
<td>49611.882353</td>
<td>4.733260e+05</td>
<td>384.403922</td>
<td>69253.047843</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">std</td>
<td>6.870760</td>
<td>7.408023e+06</td>
<td>6.823984e+06</td>
<td>0.607018</td>
<td>1.996805</td>
<td>2.008812</td>
<td>0.836777</td>
<td>13.024907</td>
<td>10.704057</td>
<td>3.105441</td>
<td>...</td>
<td>6.688605e+05</td>
<td>6.614342e+05</td>
<td>3.524479e+05</td>
<td>2.468993e+05</td>
<td>2.992485e+05</td>
<td>3.615840e+05</td>
<td>51941.581563</td>
<td>5.892086e+05</td>
<td>1377.354603</td>
<td>85526.076023</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">min</td>
<td>-13.300000</td>
<td>5.768510e+05</td>
<td>5.636260e+05</td>
<td>4.700000</td>
<td>18.200000</td>
<td>11.400000</td>
<td>47.900000</td>
<td>25.500000</td>
<td>0.600000</td>
<td>0.300000</td>
<td>...</td>
<td>5.304200e+04</td>
<td>6.242700e+04</td>
<td>3.003900e+04</td>
<td>1.934400e+04</td>
<td>2.354000e+03</td>
<td>2.952100e+04</td>
<td>5070.000000</td>
<td>5.135300e+04</td>
<td>1.200000</td>
<td>61.050000</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">25%</td>
<td>1.950000</td>
<td>1.816411e+06</td>
<td>1.696962e+06</td>
<td>5.700000</td>
<td>21.050000</td>
<td>16.100000</td>
<td>50.200000</td>
<td>71.250000</td>
<td>3.650000</td>
<td>0.500000</td>
<td>...</td>
<td>1.216330e+05</td>
<td>1.431060e+05</td>
<td>7.392400e+04</td>
<td>4.478700e+04</td>
<td>1.472200e+04</td>
<td>1.261350e+05</td>
<td>14892.500000</td>
<td>1.200765e+05</td>
<td>45.800000</td>
<td>33334.515000</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">50%</td>
<td>4.100000</td>
<td>4.505836e+06</td>
<td>4.339367e+06</td>
<td>6.000000</td>
<td>22.100000</td>
<td>16.900000</td>
<td>50.700000</td>
<td>80.600000</td>
<td>8.500000</td>
<td>0.700000</td>
<td>...</td>
<td>3.026530e+05</td>
<td>3.393050e+05</td>
<td>1.878450e+05</td>
<td>1.230150e+05</td>
<td>6.125200e+04</td>
<td>2.762690e+05</td>
<td>36273.000000</td>
<td>2.887900e+05</td>
<td>101.200000</td>
<td>53624.760000</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">75%</td>
<td>9.800000</td>
<td>7.428392e+06</td>
<td>6.636084e+06</td>
<td>6.200000</td>
<td>23.250000</td>
<td>17.850000</td>
<td>51.200000</td>
<td>86.900000</td>
<td>16.300000</td>
<td>1.600000</td>
<td>...</td>
<td>5.568705e+05</td>
<td>5.790585e+05</td>
<td>3.276305e+05</td>
<td>2.041645e+05</td>
<td>1.288060e+05</td>
<td>4.462370e+05</td>
<td>58167.500000</td>
<td>4.975955e+05</td>
<td>221.450000</td>
<td>80692.730000</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">max</td>
<td>17.300000</td>
<td>3.953822e+07</td>
<td>3.725396e+07</td>
<td>7.700000</td>
<td>29.000000</td>
<td>21.200000</td>
<td>52.600000</td>
<td>94.400000</td>
<td>46.000000</td>
<td>15.600000</td>
<td>...</td>
<td>3.453769e+06</td>
<td>3.548449e+06</td>
<td>1.852580e+06</td>
<td>1.320085e+06</td>
<td>1.619857e+06</td>
<td>1.819107e+06</td>
<td>252377.000000</td>
<td>3.176341e+06</td>
<td>9856.500000</td>
<td>570640.950000</td>
</tr>
</tbody>
</table>

<p>8 rows × 47 columns</p>
</div>
</div>
</div>
<p>Do you notice how the values in the table have a lot of precision, and are all using scientific notation? Sometimes this is what we want, but we really don’t need all that here, and it’s only serving to clutter up the view. We can control the precision of the numbers in the table using the <code>.style.format()</code> pattern. Since we have some large numbers in there, let’s add a thousands place separator as well.</p>
<div id="ca41ddc4" class="cell" data-execution_count="6">
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a>state_demographics.describe().style.<span class="bu">format</span>(</span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Set precision of numbers to 2 decimal places</span></span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a>    precision<span class="op">=</span><span class="dv">2</span>,</span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Use a comma to separate out the thousands in the big numbers</span></span>
<span id="cb7-5"><a href="#cb7-5" aria-hidden="true" tabindex="-1"></a>    thousands<span class="op">=</span><span class="st">","</span>,</span>
<span id="cb7-6"><a href="#cb7-6" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="6">
<style type="text/css">
</style>

<table id="T_e3690" class="caption-top table table-sm table-striped small" data-quarto-postprocess="true">
<thead>
<tr class="header">
<th class="blank level0" data-quarto-table-cell-role="th">&nbsp;</th>
<th id="T_e3690_level0_col0" class="col_heading level0 col0" data-quarto-table-cell-role="th">Population.Population Percent Change</th>
<th id="T_e3690_level0_col1" class="col_heading level0 col1" data-quarto-table-cell-role="th">Population.2014 Population</th>
<th id="T_e3690_level0_col2" class="col_heading level0 col2" data-quarto-table-cell-role="th">Population.2010 Population</th>
<th id="T_e3690_level0_col3" class="col_heading level0 col3" data-quarto-table-cell-role="th">Age.Percent Under 5 Years</th>
<th id="T_e3690_level0_col4" class="col_heading level0 col4" data-quarto-table-cell-role="th">Age.Percent Under 18 Years</th>
<th id="T_e3690_level0_col5" class="col_heading level0 col5" data-quarto-table-cell-role="th">Age.Percent 65 and Older</th>
<th id="T_e3690_level0_col6" class="col_heading level0 col6" data-quarto-table-cell-role="th">Miscellaneous.Percent Female</th>
<th id="T_e3690_level0_col7" class="col_heading level0 col7" data-quarto-table-cell-role="th">Ethnicities.White Alone</th>
<th id="T_e3690_level0_col8" class="col_heading level0 col8" data-quarto-table-cell-role="th">Ethnicities.Black Alone</th>
<th id="T_e3690_level0_col9" class="col_heading level0 col9" data-quarto-table-cell-role="th">Ethnicities.American Indian and Alaska Native Alone</th>
<th id="T_e3690_level0_col10" class="col_heading level0 col10" data-quarto-table-cell-role="th">Ethnicities.Asian Alone</th>
<th id="T_e3690_level0_col11" class="col_heading level0 col11" data-quarto-table-cell-role="th">Ethnicities.Native Hawaiian and Other Pacific Islander Alone</th>
<th id="T_e3690_level0_col12" class="col_heading level0 col12" data-quarto-table-cell-role="th">Ethnicities.Two or More Races</th>
<th id="T_e3690_level0_col13" class="col_heading level0 col13" data-quarto-table-cell-role="th">Ethnicities.Hispanic or Latino</th>
<th id="T_e3690_level0_col14" class="col_heading level0 col14" data-quarto-table-cell-role="th">Ethnicities.White Alone, not Hispanic or Latino</th>
<th id="T_e3690_level0_col15" class="col_heading level0 col15" data-quarto-table-cell-role="th">Miscellaneous.Veterans</th>
<th id="T_e3690_level0_col16" class="col_heading level0 col16" data-quarto-table-cell-role="th">Miscellaneous.Foreign Born</th>
<th id="T_e3690_level0_col17" class="col_heading level0 col17" data-quarto-table-cell-role="th">Housing.Housing Units</th>
<th id="T_e3690_level0_col18" class="col_heading level0 col18" data-quarto-table-cell-role="th">Housing.Homeownership Rate</th>
<th id="T_e3690_level0_col19" class="col_heading level0 col19" data-quarto-table-cell-role="th">Housing.Median Value of Owner-Occupied Units</th>
<th id="T_e3690_level0_col20" class="col_heading level0 col20" data-quarto-table-cell-role="th">Housing.Households</th>
<th id="T_e3690_level0_col21" class="col_heading level0 col21" data-quarto-table-cell-role="th">Housing.Persons per Household</th>
<th id="T_e3690_level0_col22" class="col_heading level0 col22" data-quarto-table-cell-role="th">Miscellaneous.Living in Same House +1 Years</th>
<th id="T_e3690_level0_col23" class="col_heading level0 col23" data-quarto-table-cell-role="th">Miscellaneous.Language Other than English at Home</th>
<th id="T_e3690_level0_col24" class="col_heading level0 col24" data-quarto-table-cell-role="th">Housing.Households with a computer</th>
<th id="T_e3690_level0_col25" class="col_heading level0 col25" data-quarto-table-cell-role="th">Housing.Households with a Internet</th>
<th id="T_e3690_level0_col26" class="col_heading level0 col26" data-quarto-table-cell-role="th">Education.High School or Higher</th>
<th id="T_e3690_level0_col27" class="col_heading level0 col27" data-quarto-table-cell-role="th">Education.Bachelor's Degree or Higher</th>
<th id="T_e3690_level0_col28" class="col_heading level0 col28" data-quarto-table-cell-role="th">Miscellaneous.Percent Under 66 Years With a Disability</th>
<th id="T_e3690_level0_col29" class="col_heading level0 col29" data-quarto-table-cell-role="th">Miscellaneous.Percent Under 65 Years Without Health insurance</th>
<th id="T_e3690_level0_col30" class="col_heading level0 col30" data-quarto-table-cell-role="th">Sales.Accommodation and Food Services Sales</th>
<th id="T_e3690_level0_col31" class="col_heading level0 col31" data-quarto-table-cell-role="th">Miscellaneous.Manufacturers Shipments</th>
<th id="T_e3690_level0_col32" class="col_heading level0 col32" data-quarto-table-cell-role="th">Sales.Retail Sales</th>
<th id="T_e3690_level0_col33" class="col_heading level0 col33" data-quarto-table-cell-role="th">Miscellaneous.Mean Travel Time to Work</th>
<th id="T_e3690_level0_col34" class="col_heading level0 col34" data-quarto-table-cell-role="th">Income.Median Houseold Income</th>
<th id="T_e3690_level0_col35" class="col_heading level0 col35" data-quarto-table-cell-role="th">Income.Per Capita Income</th>
<th id="T_e3690_level0_col36" class="col_heading level0 col36" data-quarto-table-cell-role="th">Income.Persons Below Poverty Level</th>
<th id="T_e3690_level0_col37" class="col_heading level0 col37" data-quarto-table-cell-role="th">Employment.Nonemployer Establishments</th>
<th id="T_e3690_level0_col38" class="col_heading level0 col38" data-quarto-table-cell-role="th">Employment.Firms.Total</th>
<th id="T_e3690_level0_col39" class="col_heading level0 col39" data-quarto-table-cell-role="th">Employment.Firms.Men-Owned</th>
<th id="T_e3690_level0_col40" class="col_heading level0 col40" data-quarto-table-cell-role="th">Employment.Firms.Women-Owned</th>
<th id="T_e3690_level0_col41" class="col_heading level0 col41" data-quarto-table-cell-role="th">Employment.Firms.Minority-Owned</th>
<th id="T_e3690_level0_col42" class="col_heading level0 col42" data-quarto-table-cell-role="th">Employment.Firms.Nonminority-Owned</th>
<th id="T_e3690_level0_col43" class="col_heading level0 col43" data-quarto-table-cell-role="th">Employment.Firms.Veteran-Owned</th>
<th id="T_e3690_level0_col44" class="col_heading level0 col44" data-quarto-table-cell-role="th">Employment.Firms.Nonveteran-Owned</th>
<th id="T_e3690_level0_col45" class="col_heading level0 col45" data-quarto-table-cell-role="th">Population.Population per Square Mile</th>
<th id="T_e3690_level0_col46" class="col_heading level0 col46" data-quarto-table-cell-role="th">Miscellaneous.Land Area</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td id="T_e3690_level0_row0" class="row_heading level0 row0" data-quarto-table-cell-role="th">count</td>
<td id="T_e3690_row0_col0" class="data row0 col0">51.00</td>
<td id="T_e3690_row0_col1" class="data row0 col1">51.00</td>
<td id="T_e3690_row0_col2" class="data row0 col2">51.00</td>
<td id="T_e3690_row0_col3" class="data row0 col3">51.00</td>
<td id="T_e3690_row0_col4" class="data row0 col4">51.00</td>
<td id="T_e3690_row0_col5" class="data row0 col5">51.00</td>
<td id="T_e3690_row0_col6" class="data row0 col6">51.00</td>
<td id="T_e3690_row0_col7" class="data row0 col7">51.00</td>
<td id="T_e3690_row0_col8" class="data row0 col8">51.00</td>
<td id="T_e3690_row0_col9" class="data row0 col9">51.00</td>
<td id="T_e3690_row0_col10" class="data row0 col10">51.00</td>
<td id="T_e3690_row0_col11" class="data row0 col11">51.00</td>
<td id="T_e3690_row0_col12" class="data row0 col12">51.00</td>
<td id="T_e3690_row0_col13" class="data row0 col13">51.00</td>
<td id="T_e3690_row0_col14" class="data row0 col14">51.00</td>
<td id="T_e3690_row0_col15" class="data row0 col15">51.00</td>
<td id="T_e3690_row0_col16" class="data row0 col16">51.00</td>
<td id="T_e3690_row0_col17" class="data row0 col17">51.00</td>
<td id="T_e3690_row0_col18" class="data row0 col18">51.00</td>
<td id="T_e3690_row0_col19" class="data row0 col19">51.00</td>
<td id="T_e3690_row0_col20" class="data row0 col20">51.00</td>
<td id="T_e3690_row0_col21" class="data row0 col21">51.00</td>
<td id="T_e3690_row0_col22" class="data row0 col22">51.00</td>
<td id="T_e3690_row0_col23" class="data row0 col23">51.00</td>
<td id="T_e3690_row0_col24" class="data row0 col24">51.00</td>
<td id="T_e3690_row0_col25" class="data row0 col25">51.00</td>
<td id="T_e3690_row0_col26" class="data row0 col26">51.00</td>
<td id="T_e3690_row0_col27" class="data row0 col27">51.00</td>
<td id="T_e3690_row0_col28" class="data row0 col28">51.00</td>
<td id="T_e3690_row0_col29" class="data row0 col29">51.00</td>
<td id="T_e3690_row0_col30" class="data row0 col30">51.00</td>
<td id="T_e3690_row0_col31" class="data row0 col31">49.00</td>
<td id="T_e3690_row0_col32" class="data row0 col32">51.00</td>
<td id="T_e3690_row0_col33" class="data row0 col33">51.00</td>
<td id="T_e3690_row0_col34" class="data row0 col34">51.00</td>
<td id="T_e3690_row0_col35" class="data row0 col35">51.00</td>
<td id="T_e3690_row0_col36" class="data row0 col36">51.00</td>
<td id="T_e3690_row0_col37" class="data row0 col37">51.00</td>
<td id="T_e3690_row0_col38" class="data row0 col38">51.00</td>
<td id="T_e3690_row0_col39" class="data row0 col39">51.00</td>
<td id="T_e3690_row0_col40" class="data row0 col40">51.00</td>
<td id="T_e3690_row0_col41" class="data row0 col41">51.00</td>
<td id="T_e3690_row0_col42" class="data row0 col42">51.00</td>
<td id="T_e3690_row0_col43" class="data row0 col43">51.00</td>
<td id="T_e3690_row0_col44" class="data row0 col44">51.00</td>
<td id="T_e3690_row0_col45" class="data row0 col45">51.00</td>
<td id="T_e3690_row0_col46" class="data row0 col46">51.00</td>
</tr>
<tr class="even">
<td id="T_e3690_level0_row1" class="row_heading level0 row1" data-quarto-table-cell-role="th">mean</td>
<td id="T_e3690_row1_col0" class="data row1 col0">5.15</td>
<td id="T_e3690_row1_col1" class="data row1 col1">6,499,005.51</td>
<td id="T_e3690_row1_col2" class="data row1 col2">6,053,834.08</td>
<td id="T_e3690_row1_col3" class="data row1 col3">5.96</td>
<td id="T_e3690_row1_col4" class="data row1 col4">22.14</td>
<td id="T_e3690_row1_col5" class="data row1 col5">16.88</td>
<td id="T_e3690_row1_col6" class="data row1 col6">50.60</td>
<td id="T_e3690_row1_col7" class="data row1 col7">78.07</td>
<td id="T_e3690_row1_col8" class="data row1 col8">11.87</td>
<td id="T_e3690_row1_col9" class="data row1 col9">2.01</td>
<td id="T_e3690_row1_col10" class="data row1 col10">4.55</td>
<td id="T_e3690_row1_col11" class="data row1 col11">0.40</td>
<td id="T_e3690_row1_col12" class="data row1 col12">3.11</td>
<td id="T_e3690_row1_col13" class="data row1 col13">12.25</td>
<td id="T_e3690_row1_col14" class="data row1 col14">67.67</td>
<td id="T_e3690_row1_col15" class="data row1 col15">357,457.29</td>
<td id="T_e3690_row1_col16" class="data row1 col16">9.41</td>
<td id="T_e3690_row1_col17" class="data row1 col17">2,738,906.75</td>
<td id="T_e3690_row1_col18" class="data row1 col18">65.67</td>
<td id="T_e3690_row1_col19" class="data row1 col19">233,176.47</td>
<td id="T_e3690_row1_col20" class="data row1 col20">2,367,765.65</td>
<td id="T_e3690_row1_col21" class="data row1 col21">2.56</td>
<td id="T_e3690_row1_col22" class="data row1 col22">85.24</td>
<td id="T_e3690_row1_col23" class="data row1 col23">14.98</td>
<td id="T_e3690_row1_col24" class="data row1 col24">89.98</td>
<td id="T_e3690_row1_col25" class="data row1 col25">82.05</td>
<td id="T_e3690_row1_col26" class="data row1 col26">89.54</td>
<td id="T_e3690_row1_col27" class="data row1 col27">31.77</td>
<td id="T_e3690_row1_col28" class="data row1 col28">9.16</td>
<td id="T_e3690_row1_col29" class="data row1 col29">9.96</td>
<td id="T_e3690_row1_col30" class="data row1 col30">13,885,070.55</td>
<td id="T_e3690_row1_col31" class="data row1 col31">116,411,562.24</td>
<td id="T_e3690_row1_col32" class="data row1 col32">82,741,605.31</td>
<td id="T_e3690_row1_col33" class="data row1 col33">24.80</td>
<td id="T_e3690_row1_col34" class="data row1 col34">63,097.86</td>
<td id="T_e3690_row1_col35" class="data row1 col35">33,743.06</td>
<td id="T_e3690_row1_col36" class="data row1 col36">12.17</td>
<td id="T_e3690_row1_col37" class="data row1 col37">519,324.16</td>
<td id="T_e3690_row1_col38" class="data row1 col38">545,254.90</td>
<td id="T_e3690_row1_col39" class="data row1 col39">292,380.10</td>
<td id="T_e3690_row1_col40" class="data row1 col40">193,842.12</td>
<td id="T_e3690_row1_col41" class="data row1 col41">156,032.14</td>
<td id="T_e3690_row1_col42" class="data row1 col42">373,752.12</td>
<td id="T_e3690_row1_col43" class="data row1 col43">49,611.88</td>
<td id="T_e3690_row1_col44" class="data row1 col44">473,326.00</td>
<td id="T_e3690_row1_col45" class="data row1 col45">384.40</td>
<td id="T_e3690_row1_col46" class="data row1 col46">69,253.05</td>
</tr>
<tr class="odd">
<td id="T_e3690_level0_row2" class="row_heading level0 row2" data-quarto-table-cell-role="th">std</td>
<td id="T_e3690_row2_col0" class="data row2 col0">6.87</td>
<td id="T_e3690_row2_col1" class="data row2 col1">7,408,022.55</td>
<td id="T_e3690_row2_col2" class="data row2 col2">6,823,984.27</td>
<td id="T_e3690_row2_col3" class="data row2 col3">0.61</td>
<td id="T_e3690_row2_col4" class="data row2 col4">2.00</td>
<td id="T_e3690_row2_col5" class="data row2 col5">2.01</td>
<td id="T_e3690_row2_col6" class="data row2 col6">0.84</td>
<td id="T_e3690_row2_col7" class="data row2 col7">13.02</td>
<td id="T_e3690_row2_col8" class="data row2 col8">10.70</td>
<td id="T_e3690_row2_col9" class="data row2 col9">3.11</td>
<td id="T_e3690_row2_col10" class="data row2 col10">5.52</td>
<td id="T_e3690_row2_col11" class="data row2 col11">1.41</td>
<td id="T_e3690_row2_col12" class="data row2 col12">3.21</td>
<td id="T_e3690_row2_col13" class="data row2 col13">10.35</td>
<td id="T_e3690_row2_col14" class="data row2 col14">16.18</td>
<td id="T_e3690_row2_col15" class="data row2 col15">351,951.29</td>
<td id="T_e3690_row2_col16" class="data row2 col16">6.11</td>
<td id="T_e3690_row2_col17" class="data row2 col17">2,888,415.00</td>
<td id="T_e3690_row2_col18" class="data row2 col18">5.44</td>
<td id="T_e3690_row2_col19" class="data row2 col19">109,205.70</td>
<td id="T_e3690_row2_col20" class="data row2 col20">2,531,758.54</td>
<td id="T_e3690_row2_col21" class="data row2 col21">0.17</td>
<td id="T_e3690_row2_col22" class="data row2 col22">2.06</td>
<td id="T_e3690_row2_col23" class="data row2 col23">9.77</td>
<td id="T_e3690_row2_col24" class="data row2 col24">2.55</td>
<td id="T_e3690_row2_col25" class="data row2 col25">3.79</td>
<td id="T_e3690_row2_col26" class="data row2 col26">2.70</td>
<td id="T_e3690_row2_col27" class="data row2 col27">6.43</td>
<td id="T_e3690_row2_col28" class="data row2 col28">1.77</td>
<td id="T_e3690_row2_col29" class="data row2 col29">3.64</td>
<td id="T_e3690_row2_col30" class="data row2 col30">16,274,397.82</td>
<td id="T_e3690_row2_col31" class="data row2 col31">131,704,461.49</td>
<td id="T_e3690_row2_col32" class="data row2 col32">91,289,768.45</td>
<td id="T_e3690_row2_col33" class="data row2 col33">3.98</td>
<td id="T_e3690_row2_col34" class="data row2 col34">10,715.13</td>
<td id="T_e3690_row2_col35" class="data row2 col35">5,689.58</td>
<td id="T_e3690_row2_col36" class="data row2 col36">2.68</td>
<td id="T_e3690_row2_col37" class="data row2 col37">668,860.54</td>
<td id="T_e3690_row2_col38" class="data row2 col38">661,434.25</td>
<td id="T_e3690_row2_col39" class="data row2 col39">352,447.95</td>
<td id="T_e3690_row2_col40" class="data row2 col40">246,899.31</td>
<td id="T_e3690_row2_col41" class="data row2 col41">299,248.47</td>
<td id="T_e3690_row2_col42" class="data row2 col42">361,584.05</td>
<td id="T_e3690_row2_col43" class="data row2 col43">51,941.58</td>
<td id="T_e3690_row2_col44" class="data row2 col44">589,208.57</td>
<td id="T_e3690_row2_col45" class="data row2 col45">1,377.35</td>
<td id="T_e3690_row2_col46" class="data row2 col46">85,526.08</td>
</tr>
<tr class="even">
<td id="T_e3690_level0_row3" class="row_heading level0 row3" data-quarto-table-cell-role="th">min</td>
<td id="T_e3690_row3_col0" class="data row3 col0">-13.30</td>
<td id="T_e3690_row3_col1" class="data row3 col1">576,851.00</td>
<td id="T_e3690_row3_col2" class="data row3 col2">563,626.00</td>
<td id="T_e3690_row3_col3" class="data row3 col3">4.70</td>
<td id="T_e3690_row3_col4" class="data row3 col4">18.20</td>
<td id="T_e3690_row3_col5" class="data row3 col5">11.40</td>
<td id="T_e3690_row3_col6" class="data row3 col6">47.90</td>
<td id="T_e3690_row3_col7" class="data row3 col7">25.50</td>
<td id="T_e3690_row3_col8" class="data row3 col8">0.60</td>
<td id="T_e3690_row3_col9" class="data row3 col9">0.30</td>
<td id="T_e3690_row3_col10" class="data row3 col10">0.80</td>
<td id="T_e3690_row3_col11" class="data row3 col11">0.00</td>
<td id="T_e3690_row3_col12" class="data row3 col12">1.30</td>
<td id="T_e3690_row3_col13" class="data row3 col13">1.70</td>
<td id="T_e3690_row3_col14" class="data row3 col14">21.70</td>
<td id="T_e3690_row3_col15" class="data row3 col15">26,156.00</td>
<td id="T_e3690_row3_col16" class="data row3 col16">1.70</td>
<td id="T_e3690_row3_col17" class="data row3 col17">280,291.00</td>
<td id="T_e3690_row3_col18" class="data row3 col18">41.60</td>
<td id="T_e3690_row3_col19" class="data row3 col19">119,000.00</td>
<td id="T_e3690_row3_col20" class="data row3 col20">230,101.00</td>
<td id="T_e3690_row3_col21" class="data row3 col21">2.30</td>
<td id="T_e3690_row3_col22" class="data row3 col22">80.50</td>
<td id="T_e3690_row3_col23" class="data row3 col23">2.60</td>
<td id="T_e3690_row3_col24" class="data row3 col24">83.80</td>
<td id="T_e3690_row3_col25" class="data row3 col25">71.50</td>
<td id="T_e3690_row3_col26" class="data row3 col26">83.30</td>
<td id="T_e3690_row3_col27" class="data row3 col27">20.60</td>
<td id="T_e3690_row3_col28" class="data row3 col28">6.40</td>
<td id="T_e3690_row3_col29" class="data row3 col29">3.50</td>
<td id="T_e3690_row3_col30" class="data row3 col30">1,564,272.00</td>
<td id="T_e3690_row3_col31" class="data row3 col31">309,832.00</td>
<td id="T_e3690_row3_col32" class="data row3 col32">4,439,933.00</td>
<td id="T_e3690_row3_col33" class="data row3 col33">17.20</td>
<td id="T_e3690_row3_col34" class="data row3 col34">45,081.00</td>
<td id="T_e3690_row3_col35" class="data row3 col35">24,369.00</td>
<td id="T_e3690_row3_col36" class="data row3 col36">7.30</td>
<td id="T_e3690_row3_col37" class="data row3 col37">53,042.00</td>
<td id="T_e3690_row3_col38" class="data row3 col38">62,427.00</td>
<td id="T_e3690_row3_col39" class="data row3 col39">30,039.00</td>
<td id="T_e3690_row3_col40" class="data row3 col40">19,344.00</td>
<td id="T_e3690_row3_col41" class="data row3 col41">2,354.00</td>
<td id="T_e3690_row3_col42" class="data row3 col42">29,521.00</td>
<td id="T_e3690_row3_col43" class="data row3 col43">5,070.00</td>
<td id="T_e3690_row3_col44" class="data row3 col44">51,353.00</td>
<td id="T_e3690_row3_col45" class="data row3 col45">1.20</td>
<td id="T_e3690_row3_col46" class="data row3 col46">61.05</td>
</tr>
<tr class="odd">
<td id="T_e3690_level0_row4" class="row_heading level0 row4" data-quarto-table-cell-role="th">25%</td>
<td id="T_e3690_row4_col0" class="data row4 col0">1.95</td>
<td id="T_e3690_row4_col1" class="data row4 col1">1,816,411.00</td>
<td id="T_e3690_row4_col2" class="data row4 col2">1,696,961.50</td>
<td id="T_e3690_row4_col3" class="data row4 col3">5.70</td>
<td id="T_e3690_row4_col4" class="data row4 col4">21.05</td>
<td id="T_e3690_row4_col5" class="data row4 col5">16.10</td>
<td id="T_e3690_row4_col6" class="data row4 col6">50.20</td>
<td id="T_e3690_row4_col7" class="data row4 col7">71.25</td>
<td id="T_e3690_row4_col8" class="data row4 col8">3.65</td>
<td id="T_e3690_row4_col9" class="data row4 col9">0.50</td>
<td id="T_e3690_row4_col10" class="data row4 col10">1.80</td>
<td id="T_e3690_row4_col11" class="data row4 col11">0.10</td>
<td id="T_e3690_row4_col12" class="data row4 col12">2.10</td>
<td id="T_e3690_row4_col13" class="data row4 col13">5.30</td>
<td id="T_e3690_row4_col14" class="data row4 col14">57.40</td>
<td id="T_e3690_row4_col15" class="data row4 col15">116,811.50</td>
<td id="T_e3690_row4_col16" class="data row4 col16">4.75</td>
<td id="T_e3690_row4_col17" class="data row4 col17">801,166.00</td>
<td id="T_e3690_row4_col18" class="data row4 col18">64.10</td>
<td id="T_e3690_row4_col19" class="data row4 col19">159,750.00</td>
<td id="T_e3690_row4_col20" class="data row4 col20">681,296.50</td>
<td id="T_e3690_row4_col21" class="data row4 col21">2.46</td>
<td id="T_e3690_row4_col22" class="data row4 col22">83.95</td>
<td id="T_e3690_row4_col23" class="data row4 col23">7.30</td>
<td id="T_e3690_row4_col24" class="data row4 col24">88.80</td>
<td id="T_e3690_row4_col25" class="data row4 col25">80.70</td>
<td id="T_e3690_row4_col26" class="data row4 col26">87.30</td>
<td id="T_e3690_row4_col27" class="data row4 col27">27.85</td>
<td id="T_e3690_row4_col28" class="data row4 col28">7.85</td>
<td id="T_e3690_row4_col29" class="data row4 col29">7.30</td>
<td id="T_e3690_row4_col30" class="data row4 col30">4,171,798.50</td>
<td id="T_e3690_row4_col31" class="data row4 col31">24,553,072.00</td>
<td id="T_e3690_row4_col32" class="data row4 col32">23,908,598.50</td>
<td id="T_e3690_row4_col33" class="data row4 col33">22.25</td>
<td id="T_e3690_row4_col34" class="data row4 col34">55,560.50</td>
<td id="T_e3690_row4_col35" class="data row4 col35">30,276.50</td>
<td id="T_e3690_row4_col36" class="data row4 col36">10.10</td>
<td id="T_e3690_row4_col37" class="data row4 col37">121,633.00</td>
<td id="T_e3690_row4_col38" class="data row4 col38">143,106.00</td>
<td id="T_e3690_row4_col39" class="data row4 col39">73,924.00</td>
<td id="T_e3690_row4_col40" class="data row4 col40">44,787.00</td>
<td id="T_e3690_row4_col41" class="data row4 col41">14,722.00</td>
<td id="T_e3690_row4_col42" class="data row4 col42">126,135.00</td>
<td id="T_e3690_row4_col43" class="data row4 col43">14,892.50</td>
<td id="T_e3690_row4_col44" class="data row4 col44">120,076.50</td>
<td id="T_e3690_row4_col45" class="data row4 col45">45.80</td>
<td id="T_e3690_row4_col46" class="data row4 col46">33,334.51</td>
</tr>
<tr class="even">
<td id="T_e3690_level0_row5" class="row_heading level0 row5" data-quarto-table-cell-role="th">50%</td>
<td id="T_e3690_row5_col0" class="data row5 col0">4.10</td>
<td id="T_e3690_row5_col1" class="data row5 col1">4,505,836.00</td>
<td id="T_e3690_row5_col2" class="data row5 col2">4,339,367.00</td>
<td id="T_e3690_row5_col3" class="data row5 col3">6.00</td>
<td id="T_e3690_row5_col4" class="data row5 col4">22.10</td>
<td id="T_e3690_row5_col5" class="data row5 col5">16.90</td>
<td id="T_e3690_row5_col6" class="data row5 col6">50.70</td>
<td id="T_e3690_row5_col7" class="data row5 col7">80.60</td>
<td id="T_e3690_row5_col8" class="data row5 col8">8.50</td>
<td id="T_e3690_row5_col9" class="data row5 col9">0.70</td>
<td id="T_e3690_row5_col10" class="data row5 col10">3.00</td>
<td id="T_e3690_row5_col11" class="data row5 col11">0.10</td>
<td id="T_e3690_row5_col12" class="data row5 col12">2.40</td>
<td id="T_e3690_row5_col13" class="data row5 col13">9.80</td>
<td id="T_e3690_row5_col14" class="data row5 col14">71.10</td>
<td id="T_e3690_row5_col15" class="data row5 col15">270,775.00</td>
<td id="T_e3690_row5_col16" class="data row5 col16">7.20</td>
<td id="T_e3690_row5_col17" class="data row5 col17">2,006,358.00</td>
<td id="T_e3690_row5_col18" class="data row5 col18">66.30</td>
<td id="T_e3690_row5_col19" class="data row5 col19">194,500.00</td>
<td id="T_e3690_row5_col20" class="data row5 col20">1,734,618.00</td>
<td id="T_e3690_row5_col21" class="data row5 col21">2.52</td>
<td id="T_e3690_row5_col22" class="data row5 col22">85.30</td>
<td id="T_e3690_row5_col23" class="data row5 col23">11.80</td>
<td id="T_e3690_row5_col24" class="data row5 col24">89.90</td>
<td id="T_e3690_row5_col25" class="data row5 col25">82.50</td>
<td id="T_e3690_row5_col26" class="data row5 col26">90.20</td>
<td id="T_e3690_row5_col27" class="data row5 col27">31.30</td>
<td id="T_e3690_row5_col28" class="data row5 col28">8.90</td>
<td id="T_e3690_row5_col29" class="data row5 col29">9.30</td>
<td id="T_e3690_row5_col30" class="data row5 col30">9,542,068.00</td>
<td id="T_e3690_row5_col31" class="data row5 col31">81,927,799.00</td>
<td id="T_e3690_row5_col32" class="data row5 col32">54,869,978.00</td>
<td id="T_e3690_row5_col33" class="data row5 col33">24.80</td>
<td id="T_e3690_row5_col34" class="data row5 col34">61,439.00</td>
<td id="T_e3690_row5_col35" class="data row5 col35">32,176.00</td>
<td id="T_e3690_row5_col36" class="data row5 col36">11.80</td>
<td id="T_e3690_row5_col37" class="data row5 col37">302,653.00</td>
<td id="T_e3690_row5_col38" class="data row5 col38">339,305.00</td>
<td id="T_e3690_row5_col39" class="data row5 col39">187,845.00</td>
<td id="T_e3690_row5_col40" class="data row5 col40">123,015.00</td>
<td id="T_e3690_row5_col41" class="data row5 col41">61,252.00</td>
<td id="T_e3690_row5_col42" class="data row5 col42">276,269.00</td>
<td id="T_e3690_row5_col43" class="data row5 col43">36,273.00</td>
<td id="T_e3690_row5_col44" class="data row5 col44">288,790.00</td>
<td id="T_e3690_row5_col45" class="data row5 col45">101.20</td>
<td id="T_e3690_row5_col46" class="data row5 col46">53,624.76</td>
</tr>
<tr class="odd">
<td id="T_e3690_level0_row6" class="row_heading level0 row6" data-quarto-table-cell-role="th">75%</td>
<td id="T_e3690_row6_col0" class="data row6 col0">9.80</td>
<td id="T_e3690_row6_col1" class="data row6 col1">7,428,391.50</td>
<td id="T_e3690_row6_col2" class="data row6 col2">6,636,084.50</td>
<td id="T_e3690_row6_col3" class="data row6 col3">6.20</td>
<td id="T_e3690_row6_col4" class="data row6 col4">23.25</td>
<td id="T_e3690_row6_col5" class="data row6 col5">17.85</td>
<td id="T_e3690_row6_col6" class="data row6 col6">51.20</td>
<td id="T_e3690_row6_col7" class="data row6 col7">86.90</td>
<td id="T_e3690_row6_col8" class="data row6 col8">16.30</td>
<td id="T_e3690_row6_col9" class="data row6 col9">1.60</td>
<td id="T_e3690_row6_col10" class="data row6 col10">5.10</td>
<td id="T_e3690_row6_col11" class="data row6 col11">0.20</td>
<td id="T_e3690_row6_col12" class="data row6 col12">2.90</td>
<td id="T_e3690_row6_col13" class="data row6 col13">13.90</td>
<td id="T_e3690_row6_col14" class="data row6 col14">79.10</td>
<td id="T_e3690_row6_col15" class="data row6 col15">459,667.50</td>
<td id="T_e3690_row6_col16" class="data row6 col16">13.65</td>
<td id="T_e3690_row6_col17" class="data row6 col17">3,135,492.50</td>
<td id="T_e3690_row6_col18" class="data row6 col18">69.00</td>
<td id="T_e3690_row6_col19" class="data row6 col19">271,750.00</td>
<td id="T_e3690_row6_col20" class="data row6 col20">2,732,946.50</td>
<td id="T_e3690_row6_col21" class="data row6 col21">2.62</td>
<td id="T_e3690_row6_col22" class="data row6 col22">86.70</td>
<td id="T_e3690_row6_col23" class="data row6 col23">21.00</td>
<td id="T_e3690_row6_col24" class="data row6 col24">91.65</td>
<td id="T_e3690_row6_col25" class="data row6 col25">84.80</td>
<td id="T_e3690_row6_col26" class="data row6 col26">91.70</td>
<td id="T_e3690_row6_col27" class="data row6 col27">34.45</td>
<td id="T_e3690_row6_col28" class="data row6 col28">10.20</td>
<td id="T_e3690_row6_col29" class="data row6 col29">12.15</td>
<td id="T_e3690_row6_col30" class="data row6 col30">17,652,438.00</td>
<td id="T_e3690_row6_col31" class="data row6 col31">139,960,482.00</td>
<td id="T_e3690_row6_col32" class="data row6 col32">101,458,882.50</td>
<td id="T_e3690_row6_col33" class="data row6 col33">27.35</td>
<td id="T_e3690_row6_col34" class="data row6 col34">71,463.50</td>
<td id="T_e3690_row6_col35" class="data row6 col35">36,454.00</td>
<td id="T_e3690_row6_col36" class="data row6 col36">13.50</td>
<td id="T_e3690_row6_col37" class="data row6 col37">556,870.50</td>
<td id="T_e3690_row6_col38" class="data row6 col38">579,058.50</td>
<td id="T_e3690_row6_col39" class="data row6 col39">327,630.50</td>
<td id="T_e3690_row6_col40" class="data row6 col40">204,164.50</td>
<td id="T_e3690_row6_col41" class="data row6 col41">128,806.00</td>
<td id="T_e3690_row6_col42" class="data row6 col42">446,237.00</td>
<td id="T_e3690_row6_col43" class="data row6 col43">58,167.50</td>
<td id="T_e3690_row6_col44" class="data row6 col44">497,595.50</td>
<td id="T_e3690_row6_col45" class="data row6 col45">221.45</td>
<td id="T_e3690_row6_col46" class="data row6 col46">80,692.73</td>
</tr>
<tr class="even">
<td id="T_e3690_level0_row7" class="row_heading level0 row7" data-quarto-table-cell-role="th">max</td>
<td id="T_e3690_row7_col0" class="data row7 col0">17.30</td>
<td id="T_e3690_row7_col1" class="data row7 col1">39,538,223.00</td>
<td id="T_e3690_row7_col2" class="data row7 col2">37,253,956.00</td>
<td id="T_e3690_row7_col3" class="data row7 col3">7.70</td>
<td id="T_e3690_row7_col4" class="data row7 col4">29.00</td>
<td id="T_e3690_row7_col5" class="data row7 col5">21.20</td>
<td id="T_e3690_row7_col6" class="data row7 col6">52.60</td>
<td id="T_e3690_row7_col7" class="data row7 col7">94.40</td>
<td id="T_e3690_row7_col8" class="data row7 col8">46.00</td>
<td id="T_e3690_row7_col9" class="data row7 col9">15.60</td>
<td id="T_e3690_row7_col10" class="data row7 col10">37.60</td>
<td id="T_e3690_row7_col11" class="data row7 col11">10.10</td>
<td id="T_e3690_row7_col12" class="data row7 col12">24.20</td>
<td id="T_e3690_row7_col13" class="data row7 col13">49.30</td>
<td id="T_e3690_row7_col14" class="data row7 col14">93.00</td>
<td id="T_e3690_row7_col15" class="data row7 col15">1,574,531.00</td>
<td id="T_e3690_row7_col16" class="data row7 col16">26.80</td>
<td id="T_e3690_row7_col17" class="data row7 col17">14,366,336.00</td>
<td id="T_e3690_row7_col18" class="data row7 col18">73.20</td>
<td id="T_e3690_row7_col19" class="data row7 col19">615,300.00</td>
<td id="T_e3690_row7_col20" class="data row7 col20">13,044,266.00</td>
<td id="T_e3690_row7_col21" class="data row7 col21">3.12</td>
<td id="T_e3690_row7_col22" class="data row7 col22">89.80</td>
<td id="T_e3690_row7_col23" class="data row7 col23">44.20</td>
<td id="T_e3690_row7_col24" class="data row7 col24">95.30</td>
<td id="T_e3690_row7_col25" class="data row7 col25">88.30</td>
<td id="T_e3690_row7_col26" class="data row7 col26">93.60</td>
<td id="T_e3690_row7_col27" class="data row7 col27">58.50</td>
<td id="T_e3690_row7_col28" class="data row7 col28">14.00</td>
<td id="T_e3690_row7_col29" class="data row7 col29">20.80</td>
<td id="T_e3690_row7_col30" class="data row7 col30">90,830,372.00</td>
<td id="T_e3690_row7_col31" class="data row7 col31">702,603,073.00</td>
<td id="T_e3690_row7_col32" class="data row7 col32">481,800,461.00</td>
<td id="T_e3690_row7_col33" class="data row7 col33">33.60</td>
<td id="T_e3690_row7_col34" class="data row7 col34">86,420.00</td>
<td id="T_e3690_row7_col35" class="data row7 col35">56,147.00</td>
<td id="T_e3690_row7_col36" class="data row7 col36">19.60</td>
<td id="T_e3690_row7_col37" class="data row7 col37">3,453,769.00</td>
<td id="T_e3690_row7_col38" class="data row7 col38">3,548,449.00</td>
<td id="T_e3690_row7_col39" class="data row7 col39">1,852,580.00</td>
<td id="T_e3690_row7_col40" class="data row7 col40">1,320,085.00</td>
<td id="T_e3690_row7_col41" class="data row7 col41">1,619,857.00</td>
<td id="T_e3690_row7_col42" class="data row7 col42">1,819,107.00</td>
<td id="T_e3690_row7_col43" class="data row7 col43">252,377.00</td>
<td id="T_e3690_row7_col44" class="data row7 col44">3,176,341.00</td>
<td id="T_e3690_row7_col45" class="data row7 col45">9,856.50</td>
<td id="T_e3690_row7_col46" class="data row7 col46">570,640.95</td>
</tr>
</tbody>
</table>
</div>
</div>
<p>One more thing we can do to clean up this view is to sort the variables by their name.</p>
<div id="2195935a" class="cell" data-execution_count="7">
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a>(</span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a>    state_demographics.describe()</span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Sort the data frame by the row index (a.k.a., the row names)</span></span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a>    .sort_index(axis<span class="op">=</span><span class="st">"columns"</span>)</span>
<span id="cb8-5"><a href="#cb8-5" aria-hidden="true" tabindex="-1"></a>    .style.<span class="bu">format</span>(precision<span class="op">=</span><span class="dv">2</span>, thousands<span class="op">=</span><span class="st">","</span>)</span>
<span id="cb8-6"><a href="#cb8-6" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="7">
<style type="text/css">
</style>

<table id="T_7b6d1" class="caption-top table table-sm table-striped small" data-quarto-postprocess="true">
<thead>
<tr class="header">
<th class="blank level0" data-quarto-table-cell-role="th">&nbsp;</th>
<th id="T_7b6d1_level0_col0" class="col_heading level0 col0" data-quarto-table-cell-role="th">Age.Percent 65 and Older</th>
<th id="T_7b6d1_level0_col1" class="col_heading level0 col1" data-quarto-table-cell-role="th">Age.Percent Under 18 Years</th>
<th id="T_7b6d1_level0_col2" class="col_heading level0 col2" data-quarto-table-cell-role="th">Age.Percent Under 5 Years</th>
<th id="T_7b6d1_level0_col3" class="col_heading level0 col3" data-quarto-table-cell-role="th">Education.Bachelor's Degree or Higher</th>
<th id="T_7b6d1_level0_col4" class="col_heading level0 col4" data-quarto-table-cell-role="th">Education.High School or Higher</th>
<th id="T_7b6d1_level0_col5" class="col_heading level0 col5" data-quarto-table-cell-role="th">Employment.Firms.Men-Owned</th>
<th id="T_7b6d1_level0_col6" class="col_heading level0 col6" data-quarto-table-cell-role="th">Employment.Firms.Minority-Owned</th>
<th id="T_7b6d1_level0_col7" class="col_heading level0 col7" data-quarto-table-cell-role="th">Employment.Firms.Nonminority-Owned</th>
<th id="T_7b6d1_level0_col8" class="col_heading level0 col8" data-quarto-table-cell-role="th">Employment.Firms.Nonveteran-Owned</th>
<th id="T_7b6d1_level0_col9" class="col_heading level0 col9" data-quarto-table-cell-role="th">Employment.Firms.Total</th>
<th id="T_7b6d1_level0_col10" class="col_heading level0 col10" data-quarto-table-cell-role="th">Employment.Firms.Veteran-Owned</th>
<th id="T_7b6d1_level0_col11" class="col_heading level0 col11" data-quarto-table-cell-role="th">Employment.Firms.Women-Owned</th>
<th id="T_7b6d1_level0_col12" class="col_heading level0 col12" data-quarto-table-cell-role="th">Employment.Nonemployer Establishments</th>
<th id="T_7b6d1_level0_col13" class="col_heading level0 col13" data-quarto-table-cell-role="th">Ethnicities.American Indian and Alaska Native Alone</th>
<th id="T_7b6d1_level0_col14" class="col_heading level0 col14" data-quarto-table-cell-role="th">Ethnicities.Asian Alone</th>
<th id="T_7b6d1_level0_col15" class="col_heading level0 col15" data-quarto-table-cell-role="th">Ethnicities.Black Alone</th>
<th id="T_7b6d1_level0_col16" class="col_heading level0 col16" data-quarto-table-cell-role="th">Ethnicities.Hispanic or Latino</th>
<th id="T_7b6d1_level0_col17" class="col_heading level0 col17" data-quarto-table-cell-role="th">Ethnicities.Native Hawaiian and Other Pacific Islander Alone</th>
<th id="T_7b6d1_level0_col18" class="col_heading level0 col18" data-quarto-table-cell-role="th">Ethnicities.Two or More Races</th>
<th id="T_7b6d1_level0_col19" class="col_heading level0 col19" data-quarto-table-cell-role="th">Ethnicities.White Alone</th>
<th id="T_7b6d1_level0_col20" class="col_heading level0 col20" data-quarto-table-cell-role="th">Ethnicities.White Alone, not Hispanic or Latino</th>
<th id="T_7b6d1_level0_col21" class="col_heading level0 col21" data-quarto-table-cell-role="th">Housing.Homeownership Rate</th>
<th id="T_7b6d1_level0_col22" class="col_heading level0 col22" data-quarto-table-cell-role="th">Housing.Households</th>
<th id="T_7b6d1_level0_col23" class="col_heading level0 col23" data-quarto-table-cell-role="th">Housing.Households with a Internet</th>
<th id="T_7b6d1_level0_col24" class="col_heading level0 col24" data-quarto-table-cell-role="th">Housing.Households with a computer</th>
<th id="T_7b6d1_level0_col25" class="col_heading level0 col25" data-quarto-table-cell-role="th">Housing.Housing Units</th>
<th id="T_7b6d1_level0_col26" class="col_heading level0 col26" data-quarto-table-cell-role="th">Housing.Median Value of Owner-Occupied Units</th>
<th id="T_7b6d1_level0_col27" class="col_heading level0 col27" data-quarto-table-cell-role="th">Housing.Persons per Household</th>
<th id="T_7b6d1_level0_col28" class="col_heading level0 col28" data-quarto-table-cell-role="th">Income.Median Houseold Income</th>
<th id="T_7b6d1_level0_col29" class="col_heading level0 col29" data-quarto-table-cell-role="th">Income.Per Capita Income</th>
<th id="T_7b6d1_level0_col30" class="col_heading level0 col30" data-quarto-table-cell-role="th">Income.Persons Below Poverty Level</th>
<th id="T_7b6d1_level0_col31" class="col_heading level0 col31" data-quarto-table-cell-role="th">Miscellaneous.Foreign Born</th>
<th id="T_7b6d1_level0_col32" class="col_heading level0 col32" data-quarto-table-cell-role="th">Miscellaneous.Land Area</th>
<th id="T_7b6d1_level0_col33" class="col_heading level0 col33" data-quarto-table-cell-role="th">Miscellaneous.Language Other than English at Home</th>
<th id="T_7b6d1_level0_col34" class="col_heading level0 col34" data-quarto-table-cell-role="th">Miscellaneous.Living in Same House +1 Years</th>
<th id="T_7b6d1_level0_col35" class="col_heading level0 col35" data-quarto-table-cell-role="th">Miscellaneous.Manufacturers Shipments</th>
<th id="T_7b6d1_level0_col36" class="col_heading level0 col36" data-quarto-table-cell-role="th">Miscellaneous.Mean Travel Time to Work</th>
<th id="T_7b6d1_level0_col37" class="col_heading level0 col37" data-quarto-table-cell-role="th">Miscellaneous.Percent Female</th>
<th id="T_7b6d1_level0_col38" class="col_heading level0 col38" data-quarto-table-cell-role="th">Miscellaneous.Percent Under 65 Years Without Health insurance</th>
<th id="T_7b6d1_level0_col39" class="col_heading level0 col39" data-quarto-table-cell-role="th">Miscellaneous.Percent Under 66 Years With a Disability</th>
<th id="T_7b6d1_level0_col40" class="col_heading level0 col40" data-quarto-table-cell-role="th">Miscellaneous.Veterans</th>
<th id="T_7b6d1_level0_col41" class="col_heading level0 col41" data-quarto-table-cell-role="th">Population.2010 Population</th>
<th id="T_7b6d1_level0_col42" class="col_heading level0 col42" data-quarto-table-cell-role="th">Population.2014 Population</th>
<th id="T_7b6d1_level0_col43" class="col_heading level0 col43" data-quarto-table-cell-role="th">Population.Population Percent Change</th>
<th id="T_7b6d1_level0_col44" class="col_heading level0 col44" data-quarto-table-cell-role="th">Population.Population per Square Mile</th>
<th id="T_7b6d1_level0_col45" class="col_heading level0 col45" data-quarto-table-cell-role="th">Sales.Accommodation and Food Services Sales</th>
<th id="T_7b6d1_level0_col46" class="col_heading level0 col46" data-quarto-table-cell-role="th">Sales.Retail Sales</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td id="T_7b6d1_level0_row0" class="row_heading level0 row0" data-quarto-table-cell-role="th">count</td>
<td id="T_7b6d1_row0_col0" class="data row0 col0">51.00</td>
<td id="T_7b6d1_row0_col1" class="data row0 col1">51.00</td>
<td id="T_7b6d1_row0_col2" class="data row0 col2">51.00</td>
<td id="T_7b6d1_row0_col3" class="data row0 col3">51.00</td>
<td id="T_7b6d1_row0_col4" class="data row0 col4">51.00</td>
<td id="T_7b6d1_row0_col5" class="data row0 col5">51.00</td>
<td id="T_7b6d1_row0_col6" class="data row0 col6">51.00</td>
<td id="T_7b6d1_row0_col7" class="data row0 col7">51.00</td>
<td id="T_7b6d1_row0_col8" class="data row0 col8">51.00</td>
<td id="T_7b6d1_row0_col9" class="data row0 col9">51.00</td>
<td id="T_7b6d1_row0_col10" class="data row0 col10">51.00</td>
<td id="T_7b6d1_row0_col11" class="data row0 col11">51.00</td>
<td id="T_7b6d1_row0_col12" class="data row0 col12">51.00</td>
<td id="T_7b6d1_row0_col13" class="data row0 col13">51.00</td>
<td id="T_7b6d1_row0_col14" class="data row0 col14">51.00</td>
<td id="T_7b6d1_row0_col15" class="data row0 col15">51.00</td>
<td id="T_7b6d1_row0_col16" class="data row0 col16">51.00</td>
<td id="T_7b6d1_row0_col17" class="data row0 col17">51.00</td>
<td id="T_7b6d1_row0_col18" class="data row0 col18">51.00</td>
<td id="T_7b6d1_row0_col19" class="data row0 col19">51.00</td>
<td id="T_7b6d1_row0_col20" class="data row0 col20">51.00</td>
<td id="T_7b6d1_row0_col21" class="data row0 col21">51.00</td>
<td id="T_7b6d1_row0_col22" class="data row0 col22">51.00</td>
<td id="T_7b6d1_row0_col23" class="data row0 col23">51.00</td>
<td id="T_7b6d1_row0_col24" class="data row0 col24">51.00</td>
<td id="T_7b6d1_row0_col25" class="data row0 col25">51.00</td>
<td id="T_7b6d1_row0_col26" class="data row0 col26">51.00</td>
<td id="T_7b6d1_row0_col27" class="data row0 col27">51.00</td>
<td id="T_7b6d1_row0_col28" class="data row0 col28">51.00</td>
<td id="T_7b6d1_row0_col29" class="data row0 col29">51.00</td>
<td id="T_7b6d1_row0_col30" class="data row0 col30">51.00</td>
<td id="T_7b6d1_row0_col31" class="data row0 col31">51.00</td>
<td id="T_7b6d1_row0_col32" class="data row0 col32">51.00</td>
<td id="T_7b6d1_row0_col33" class="data row0 col33">51.00</td>
<td id="T_7b6d1_row0_col34" class="data row0 col34">51.00</td>
<td id="T_7b6d1_row0_col35" class="data row0 col35">49.00</td>
<td id="T_7b6d1_row0_col36" class="data row0 col36">51.00</td>
<td id="T_7b6d1_row0_col37" class="data row0 col37">51.00</td>
<td id="T_7b6d1_row0_col38" class="data row0 col38">51.00</td>
<td id="T_7b6d1_row0_col39" class="data row0 col39">51.00</td>
<td id="T_7b6d1_row0_col40" class="data row0 col40">51.00</td>
<td id="T_7b6d1_row0_col41" class="data row0 col41">51.00</td>
<td id="T_7b6d1_row0_col42" class="data row0 col42">51.00</td>
<td id="T_7b6d1_row0_col43" class="data row0 col43">51.00</td>
<td id="T_7b6d1_row0_col44" class="data row0 col44">51.00</td>
<td id="T_7b6d1_row0_col45" class="data row0 col45">51.00</td>
<td id="T_7b6d1_row0_col46" class="data row0 col46">51.00</td>
</tr>
<tr class="even">
<td id="T_7b6d1_level0_row1" class="row_heading level0 row1" data-quarto-table-cell-role="th">mean</td>
<td id="T_7b6d1_row1_col0" class="data row1 col0">16.88</td>
<td id="T_7b6d1_row1_col1" class="data row1 col1">22.14</td>
<td id="T_7b6d1_row1_col2" class="data row1 col2">5.96</td>
<td id="T_7b6d1_row1_col3" class="data row1 col3">31.77</td>
<td id="T_7b6d1_row1_col4" class="data row1 col4">89.54</td>
<td id="T_7b6d1_row1_col5" class="data row1 col5">292,380.10</td>
<td id="T_7b6d1_row1_col6" class="data row1 col6">156,032.14</td>
<td id="T_7b6d1_row1_col7" class="data row1 col7">373,752.12</td>
<td id="T_7b6d1_row1_col8" class="data row1 col8">473,326.00</td>
<td id="T_7b6d1_row1_col9" class="data row1 col9">545,254.90</td>
<td id="T_7b6d1_row1_col10" class="data row1 col10">49,611.88</td>
<td id="T_7b6d1_row1_col11" class="data row1 col11">193,842.12</td>
<td id="T_7b6d1_row1_col12" class="data row1 col12">519,324.16</td>
<td id="T_7b6d1_row1_col13" class="data row1 col13">2.01</td>
<td id="T_7b6d1_row1_col14" class="data row1 col14">4.55</td>
<td id="T_7b6d1_row1_col15" class="data row1 col15">11.87</td>
<td id="T_7b6d1_row1_col16" class="data row1 col16">12.25</td>
<td id="T_7b6d1_row1_col17" class="data row1 col17">0.40</td>
<td id="T_7b6d1_row1_col18" class="data row1 col18">3.11</td>
<td id="T_7b6d1_row1_col19" class="data row1 col19">78.07</td>
<td id="T_7b6d1_row1_col20" class="data row1 col20">67.67</td>
<td id="T_7b6d1_row1_col21" class="data row1 col21">65.67</td>
<td id="T_7b6d1_row1_col22" class="data row1 col22">2,367,765.65</td>
<td id="T_7b6d1_row1_col23" class="data row1 col23">82.05</td>
<td id="T_7b6d1_row1_col24" class="data row1 col24">89.98</td>
<td id="T_7b6d1_row1_col25" class="data row1 col25">2,738,906.75</td>
<td id="T_7b6d1_row1_col26" class="data row1 col26">233,176.47</td>
<td id="T_7b6d1_row1_col27" class="data row1 col27">2.56</td>
<td id="T_7b6d1_row1_col28" class="data row1 col28">63,097.86</td>
<td id="T_7b6d1_row1_col29" class="data row1 col29">33,743.06</td>
<td id="T_7b6d1_row1_col30" class="data row1 col30">12.17</td>
<td id="T_7b6d1_row1_col31" class="data row1 col31">9.41</td>
<td id="T_7b6d1_row1_col32" class="data row1 col32">69,253.05</td>
<td id="T_7b6d1_row1_col33" class="data row1 col33">14.98</td>
<td id="T_7b6d1_row1_col34" class="data row1 col34">85.24</td>
<td id="T_7b6d1_row1_col35" class="data row1 col35">116,411,562.24</td>
<td id="T_7b6d1_row1_col36" class="data row1 col36">24.80</td>
<td id="T_7b6d1_row1_col37" class="data row1 col37">50.60</td>
<td id="T_7b6d1_row1_col38" class="data row1 col38">9.96</td>
<td id="T_7b6d1_row1_col39" class="data row1 col39">9.16</td>
<td id="T_7b6d1_row1_col40" class="data row1 col40">357,457.29</td>
<td id="T_7b6d1_row1_col41" class="data row1 col41">6,053,834.08</td>
<td id="T_7b6d1_row1_col42" class="data row1 col42">6,499,005.51</td>
<td id="T_7b6d1_row1_col43" class="data row1 col43">5.15</td>
<td id="T_7b6d1_row1_col44" class="data row1 col44">384.40</td>
<td id="T_7b6d1_row1_col45" class="data row1 col45">13,885,070.55</td>
<td id="T_7b6d1_row1_col46" class="data row1 col46">82,741,605.31</td>
</tr>
<tr class="odd">
<td id="T_7b6d1_level0_row2" class="row_heading level0 row2" data-quarto-table-cell-role="th">std</td>
<td id="T_7b6d1_row2_col0" class="data row2 col0">2.01</td>
<td id="T_7b6d1_row2_col1" class="data row2 col1">2.00</td>
<td id="T_7b6d1_row2_col2" class="data row2 col2">0.61</td>
<td id="T_7b6d1_row2_col3" class="data row2 col3">6.43</td>
<td id="T_7b6d1_row2_col4" class="data row2 col4">2.70</td>
<td id="T_7b6d1_row2_col5" class="data row2 col5">352,447.95</td>
<td id="T_7b6d1_row2_col6" class="data row2 col6">299,248.47</td>
<td id="T_7b6d1_row2_col7" class="data row2 col7">361,584.05</td>
<td id="T_7b6d1_row2_col8" class="data row2 col8">589,208.57</td>
<td id="T_7b6d1_row2_col9" class="data row2 col9">661,434.25</td>
<td id="T_7b6d1_row2_col10" class="data row2 col10">51,941.58</td>
<td id="T_7b6d1_row2_col11" class="data row2 col11">246,899.31</td>
<td id="T_7b6d1_row2_col12" class="data row2 col12">668,860.54</td>
<td id="T_7b6d1_row2_col13" class="data row2 col13">3.11</td>
<td id="T_7b6d1_row2_col14" class="data row2 col14">5.52</td>
<td id="T_7b6d1_row2_col15" class="data row2 col15">10.70</td>
<td id="T_7b6d1_row2_col16" class="data row2 col16">10.35</td>
<td id="T_7b6d1_row2_col17" class="data row2 col17">1.41</td>
<td id="T_7b6d1_row2_col18" class="data row2 col18">3.21</td>
<td id="T_7b6d1_row2_col19" class="data row2 col19">13.02</td>
<td id="T_7b6d1_row2_col20" class="data row2 col20">16.18</td>
<td id="T_7b6d1_row2_col21" class="data row2 col21">5.44</td>
<td id="T_7b6d1_row2_col22" class="data row2 col22">2,531,758.54</td>
<td id="T_7b6d1_row2_col23" class="data row2 col23">3.79</td>
<td id="T_7b6d1_row2_col24" class="data row2 col24">2.55</td>
<td id="T_7b6d1_row2_col25" class="data row2 col25">2,888,415.00</td>
<td id="T_7b6d1_row2_col26" class="data row2 col26">109,205.70</td>
<td id="T_7b6d1_row2_col27" class="data row2 col27">0.17</td>
<td id="T_7b6d1_row2_col28" class="data row2 col28">10,715.13</td>
<td id="T_7b6d1_row2_col29" class="data row2 col29">5,689.58</td>
<td id="T_7b6d1_row2_col30" class="data row2 col30">2.68</td>
<td id="T_7b6d1_row2_col31" class="data row2 col31">6.11</td>
<td id="T_7b6d1_row2_col32" class="data row2 col32">85,526.08</td>
<td id="T_7b6d1_row2_col33" class="data row2 col33">9.77</td>
<td id="T_7b6d1_row2_col34" class="data row2 col34">2.06</td>
<td id="T_7b6d1_row2_col35" class="data row2 col35">131,704,461.49</td>
<td id="T_7b6d1_row2_col36" class="data row2 col36">3.98</td>
<td id="T_7b6d1_row2_col37" class="data row2 col37">0.84</td>
<td id="T_7b6d1_row2_col38" class="data row2 col38">3.64</td>
<td id="T_7b6d1_row2_col39" class="data row2 col39">1.77</td>
<td id="T_7b6d1_row2_col40" class="data row2 col40">351,951.29</td>
<td id="T_7b6d1_row2_col41" class="data row2 col41">6,823,984.27</td>
<td id="T_7b6d1_row2_col42" class="data row2 col42">7,408,022.55</td>
<td id="T_7b6d1_row2_col43" class="data row2 col43">6.87</td>
<td id="T_7b6d1_row2_col44" class="data row2 col44">1,377.35</td>
<td id="T_7b6d1_row2_col45" class="data row2 col45">16,274,397.82</td>
<td id="T_7b6d1_row2_col46" class="data row2 col46">91,289,768.45</td>
</tr>
<tr class="even">
<td id="T_7b6d1_level0_row3" class="row_heading level0 row3" data-quarto-table-cell-role="th">min</td>
<td id="T_7b6d1_row3_col0" class="data row3 col0">11.40</td>
<td id="T_7b6d1_row3_col1" class="data row3 col1">18.20</td>
<td id="T_7b6d1_row3_col2" class="data row3 col2">4.70</td>
<td id="T_7b6d1_row3_col3" class="data row3 col3">20.60</td>
<td id="T_7b6d1_row3_col4" class="data row3 col4">83.30</td>
<td id="T_7b6d1_row3_col5" class="data row3 col5">30,039.00</td>
<td id="T_7b6d1_row3_col6" class="data row3 col6">2,354.00</td>
<td id="T_7b6d1_row3_col7" class="data row3 col7">29,521.00</td>
<td id="T_7b6d1_row3_col8" class="data row3 col8">51,353.00</td>
<td id="T_7b6d1_row3_col9" class="data row3 col9">62,427.00</td>
<td id="T_7b6d1_row3_col10" class="data row3 col10">5,070.00</td>
<td id="T_7b6d1_row3_col11" class="data row3 col11">19,344.00</td>
<td id="T_7b6d1_row3_col12" class="data row3 col12">53,042.00</td>
<td id="T_7b6d1_row3_col13" class="data row3 col13">0.30</td>
<td id="T_7b6d1_row3_col14" class="data row3 col14">0.80</td>
<td id="T_7b6d1_row3_col15" class="data row3 col15">0.60</td>
<td id="T_7b6d1_row3_col16" class="data row3 col16">1.70</td>
<td id="T_7b6d1_row3_col17" class="data row3 col17">0.00</td>
<td id="T_7b6d1_row3_col18" class="data row3 col18">1.30</td>
<td id="T_7b6d1_row3_col19" class="data row3 col19">25.50</td>
<td id="T_7b6d1_row3_col20" class="data row3 col20">21.70</td>
<td id="T_7b6d1_row3_col21" class="data row3 col21">41.60</td>
<td id="T_7b6d1_row3_col22" class="data row3 col22">230,101.00</td>
<td id="T_7b6d1_row3_col23" class="data row3 col23">71.50</td>
<td id="T_7b6d1_row3_col24" class="data row3 col24">83.80</td>
<td id="T_7b6d1_row3_col25" class="data row3 col25">280,291.00</td>
<td id="T_7b6d1_row3_col26" class="data row3 col26">119,000.00</td>
<td id="T_7b6d1_row3_col27" class="data row3 col27">2.30</td>
<td id="T_7b6d1_row3_col28" class="data row3 col28">45,081.00</td>
<td id="T_7b6d1_row3_col29" class="data row3 col29">24,369.00</td>
<td id="T_7b6d1_row3_col30" class="data row3 col30">7.30</td>
<td id="T_7b6d1_row3_col31" class="data row3 col31">1.70</td>
<td id="T_7b6d1_row3_col32" class="data row3 col32">61.05</td>
<td id="T_7b6d1_row3_col33" class="data row3 col33">2.60</td>
<td id="T_7b6d1_row3_col34" class="data row3 col34">80.50</td>
<td id="T_7b6d1_row3_col35" class="data row3 col35">309,832.00</td>
<td id="T_7b6d1_row3_col36" class="data row3 col36">17.20</td>
<td id="T_7b6d1_row3_col37" class="data row3 col37">47.90</td>
<td id="T_7b6d1_row3_col38" class="data row3 col38">3.50</td>
<td id="T_7b6d1_row3_col39" class="data row3 col39">6.40</td>
<td id="T_7b6d1_row3_col40" class="data row3 col40">26,156.00</td>
<td id="T_7b6d1_row3_col41" class="data row3 col41">563,626.00</td>
<td id="T_7b6d1_row3_col42" class="data row3 col42">576,851.00</td>
<td id="T_7b6d1_row3_col43" class="data row3 col43">-13.30</td>
<td id="T_7b6d1_row3_col44" class="data row3 col44">1.20</td>
<td id="T_7b6d1_row3_col45" class="data row3 col45">1,564,272.00</td>
<td id="T_7b6d1_row3_col46" class="data row3 col46">4,439,933.00</td>
</tr>
<tr class="odd">
<td id="T_7b6d1_level0_row4" class="row_heading level0 row4" data-quarto-table-cell-role="th">25%</td>
<td id="T_7b6d1_row4_col0" class="data row4 col0">16.10</td>
<td id="T_7b6d1_row4_col1" class="data row4 col1">21.05</td>
<td id="T_7b6d1_row4_col2" class="data row4 col2">5.70</td>
<td id="T_7b6d1_row4_col3" class="data row4 col3">27.85</td>
<td id="T_7b6d1_row4_col4" class="data row4 col4">87.30</td>
<td id="T_7b6d1_row4_col5" class="data row4 col5">73,924.00</td>
<td id="T_7b6d1_row4_col6" class="data row4 col6">14,722.00</td>
<td id="T_7b6d1_row4_col7" class="data row4 col7">126,135.00</td>
<td id="T_7b6d1_row4_col8" class="data row4 col8">120,076.50</td>
<td id="T_7b6d1_row4_col9" class="data row4 col9">143,106.00</td>
<td id="T_7b6d1_row4_col10" class="data row4 col10">14,892.50</td>
<td id="T_7b6d1_row4_col11" class="data row4 col11">44,787.00</td>
<td id="T_7b6d1_row4_col12" class="data row4 col12">121,633.00</td>
<td id="T_7b6d1_row4_col13" class="data row4 col13">0.50</td>
<td id="T_7b6d1_row4_col14" class="data row4 col14">1.80</td>
<td id="T_7b6d1_row4_col15" class="data row4 col15">3.65</td>
<td id="T_7b6d1_row4_col16" class="data row4 col16">5.30</td>
<td id="T_7b6d1_row4_col17" class="data row4 col17">0.10</td>
<td id="T_7b6d1_row4_col18" class="data row4 col18">2.10</td>
<td id="T_7b6d1_row4_col19" class="data row4 col19">71.25</td>
<td id="T_7b6d1_row4_col20" class="data row4 col20">57.40</td>
<td id="T_7b6d1_row4_col21" class="data row4 col21">64.10</td>
<td id="T_7b6d1_row4_col22" class="data row4 col22">681,296.50</td>
<td id="T_7b6d1_row4_col23" class="data row4 col23">80.70</td>
<td id="T_7b6d1_row4_col24" class="data row4 col24">88.80</td>
<td id="T_7b6d1_row4_col25" class="data row4 col25">801,166.00</td>
<td id="T_7b6d1_row4_col26" class="data row4 col26">159,750.00</td>
<td id="T_7b6d1_row4_col27" class="data row4 col27">2.46</td>
<td id="T_7b6d1_row4_col28" class="data row4 col28">55,560.50</td>
<td id="T_7b6d1_row4_col29" class="data row4 col29">30,276.50</td>
<td id="T_7b6d1_row4_col30" class="data row4 col30">10.10</td>
<td id="T_7b6d1_row4_col31" class="data row4 col31">4.75</td>
<td id="T_7b6d1_row4_col32" class="data row4 col32">33,334.51</td>
<td id="T_7b6d1_row4_col33" class="data row4 col33">7.30</td>
<td id="T_7b6d1_row4_col34" class="data row4 col34">83.95</td>
<td id="T_7b6d1_row4_col35" class="data row4 col35">24,553,072.00</td>
<td id="T_7b6d1_row4_col36" class="data row4 col36">22.25</td>
<td id="T_7b6d1_row4_col37" class="data row4 col37">50.20</td>
<td id="T_7b6d1_row4_col38" class="data row4 col38">7.30</td>
<td id="T_7b6d1_row4_col39" class="data row4 col39">7.85</td>
<td id="T_7b6d1_row4_col40" class="data row4 col40">116,811.50</td>
<td id="T_7b6d1_row4_col41" class="data row4 col41">1,696,961.50</td>
<td id="T_7b6d1_row4_col42" class="data row4 col42">1,816,411.00</td>
<td id="T_7b6d1_row4_col43" class="data row4 col43">1.95</td>
<td id="T_7b6d1_row4_col44" class="data row4 col44">45.80</td>
<td id="T_7b6d1_row4_col45" class="data row4 col45">4,171,798.50</td>
<td id="T_7b6d1_row4_col46" class="data row4 col46">23,908,598.50</td>
</tr>
<tr class="even">
<td id="T_7b6d1_level0_row5" class="row_heading level0 row5" data-quarto-table-cell-role="th">50%</td>
<td id="T_7b6d1_row5_col0" class="data row5 col0">16.90</td>
<td id="T_7b6d1_row5_col1" class="data row5 col1">22.10</td>
<td id="T_7b6d1_row5_col2" class="data row5 col2">6.00</td>
<td id="T_7b6d1_row5_col3" class="data row5 col3">31.30</td>
<td id="T_7b6d1_row5_col4" class="data row5 col4">90.20</td>
<td id="T_7b6d1_row5_col5" class="data row5 col5">187,845.00</td>
<td id="T_7b6d1_row5_col6" class="data row5 col6">61,252.00</td>
<td id="T_7b6d1_row5_col7" class="data row5 col7">276,269.00</td>
<td id="T_7b6d1_row5_col8" class="data row5 col8">288,790.00</td>
<td id="T_7b6d1_row5_col9" class="data row5 col9">339,305.00</td>
<td id="T_7b6d1_row5_col10" class="data row5 col10">36,273.00</td>
<td id="T_7b6d1_row5_col11" class="data row5 col11">123,015.00</td>
<td id="T_7b6d1_row5_col12" class="data row5 col12">302,653.00</td>
<td id="T_7b6d1_row5_col13" class="data row5 col13">0.70</td>
<td id="T_7b6d1_row5_col14" class="data row5 col14">3.00</td>
<td id="T_7b6d1_row5_col15" class="data row5 col15">8.50</td>
<td id="T_7b6d1_row5_col16" class="data row5 col16">9.80</td>
<td id="T_7b6d1_row5_col17" class="data row5 col17">0.10</td>
<td id="T_7b6d1_row5_col18" class="data row5 col18">2.40</td>
<td id="T_7b6d1_row5_col19" class="data row5 col19">80.60</td>
<td id="T_7b6d1_row5_col20" class="data row5 col20">71.10</td>
<td id="T_7b6d1_row5_col21" class="data row5 col21">66.30</td>
<td id="T_7b6d1_row5_col22" class="data row5 col22">1,734,618.00</td>
<td id="T_7b6d1_row5_col23" class="data row5 col23">82.50</td>
<td id="T_7b6d1_row5_col24" class="data row5 col24">89.90</td>
<td id="T_7b6d1_row5_col25" class="data row5 col25">2,006,358.00</td>
<td id="T_7b6d1_row5_col26" class="data row5 col26">194,500.00</td>
<td id="T_7b6d1_row5_col27" class="data row5 col27">2.52</td>
<td id="T_7b6d1_row5_col28" class="data row5 col28">61,439.00</td>
<td id="T_7b6d1_row5_col29" class="data row5 col29">32,176.00</td>
<td id="T_7b6d1_row5_col30" class="data row5 col30">11.80</td>
<td id="T_7b6d1_row5_col31" class="data row5 col31">7.20</td>
<td id="T_7b6d1_row5_col32" class="data row5 col32">53,624.76</td>
<td id="T_7b6d1_row5_col33" class="data row5 col33">11.80</td>
<td id="T_7b6d1_row5_col34" class="data row5 col34">85.30</td>
<td id="T_7b6d1_row5_col35" class="data row5 col35">81,927,799.00</td>
<td id="T_7b6d1_row5_col36" class="data row5 col36">24.80</td>
<td id="T_7b6d1_row5_col37" class="data row5 col37">50.70</td>
<td id="T_7b6d1_row5_col38" class="data row5 col38">9.30</td>
<td id="T_7b6d1_row5_col39" class="data row5 col39">8.90</td>
<td id="T_7b6d1_row5_col40" class="data row5 col40">270,775.00</td>
<td id="T_7b6d1_row5_col41" class="data row5 col41">4,339,367.00</td>
<td id="T_7b6d1_row5_col42" class="data row5 col42">4,505,836.00</td>
<td id="T_7b6d1_row5_col43" class="data row5 col43">4.10</td>
<td id="T_7b6d1_row5_col44" class="data row5 col44">101.20</td>
<td id="T_7b6d1_row5_col45" class="data row5 col45">9,542,068.00</td>
<td id="T_7b6d1_row5_col46" class="data row5 col46">54,869,978.00</td>
</tr>
<tr class="odd">
<td id="T_7b6d1_level0_row6" class="row_heading level0 row6" data-quarto-table-cell-role="th">75%</td>
<td id="T_7b6d1_row6_col0" class="data row6 col0">17.85</td>
<td id="T_7b6d1_row6_col1" class="data row6 col1">23.25</td>
<td id="T_7b6d1_row6_col2" class="data row6 col2">6.20</td>
<td id="T_7b6d1_row6_col3" class="data row6 col3">34.45</td>
<td id="T_7b6d1_row6_col4" class="data row6 col4">91.70</td>
<td id="T_7b6d1_row6_col5" class="data row6 col5">327,630.50</td>
<td id="T_7b6d1_row6_col6" class="data row6 col6">128,806.00</td>
<td id="T_7b6d1_row6_col7" class="data row6 col7">446,237.00</td>
<td id="T_7b6d1_row6_col8" class="data row6 col8">497,595.50</td>
<td id="T_7b6d1_row6_col9" class="data row6 col9">579,058.50</td>
<td id="T_7b6d1_row6_col10" class="data row6 col10">58,167.50</td>
<td id="T_7b6d1_row6_col11" class="data row6 col11">204,164.50</td>
<td id="T_7b6d1_row6_col12" class="data row6 col12">556,870.50</td>
<td id="T_7b6d1_row6_col13" class="data row6 col13">1.60</td>
<td id="T_7b6d1_row6_col14" class="data row6 col14">5.10</td>
<td id="T_7b6d1_row6_col15" class="data row6 col15">16.30</td>
<td id="T_7b6d1_row6_col16" class="data row6 col16">13.90</td>
<td id="T_7b6d1_row6_col17" class="data row6 col17">0.20</td>
<td id="T_7b6d1_row6_col18" class="data row6 col18">2.90</td>
<td id="T_7b6d1_row6_col19" class="data row6 col19">86.90</td>
<td id="T_7b6d1_row6_col20" class="data row6 col20">79.10</td>
<td id="T_7b6d1_row6_col21" class="data row6 col21">69.00</td>
<td id="T_7b6d1_row6_col22" class="data row6 col22">2,732,946.50</td>
<td id="T_7b6d1_row6_col23" class="data row6 col23">84.80</td>
<td id="T_7b6d1_row6_col24" class="data row6 col24">91.65</td>
<td id="T_7b6d1_row6_col25" class="data row6 col25">3,135,492.50</td>
<td id="T_7b6d1_row6_col26" class="data row6 col26">271,750.00</td>
<td id="T_7b6d1_row6_col27" class="data row6 col27">2.62</td>
<td id="T_7b6d1_row6_col28" class="data row6 col28">71,463.50</td>
<td id="T_7b6d1_row6_col29" class="data row6 col29">36,454.00</td>
<td id="T_7b6d1_row6_col30" class="data row6 col30">13.50</td>
<td id="T_7b6d1_row6_col31" class="data row6 col31">13.65</td>
<td id="T_7b6d1_row6_col32" class="data row6 col32">80,692.73</td>
<td id="T_7b6d1_row6_col33" class="data row6 col33">21.00</td>
<td id="T_7b6d1_row6_col34" class="data row6 col34">86.70</td>
<td id="T_7b6d1_row6_col35" class="data row6 col35">139,960,482.00</td>
<td id="T_7b6d1_row6_col36" class="data row6 col36">27.35</td>
<td id="T_7b6d1_row6_col37" class="data row6 col37">51.20</td>
<td id="T_7b6d1_row6_col38" class="data row6 col38">12.15</td>
<td id="T_7b6d1_row6_col39" class="data row6 col39">10.20</td>
<td id="T_7b6d1_row6_col40" class="data row6 col40">459,667.50</td>
<td id="T_7b6d1_row6_col41" class="data row6 col41">6,636,084.50</td>
<td id="T_7b6d1_row6_col42" class="data row6 col42">7,428,391.50</td>
<td id="T_7b6d1_row6_col43" class="data row6 col43">9.80</td>
<td id="T_7b6d1_row6_col44" class="data row6 col44">221.45</td>
<td id="T_7b6d1_row6_col45" class="data row6 col45">17,652,438.00</td>
<td id="T_7b6d1_row6_col46" class="data row6 col46">101,458,882.50</td>
</tr>
<tr class="even">
<td id="T_7b6d1_level0_row7" class="row_heading level0 row7" data-quarto-table-cell-role="th">max</td>
<td id="T_7b6d1_row7_col0" class="data row7 col0">21.20</td>
<td id="T_7b6d1_row7_col1" class="data row7 col1">29.00</td>
<td id="T_7b6d1_row7_col2" class="data row7 col2">7.70</td>
<td id="T_7b6d1_row7_col3" class="data row7 col3">58.50</td>
<td id="T_7b6d1_row7_col4" class="data row7 col4">93.60</td>
<td id="T_7b6d1_row7_col5" class="data row7 col5">1,852,580.00</td>
<td id="T_7b6d1_row7_col6" class="data row7 col6">1,619,857.00</td>
<td id="T_7b6d1_row7_col7" class="data row7 col7">1,819,107.00</td>
<td id="T_7b6d1_row7_col8" class="data row7 col8">3,176,341.00</td>
<td id="T_7b6d1_row7_col9" class="data row7 col9">3,548,449.00</td>
<td id="T_7b6d1_row7_col10" class="data row7 col10">252,377.00</td>
<td id="T_7b6d1_row7_col11" class="data row7 col11">1,320,085.00</td>
<td id="T_7b6d1_row7_col12" class="data row7 col12">3,453,769.00</td>
<td id="T_7b6d1_row7_col13" class="data row7 col13">15.60</td>
<td id="T_7b6d1_row7_col14" class="data row7 col14">37.60</td>
<td id="T_7b6d1_row7_col15" class="data row7 col15">46.00</td>
<td id="T_7b6d1_row7_col16" class="data row7 col16">49.30</td>
<td id="T_7b6d1_row7_col17" class="data row7 col17">10.10</td>
<td id="T_7b6d1_row7_col18" class="data row7 col18">24.20</td>
<td id="T_7b6d1_row7_col19" class="data row7 col19">94.40</td>
<td id="T_7b6d1_row7_col20" class="data row7 col20">93.00</td>
<td id="T_7b6d1_row7_col21" class="data row7 col21">73.20</td>
<td id="T_7b6d1_row7_col22" class="data row7 col22">13,044,266.00</td>
<td id="T_7b6d1_row7_col23" class="data row7 col23">88.30</td>
<td id="T_7b6d1_row7_col24" class="data row7 col24">95.30</td>
<td id="T_7b6d1_row7_col25" class="data row7 col25">14,366,336.00</td>
<td id="T_7b6d1_row7_col26" class="data row7 col26">615,300.00</td>
<td id="T_7b6d1_row7_col27" class="data row7 col27">3.12</td>
<td id="T_7b6d1_row7_col28" class="data row7 col28">86,420.00</td>
<td id="T_7b6d1_row7_col29" class="data row7 col29">56,147.00</td>
<td id="T_7b6d1_row7_col30" class="data row7 col30">19.60</td>
<td id="T_7b6d1_row7_col31" class="data row7 col31">26.80</td>
<td id="T_7b6d1_row7_col32" class="data row7 col32">570,640.95</td>
<td id="T_7b6d1_row7_col33" class="data row7 col33">44.20</td>
<td id="T_7b6d1_row7_col34" class="data row7 col34">89.80</td>
<td id="T_7b6d1_row7_col35" class="data row7 col35">702,603,073.00</td>
<td id="T_7b6d1_row7_col36" class="data row7 col36">33.60</td>
<td id="T_7b6d1_row7_col37" class="data row7 col37">52.60</td>
<td id="T_7b6d1_row7_col38" class="data row7 col38">20.80</td>
<td id="T_7b6d1_row7_col39" class="data row7 col39">14.00</td>
<td id="T_7b6d1_row7_col40" class="data row7 col40">1,574,531.00</td>
<td id="T_7b6d1_row7_col41" class="data row7 col41">37,253,956.00</td>
<td id="T_7b6d1_row7_col42" class="data row7 col42">39,538,223.00</td>
<td id="T_7b6d1_row7_col43" class="data row7 col43">17.30</td>
<td id="T_7b6d1_row7_col44" class="data row7 col44">9,856.50</td>
<td id="T_7b6d1_row7_col45" class="data row7 col45">90,830,372.00</td>
<td id="T_7b6d1_row7_col46" class="data row7 col46">481,800,461.00</td>
</tr>
</tbody>
</table>
</div>
</div>
<p>That’s a pretty nice looking summary now!</p>
<p><em>Note: Do you see how we put that little pipeline in parentheses? This is so that we can separate operations on their own line, which can improve readability, and also let us add comments as needed.</em></p>
<p>I want to make something clear. We haven’t done anything to change the data frame that we imported.</p>
<div id="3749409c" class="cell" data-execution_count="8">
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a>state_demographics.head()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="8">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">State</th>
<th data-quarto-table-cell-role="th">Population.Population Percent Change</th>
<th data-quarto-table-cell-role="th">Population.2014 Population</th>
<th data-quarto-table-cell-role="th">Population.2010 Population</th>
<th data-quarto-table-cell-role="th">Age.Percent Under 5 Years</th>
<th data-quarto-table-cell-role="th">Age.Percent Under 18 Years</th>
<th data-quarto-table-cell-role="th">Age.Percent 65 and Older</th>
<th data-quarto-table-cell-role="th">Miscellaneous.Percent Female</th>
<th data-quarto-table-cell-role="th">Ethnicities.White Alone</th>
<th data-quarto-table-cell-role="th">Ethnicities.Black Alone</th>
<th data-quarto-table-cell-role="th">...</th>
<th data-quarto-table-cell-role="th">Employment.Nonemployer Establishments</th>
<th data-quarto-table-cell-role="th">Employment.Firms.Total</th>
<th data-quarto-table-cell-role="th">Employment.Firms.Men-Owned</th>
<th data-quarto-table-cell-role="th">Employment.Firms.Women-Owned</th>
<th data-quarto-table-cell-role="th">Employment.Firms.Minority-Owned</th>
<th data-quarto-table-cell-role="th">Employment.Firms.Nonminority-Owned</th>
<th data-quarto-table-cell-role="th">Employment.Firms.Veteran-Owned</th>
<th data-quarto-table-cell-role="th">Employment.Firms.Nonveteran-Owned</th>
<th data-quarto-table-cell-role="th">Population.Population per Square Mile</th>
<th data-quarto-table-cell-role="th">Miscellaneous.Land Area</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>Connecticut</td>
<td>-10.2</td>
<td>3605944</td>
<td>3574097</td>
<td>5.1</td>
<td>20.4</td>
<td>17.7</td>
<td>51.2</td>
<td>79.7</td>
<td>12.2</td>
<td>...</td>
<td>286874</td>
<td>326693</td>
<td>187845</td>
<td>106678</td>
<td>56113</td>
<td>259614</td>
<td>31056</td>
<td>281182</td>
<td>738.1</td>
<td>4842.36</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>Delaware</td>
<td>8.4</td>
<td>989948</td>
<td>897934</td>
<td>5.6</td>
<td>20.9</td>
<td>19.4</td>
<td>51.7</td>
<td>69.2</td>
<td>23.2</td>
<td>...</td>
<td>68623</td>
<td>73418</td>
<td>38328</td>
<td>23964</td>
<td>14440</td>
<td>54782</td>
<td>7206</td>
<td>60318</td>
<td>460.8</td>
<td>1948.54</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2</td>
<td>District of Columbia</td>
<td>17.3</td>
<td>689545</td>
<td>601723</td>
<td>6.4</td>
<td>18.2</td>
<td>12.4</td>
<td>52.6</td>
<td>46.0</td>
<td>46.0</td>
<td>...</td>
<td>62583</td>
<td>63408</td>
<td>30237</td>
<td>27064</td>
<td>29983</td>
<td>29521</td>
<td>5070</td>
<td>54217</td>
<td>9856.5</td>
<td>61.05</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">3</td>
<td>Florida</td>
<td>14.2</td>
<td>21538187</td>
<td>18801310</td>
<td>5.3</td>
<td>19.7</td>
<td>20.9</td>
<td>51.1</td>
<td>77.3</td>
<td>16.9</td>
<td>...</td>
<td>2388050</td>
<td>2100187</td>
<td>1084885</td>
<td>807817</td>
<td>926112</td>
<td>1121749</td>
<td>185756</td>
<td>1846686</td>
<td>350.6</td>
<td>53624.76</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">4</td>
<td>Georgia</td>
<td>9.6</td>
<td>10711908</td>
<td>9687653</td>
<td>6.2</td>
<td>23.6</td>
<td>14.3</td>
<td>51.4</td>
<td>60.2</td>
<td>32.6</td>
<td>...</td>
<td>955621</td>
<td>929864</td>
<td>480578</td>
<td>376506</td>
<td>371588</td>
<td>538893</td>
<td>96787</td>
<td>800585</td>
<td>168.4</td>
<td>57513.49</td>
</tr>
</tbody>
</table>

<p>5 rows × 48 columns</p>
</div>
</div>
</div>
<p>As you see, it’s the same data frame we started with. All the functions we have used so far have returned new data frames. You will see this pattern a lot–many Pandas functions return new data rather modifying existing data.</p>
<div id="tip-07-why-summarize-data" class="callout callout-style-default callout-tip callout-titled" title="Stop &amp; Think">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-1-contents" aria-controls="callout-1" aria-expanded="true" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Tip&nbsp;7.1: Stop &amp; Think
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-1" class="callout-1-contents callout-collapse collapse show">
<div class="callout-body-container callout-body">
<p>Why is it a good idea to look at a summary of data that you imported?</p>
</div>
</div>
</div>
</section>
<section id="filtering-columns" class="level3">
<h3 class="anchored" data-anchor-id="filtering-columns">Filtering Columns</h3>
<p>This table has a lot of different kinds of data about state demographics. The nice thing is that each of the different categories is used as a prefix to the column name, e.g., data about income is prefixed with <code>Income</code>, data about population is prefixed with <code>Population</code>, and so on. We can leverage this labeling scheme to chop our data frame into more manageable chunks.</p>
<p>We can use the <a href="https://pandas.pydata.org/docs/reference/api/pandas.DataFrame.filter.html#pandas.DataFrame.filter">filter()</a> function to filter columns in a bunch of different ways. For now we will use the regular expression (regex) argument to specify that we want to match at the start of the column name. For example, getting all the data columns about ethnicities:</p>
<div id="69402e47" class="cell" data-execution_count="9">
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a>(</span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a>    state_demographics</span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Use set_index to convert the state column to the row names</span></span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true" tabindex="-1"></a>    .set_index(<span class="st">"State"</span>)</span>
<span id="cb10-5"><a href="#cb10-5" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Use filter() to keep columns matching the given pattern</span></span>
<span id="cb10-6"><a href="#cb10-6" aria-hidden="true" tabindex="-1"></a>    .<span class="bu">filter</span>(regex<span class="op">=</span><span class="vs">r"^Ethnicities"</span>)</span>
<span id="cb10-7"><a href="#cb10-7" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Only display the first 5 rows</span></span>
<span id="cb10-8"><a href="#cb10-8" aria-hidden="true" tabindex="-1"></a>    .head()</span>
<span id="cb10-9"><a href="#cb10-9" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="9">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">Ethnicities.White Alone</th>
<th data-quarto-table-cell-role="th">Ethnicities.Black Alone</th>
<th data-quarto-table-cell-role="th">Ethnicities.American Indian and Alaska Native Alone</th>
<th data-quarto-table-cell-role="th">Ethnicities.Asian Alone</th>
<th data-quarto-table-cell-role="th">Ethnicities.Native Hawaiian and Other Pacific Islander Alone</th>
<th data-quarto-table-cell-role="th">Ethnicities.Two or More Races</th>
<th data-quarto-table-cell-role="th">Ethnicities.Hispanic or Latino</th>
<th data-quarto-table-cell-role="th">Ethnicities.White Alone, not Hispanic or Latino</th>
</tr>
<tr class="even">
<th data-quarto-table-cell-role="th">State</th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">Connecticut</td>
<td>79.7</td>
<td>12.2</td>
<td>0.6</td>
<td>5.0</td>
<td>0.1</td>
<td>2.5</td>
<td>16.9</td>
<td>65.9</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">Delaware</td>
<td>69.2</td>
<td>23.2</td>
<td>0.7</td>
<td>4.1</td>
<td>0.1</td>
<td>2.7</td>
<td>9.6</td>
<td>61.7</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">District of Columbia</td>
<td>46.0</td>
<td>46.0</td>
<td>0.6</td>
<td>4.5</td>
<td>0.1</td>
<td>2.9</td>
<td>11.3</td>
<td>37.5</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">Florida</td>
<td>77.3</td>
<td>16.9</td>
<td>0.5</td>
<td>3.0</td>
<td>0.1</td>
<td>2.2</td>
<td>26.4</td>
<td>53.2</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">Georgia</td>
<td>60.2</td>
<td>32.6</td>
<td>0.5</td>
<td>4.4</td>
<td>0.1</td>
<td>2.2</td>
<td>9.9</td>
<td>52.0</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<p><em>Note: If you need a refresher on regular expressions check out <a href="regex.html" class="quarto-xref"><span>Appendix I</span></a>. </em></p>
<p>We needed to use the <code>set_index()</code> here so that the state name would still be present on the resulting data frames.</p>
<p>This works for other categories as well. Here it is for <code>Income</code>:</p>
<div id="393b0e0c" class="cell" data-execution_count="10">
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a>state_demographics.set_index(<span class="st">"State"</span>).<span class="bu">filter</span>(regex<span class="op">=</span><span class="vs">r"^Income"</span>).head()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="10">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">Income.Median Houseold Income</th>
<th data-quarto-table-cell-role="th">Income.Per Capita Income</th>
<th data-quarto-table-cell-role="th">Income.Persons Below Poverty Level</th>
</tr>
<tr class="even">
<th data-quarto-table-cell-role="th">State</th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">Connecticut</td>
<td>78444</td>
<td>44496</td>
<td>10.0</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">Delaware</td>
<td>68287</td>
<td>35450</td>
<td>11.3</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">District of Columbia</td>
<td>86420</td>
<td>56147</td>
<td>13.5</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">Florida</td>
<td>55660</td>
<td>31619</td>
<td>12.7</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">Georgia</td>
<td>58700</td>
<td>31067</td>
<td>13.3</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<p>We can pass these filtered tables to <code>describe()</code> and other functions as well:</p>
<div id="ee304dc7" class="cell" data-execution_count="11">
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a>state_demographics.set_index(<span class="st">"State"</span>).<span class="bu">filter</span>(regex<span class="op">=</span><span class="vs">r"^Income"</span>).describe()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="11">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">Income.Median Houseold Income</th>
<th data-quarto-table-cell-role="th">Income.Per Capita Income</th>
<th data-quarto-table-cell-role="th">Income.Persons Below Poverty Level</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">count</td>
<td>51.000000</td>
<td>51.000000</td>
<td>51.000000</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">mean</td>
<td>63097.862745</td>
<td>33743.058824</td>
<td>12.170588</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">std</td>
<td>10715.134497</td>
<td>5689.577086</td>
<td>2.678006</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">min</td>
<td>45081.000000</td>
<td>24369.000000</td>
<td>7.300000</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">25%</td>
<td>55560.500000</td>
<td>30276.500000</td>
<td>10.100000</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">50%</td>
<td>61439.000000</td>
<td>32176.000000</td>
<td>11.800000</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">75%</td>
<td>71463.500000</td>
<td>36454.000000</td>
<td>13.500000</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">max</td>
<td>86420.000000</td>
<td>56147.000000</td>
<td>19.600000</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<p>This is another way that we can start to get a feel for our data.</p>
<div id="tip-07-why-filter-columns" class="callout callout-style-default callout-tip callout-titled" title="Stop &amp; Think">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-2-contents" aria-controls="callout-2" aria-expanded="true" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Tip&nbsp;7.2: Stop &amp; Think
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-2" class="callout-2-contents callout-collapse collapse show">
<div class="callout-body-container callout-body">
<p>Why might filtering columns by category prefixes (like “Population” or “Income”) be useful during exploratory data analysis?</p>
</div>
</div>
</div>
</section>
<section id="exploring-your-data" class="level3">
<h3 class="anchored" data-anchor-id="exploring-your-data">Exploring Your Data</h3>
<p>Now that we have a basic idea of what our data looks like, we can start to explore it a bit more. The best place to start is to actually look at the data. Pandas gives you the ability to create basic charts without having to use a 3rd-party package. As long as you don’t want anything too complex, it will be fine to start with.</p>
<section id="basic-population-plots" class="level4">
<h4 class="anchored" data-anchor-id="basic-population-plots">Basic Population Plots</h4>
<p>Let’s start by plotting some basic state population info. We can use Panda’s <a href="https://pandas.pydata.org/docs/reference/api/pandas.DataFrame.plot.html#pandas.DataFrame.plot">plot()</a> function for this:</p>
<div id="956403b5" class="cell" data-execution_count="12">
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a>(</span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a>    state_demographics</span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Take only the columns that start with Population.201X, where X is some digit</span></span>
<span id="cb13-4"><a href="#cb13-4" aria-hidden="true" tabindex="-1"></a>    <span class="co"># E.g., Population.2010, or Population.2014.</span></span>
<span id="cb13-5"><a href="#cb13-5" aria-hidden="true" tabindex="-1"></a>    .<span class="bu">filter</span>(regex<span class="op">=</span><span class="vs">r"^Population\.201\d"</span>)</span>
<span id="cb13-6"><a href="#cb13-6" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Draw a bar plot</span></span>
<span id="cb13-7"><a href="#cb13-7" aria-hidden="true" tabindex="-1"></a>    .plot(kind<span class="op">=</span><span class="st">"bar"</span>)</span>
<span id="cb13-8"><a href="#cb13-8" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="exploratory_data_analysis_files/figure-html/cell-13-output-1.png" class="img-fluid figure-img"></p>
</figure>
</div>
</div>
</div>
<p>That’s not bad, but the axes are a bit weird. Let’s adjust them. The simplest way to do that is to be more specific about which data we will need in our chart. Then, we can explicitly set the x and y axes.</p>
<div id="e44943aa" class="cell" data-execution_count="13">
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Make a list of the columns that we want to keep</span></span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a>columns <span class="op">=</span> [<span class="st">"State"</span>, <span class="st">"Population.2010 Population"</span>, <span class="st">"Population.2014 Population"</span>]</span>
<span id="cb14-3"><a href="#cb14-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-4"><a href="#cb14-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Use the "bracket notation" to select only those columns specified in the list we just</span></span>
<span id="cb14-5"><a href="#cb14-5" aria-hidden="true" tabindex="-1"></a><span class="co"># created.</span></span>
<span id="cb14-6"><a href="#cb14-6" aria-hidden="true" tabindex="-1"></a>plot_data <span class="op">=</span> (</span>
<span id="cb14-7"><a href="#cb14-7" aria-hidden="true" tabindex="-1"></a>    state_demographics[columns]</span>
<span id="cb14-8"><a href="#cb14-8" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Rename the population columns to something shorter.</span></span>
<span id="cb14-9"><a href="#cb14-9" aria-hidden="true" tabindex="-1"></a>    <span class="co"># It will make the chart legends look nicer.</span></span>
<span id="cb14-10"><a href="#cb14-10" aria-hidden="true" tabindex="-1"></a>    .rename(</span>
<span id="cb14-11"><a href="#cb14-11" aria-hidden="true" tabindex="-1"></a>        <span class="co"># We want to rename columns.  The keys of this dictionary are the old column</span></span>
<span id="cb14-12"><a href="#cb14-12" aria-hidden="true" tabindex="-1"></a>        <span class="co"># names, and the values are the new column names.</span></span>
<span id="cb14-13"><a href="#cb14-13" aria-hidden="true" tabindex="-1"></a>        columns<span class="op">=</span>{</span>
<span id="cb14-14"><a href="#cb14-14" aria-hidden="true" tabindex="-1"></a>            <span class="st">"Population.2010 Population"</span>: <span class="st">"2010 Population"</span>,</span>
<span id="cb14-15"><a href="#cb14-15" aria-hidden="true" tabindex="-1"></a>            <span class="st">"Population.2014 Population"</span>: <span class="st">"2014 Population"</span>,</span>
<span id="cb14-16"><a href="#cb14-16" aria-hidden="true" tabindex="-1"></a>        }</span>
<span id="cb14-17"><a href="#cb14-17" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb14-18"><a href="#cb14-18" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb14-19"><a href="#cb14-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-20"><a href="#cb14-20" aria-hidden="true" tabindex="-1"></a><span class="co"># Plot the data subset</span></span>
<span id="cb14-21"><a href="#cb14-21" aria-hidden="true" tabindex="-1"></a>plot_data.plot(</span>
<span id="cb14-22"><a href="#cb14-22" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Make it a bar chart</span></span>
<span id="cb14-23"><a href="#cb14-23" aria-hidden="true" tabindex="-1"></a>    kind<span class="op">=</span><span class="st">"bar"</span>,</span>
<span id="cb14-24"><a href="#cb14-24" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Put "State" on the x-axis</span></span>
<span id="cb14-25"><a href="#cb14-25" aria-hidden="true" tabindex="-1"></a>    x<span class="op">=</span><span class="st">"State"</span>,</span>
<span id="cb14-26"><a href="#cb14-26" aria-hidden="true" tabindex="-1"></a>    <span class="co"># And put both population columns on the y-axis</span></span>
<span id="cb14-27"><a href="#cb14-27" aria-hidden="true" tabindex="-1"></a>    y<span class="op">=</span>[<span class="st">"2010 Population"</span>, <span class="st">"2014 Population"</span>],</span>
<span id="cb14-28"><a href="#cb14-28" aria-hidden="true" tabindex="-1"></a>    figsize<span class="op">=</span>(<span class="dv">8</span>, <span class="dv">3</span>),</span>
<span id="cb14-29"><a href="#cb14-29" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="exploratory_data_analysis_files/figure-html/cell-14-output-1.png" class="img-fluid figure-img"></p>
</figure>
</div>
</div>
</div>
<p>Not bad! The plotting function was smart enough to put both population data series on the chart, and to include a nice legend so that we can tell them apart.</p>
<p>At least we have the State names on the x-axis now, but they are pretty smooshed together. There are a bunch of ways we could fix it:</p>
<ul>
<li>Shrink the label size</li>
<li>Adjust the chart proportions</li>
<li>Use a horizontal bar chart (and adjust the proportions)</li>
</ul>
<p>Shrinking the label size:</p>
<div id="6d41164d" class="cell" data-execution_count="14">
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a>plot_data.plot(</span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a>    kind<span class="op">=</span><span class="st">"bar"</span>,</span>
<span id="cb15-3"><a href="#cb15-3" aria-hidden="true" tabindex="-1"></a>    x<span class="op">=</span><span class="st">"State"</span>,</span>
<span id="cb15-4"><a href="#cb15-4" aria-hidden="true" tabindex="-1"></a>    y<span class="op">=</span>[<span class="st">"2010 Population"</span>, <span class="st">"2014 Population"</span>],</span>
<span id="cb15-5"><a href="#cb15-5" aria-hidden="true" tabindex="-1"></a>    fontsize<span class="op">=</span><span class="dv">6</span>,</span>
<span id="cb15-6"><a href="#cb15-6" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="exploratory_data_analysis_files/figure-html/cell-15-output-1.png" class="img-fluid figure-img"></p>
</figure>
</div>
</div>
</div>
<p>That works, but now the labels are tiny, and it shrunk both the x and y axis labels. You can shrink just the x-axis tick labels, but to do so you need to “eject” out of the pandas API and drop down into <a href="https://matplotlib.org/">matplotlib</a> code.</p>
<div id="fb391c65" class="cell" data-execution_count="15">
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> matplotlib.pyplot <span class="im">as</span> plt</span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-3"><a href="#cb16-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Create your plot</span></span>
<span id="cb16-4"><a href="#cb16-4" aria-hidden="true" tabindex="-1"></a>ax <span class="op">=</span> plot_data.plot(</span>
<span id="cb16-5"><a href="#cb16-5" aria-hidden="true" tabindex="-1"></a>    kind<span class="op">=</span><span class="st">"bar"</span>,</span>
<span id="cb16-6"><a href="#cb16-6" aria-hidden="true" tabindex="-1"></a>    x<span class="op">=</span><span class="st">"State"</span>,</span>
<span id="cb16-7"><a href="#cb16-7" aria-hidden="true" tabindex="-1"></a>    y<span class="op">=</span>[<span class="st">"2010 Population"</span>, <span class="st">"2014 Population"</span>],</span>
<span id="cb16-8"><a href="#cb16-8" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb16-9"><a href="#cb16-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-10"><a href="#cb16-10" aria-hidden="true" tabindex="-1"></a><span class="co"># Adjust only x-axis tick labels</span></span>
<span id="cb16-11"><a href="#cb16-11" aria-hidden="true" tabindex="-1"></a><span class="co"># 8 is the fontsize, adjust it as needed</span></span>
<span id="cb16-12"><a href="#cb16-12" aria-hidden="true" tabindex="-1"></a>ax.tick_params(axis<span class="op">=</span><span class="st">"x"</span>, labelsize<span class="op">=</span><span class="dv">8</span>)</span>
<span id="cb16-13"><a href="#cb16-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-14"><a href="#cb16-14" aria-hidden="true" tabindex="-1"></a><span class="co"># Show the chart</span></span>
<span id="cb16-15"><a href="#cb16-15" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="exploratory_data_analysis_files/figure-html/cell-16-output-1.png" class="img-fluid figure-img"></p>
</figure>
</div>
</div>
</div>
<p><em>Don’t worry too much about the details of this. I just wanted to show you that the plots returned by Pandas are really matplotlib objects, and can be interacted with in the usual way when required.</em></p>
<p>Let’s adjust the figure proportions next:</p>
<div id="0d98848a" class="cell" data-execution_count="16">
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a>plot_data.plot(</span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a>    kind<span class="op">=</span><span class="st">"bar"</span>,</span>
<span id="cb17-3"><a href="#cb17-3" aria-hidden="true" tabindex="-1"></a>    x<span class="op">=</span><span class="st">"State"</span>,</span>
<span id="cb17-4"><a href="#cb17-4" aria-hidden="true" tabindex="-1"></a>    y<span class="op">=</span>[<span class="st">"2010 Population"</span>, <span class="st">"2014 Population"</span>],</span>
<span id="cb17-5"><a href="#cb17-5" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Set the width to 8 units, and the height to 3</span></span>
<span id="cb17-6"><a href="#cb17-6" aria-hidden="true" tabindex="-1"></a>    figsize<span class="op">=</span>(<span class="dv">8</span>, <span class="dv">3</span>),</span>
<span id="cb17-7"><a href="#cb17-7" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Set the font size of all tick labels to 9</span></span>
<span id="cb17-8"><a href="#cb17-8" aria-hidden="true" tabindex="-1"></a>    fontsize<span class="op">=</span><span class="dv">9</span></span>
<span id="cb17-9"><a href="#cb17-9" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="exploratory_data_analysis_files/figure-html/cell-17-output-1.png" class="img-fluid figure-img"></p>
</figure>
</div>
</div>
</div>
<p>That’s fairly readable. Above, I mentioned how long data and plots tend to fit better on the screen both in your reports and when actively doing the analysis. So let’s switch to a horizontal bar chart. That way, we can give the states a little more room on the plot.</p>
<div id="afcb3a40" class="cell" data-execution_count="17">
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a>plot_data.plot(</span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Draw a horizontal bar chart. Note the `h` at the end of `barh`.</span></span>
<span id="cb18-3"><a href="#cb18-3" aria-hidden="true" tabindex="-1"></a>    kind<span class="op">=</span><span class="st">"barh"</span>,</span>
<span id="cb18-4"><a href="#cb18-4" aria-hidden="true" tabindex="-1"></a>    x<span class="op">=</span><span class="st">"State"</span>,</span>
<span id="cb18-5"><a href="#cb18-5" aria-hidden="true" tabindex="-1"></a>    y<span class="op">=</span>[<span class="st">"2010 Population"</span>, <span class="st">"2014 Population"</span>],</span>
<span id="cb18-6"><a href="#cb18-6" aria-hidden="true" tabindex="-1"></a>    figsize<span class="op">=</span>(<span class="dv">5</span>, <span class="dv">8</span>),</span>
<span id="cb18-7"><a href="#cb18-7" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="exploratory_data_analysis_files/figure-html/cell-18-output-1.png" class="img-fluid figure-img"></p>
</figure>
</div>
</div>
</div>
<p><em>Note: You might find it a little weird that we still specify <code>State</code> as the x values and <code>Population</code> as the <code>y</code> values, even thought the chart shows the on the opposite axis. Just roll with it :)</em></p>
<p>That’s looking pretty good now! You might think it is a little bit weird for the state names to be going in reverse alphabetical order as you go down the page. I suppose this is chosen because in “normal” math plots, the origin is 0, and the values “increase” as you move away from the origin. However, it just feels weird for it to do this when the y-axis is categorical rather than continuous. So let’s reverse it.</p>
<div id="b1618ce1" class="cell" data-execution_count="18">
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a>(</span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a>    plot_data</span>
<span id="cb19-3"><a href="#cb19-3" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Reverse sort the rows based on the State column</span></span>
<span id="cb19-4"><a href="#cb19-4" aria-hidden="true" tabindex="-1"></a>    .sort_values(<span class="st">"State"</span>, ascending<span class="op">=</span><span class="va">False</span>).plot(</span>
<span id="cb19-5"><a href="#cb19-5" aria-hidden="true" tabindex="-1"></a>        kind<span class="op">=</span><span class="st">"barh"</span>,</span>
<span id="cb19-6"><a href="#cb19-6" aria-hidden="true" tabindex="-1"></a>        x<span class="op">=</span><span class="st">"State"</span>,</span>
<span id="cb19-7"><a href="#cb19-7" aria-hidden="true" tabindex="-1"></a>        y<span class="op">=</span>[<span class="st">"2010 Population"</span>, <span class="st">"2014 Population"</span>],</span>
<span id="cb19-8"><a href="#cb19-8" aria-hidden="true" tabindex="-1"></a>        figsize<span class="op">=</span>(<span class="dv">5</span>, <span class="dv">8</span>),</span>
<span id="cb19-9"><a href="#cb19-9" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb19-10"><a href="#cb19-10" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="exploratory_data_analysis_files/figure-html/cell-19-output-1.png" class="img-fluid figure-img"></p>
</figure>
</div>
</div>
</div>
<p>One last thing. Let’s add an axis label to the x-axis. I know there is a legend there, but I think it is still good practice to label all axes in a plot.</p>
<div id="ac7ca9d1" class="cell" data-execution_count="19">
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a>(</span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true" tabindex="-1"></a>    plot_data</span>
<span id="cb20-3"><a href="#cb20-3" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Reverse sort the rows based on the State column</span></span>
<span id="cb20-4"><a href="#cb20-4" aria-hidden="true" tabindex="-1"></a>    .sort_values(<span class="st">"State"</span>, ascending<span class="op">=</span><span class="va">False</span>).plot(</span>
<span id="cb20-5"><a href="#cb20-5" aria-hidden="true" tabindex="-1"></a>        kind<span class="op">=</span><span class="st">"barh"</span>,</span>
<span id="cb20-6"><a href="#cb20-6" aria-hidden="true" tabindex="-1"></a>        x<span class="op">=</span><span class="st">"State"</span>,</span>
<span id="cb20-7"><a href="#cb20-7" aria-hidden="true" tabindex="-1"></a>        y<span class="op">=</span>[<span class="st">"2010 Population"</span>, <span class="st">"2014 Population"</span>],</span>
<span id="cb20-8"><a href="#cb20-8" aria-hidden="true" tabindex="-1"></a>        figsize<span class="op">=</span>(<span class="dv">5</span>, <span class="dv">8</span>),</span>
<span id="cb20-9"><a href="#cb20-9" aria-hidden="true" tabindex="-1"></a>        xlabel<span class="op">=</span><span class="st">"Population"</span></span>
<span id="cb20-10"><a href="#cb20-10" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb20-11"><a href="#cb20-11" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="exploratory_data_analysis_files/figure-html/cell-20-output-1.png" class="img-fluid figure-img"></p>
</figure>
</div>
</div>
</div>
<p>That’s what I’m talking about! As you can see, with just a few lines of code, you can make totally reasonable looking plots.</p>
<p>Depending on your use case, you might want to sort the data so that the bars are always decreasing. That way, it’s easier for the viewer to look at overall trends, rather than being able to quickly pick out specific states.</p>
<p>To do this we will sort by population. However, we are plotting two different years on the chart, so we need to decide which way to sort it. Reasonable options might be:</p>
<ul>
<li>Pick one of the years and sort by that one</li>
<li>Sort by the mean</li>
<li>Sort by the max</li>
</ul>
<p>Any of them could work depending on your situation, but let’s keep it simple and sort by the 2014 population:</p>
<div id="8c176bfc" class="cell" data-execution_count="20">
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a>(</span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true" tabindex="-1"></a>    plot_data</span>
<span id="cb21-3"><a href="#cb21-3" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Reverse sort the rows based on the State column</span></span>
<span id="cb21-4"><a href="#cb21-4" aria-hidden="true" tabindex="-1"></a>    .sort_values(<span class="st">"2014 Population"</span>).plot(</span>
<span id="cb21-5"><a href="#cb21-5" aria-hidden="true" tabindex="-1"></a>        kind<span class="op">=</span><span class="st">"barh"</span>,</span>
<span id="cb21-6"><a href="#cb21-6" aria-hidden="true" tabindex="-1"></a>        x<span class="op">=</span><span class="st">"State"</span>,</span>
<span id="cb21-7"><a href="#cb21-7" aria-hidden="true" tabindex="-1"></a>        y<span class="op">=</span>[<span class="st">"2010 Population"</span>, <span class="st">"2014 Population"</span>],</span>
<span id="cb21-8"><a href="#cb21-8" aria-hidden="true" tabindex="-1"></a>        figsize<span class="op">=</span>(<span class="dv">5</span>, <span class="dv">8</span>),</span>
<span id="cb21-9"><a href="#cb21-9" aria-hidden="true" tabindex="-1"></a>        xlabel<span class="op">=</span><span class="st">"Population"</span>,</span>
<span id="cb21-10"><a href="#cb21-10" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb21-11"><a href="#cb21-11" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="exploratory_data_analysis_files/figure-html/cell-21-output-1.png" class="img-fluid figure-img"></p>
</figure>
</div>
</div>
</div>
<div id="tip-07-why-nice-plots" class="callout callout-style-default callout-tip callout-titled" title="Stop &amp; Think">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-3-contents" aria-controls="callout-3" aria-expanded="true" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Tip&nbsp;7.3: Stop &amp; Think
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-3" class="callout-3-contents callout-collapse collapse show">
<div class="callout-body-container callout-body">
<p>Why might it be important to have clean, professional looking data visualizations, even during the exploratory data analysis phase of your project?</p>
</div>
</div>
</div>
</section>
<section id="percent-population-change" class="level4">
<h4 class="anchored" data-anchor-id="percent-population-change">Percent Population Change</h4>
<p>Notice any trends? One thing that we can kind of see is that there are some states that look like they had bigger population changes than other states. One of our data columns already tracks this: <code>Population.Population Percent Change</code>. Let’s take a look at the basic plot. We will use a lot of the same options as we did in the last one.</p>
<div id="3de4e0fc" class="cell" data-execution_count="21">
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a>state_demographics.plot(</span>
<span id="cb22-2"><a href="#cb22-2" aria-hidden="true" tabindex="-1"></a>    kind<span class="op">=</span><span class="st">"barh"</span>,</span>
<span id="cb22-3"><a href="#cb22-3" aria-hidden="true" tabindex="-1"></a>    x<span class="op">=</span><span class="st">"State"</span>,</span>
<span id="cb22-4"><a href="#cb22-4" aria-hidden="true" tabindex="-1"></a>    y<span class="op">=</span><span class="st">"Population.Population Percent Change"</span>,</span>
<span id="cb22-5"><a href="#cb22-5" aria-hidden="true" tabindex="-1"></a>    figsize<span class="op">=</span>(<span class="dv">5</span>, <span class="dv">8</span>),</span>
<span id="cb22-6"><a href="#cb22-6" aria-hidden="true" tabindex="-1"></a>    xlabel<span class="op">=</span><span class="st">"Population"</span>,</span>
<span id="cb22-7"><a href="#cb22-7" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="exploratory_data_analysis_files/figure-html/cell-22-output-1.png" class="img-fluid figure-img"></p>
</figure>
</div>
</div>
</div>
<p>This plot is pretty good, but we can do better with a bit more effort. Here’s a couple things that will improve it:</p>
<ul>
<li>Remove the legend since there is only one series to plot</li>
<li>Adjust the bar color so that population increase blue and decrease is orange</li>
<li>Sort states from most increase to most decrease</li>
</ul>
<div id="2350701b" class="cell" data-execution_count="22">
<div class="sourceCode cell-code" id="cb23"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a>plot_data <span class="op">=</span> state_demographics[</span>
<span id="cb23-2"><a href="#cb23-2" aria-hidden="true" tabindex="-1"></a>    [<span class="st">"State"</span>, <span class="st">"Population.Population Percent Change"</span>]</span>
<span id="cb23-3"><a href="#cb23-3" aria-hidden="true" tabindex="-1"></a>].sort_values(<span class="st">"Population.Population Percent Change"</span>)</span>
<span id="cb23-4"><a href="#cb23-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-5"><a href="#cb23-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Create list with colors based on positive/negative values</span></span>
<span id="cb23-6"><a href="#cb23-6" aria-hidden="true" tabindex="-1"></a>colors <span class="op">=</span> [</span>
<span id="cb23-7"><a href="#cb23-7" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Negative values will be orange, positive values will be blue</span></span>
<span id="cb23-8"><a href="#cb23-8" aria-hidden="true" tabindex="-1"></a>    <span class="st">"tab:orange"</span> <span class="cf">if</span> x <span class="op">&lt;</span> <span class="dv">0</span> <span class="cf">else</span> <span class="st">"tab:blue"</span></span>
<span id="cb23-9"><a href="#cb23-9" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Do this calculation for each value in the series that we want to plot.</span></span>
<span id="cb23-10"><a href="#cb23-10" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> x <span class="kw">in</span> plot_data[<span class="st">"Population.Population Percent Change"</span>]</span>
<span id="cb23-11"><a href="#cb23-11" aria-hidden="true" tabindex="-1"></a>]</span>
<span id="cb23-12"><a href="#cb23-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-13"><a href="#cb23-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-14"><a href="#cb23-14" aria-hidden="true" tabindex="-1"></a>plot_data.plot(</span>
<span id="cb23-15"><a href="#cb23-15" aria-hidden="true" tabindex="-1"></a>    kind<span class="op">=</span><span class="st">"barh"</span>,</span>
<span id="cb23-16"><a href="#cb23-16" aria-hidden="true" tabindex="-1"></a>    x<span class="op">=</span><span class="st">"State"</span>,</span>
<span id="cb23-17"><a href="#cb23-17" aria-hidden="true" tabindex="-1"></a>    y<span class="op">=</span><span class="st">"Population.Population Percent Change"</span>,</span>
<span id="cb23-18"><a href="#cb23-18" aria-hidden="true" tabindex="-1"></a>    figsize<span class="op">=</span>(<span class="dv">5</span>, <span class="dv">8</span>),</span>
<span id="cb23-19"><a href="#cb23-19" aria-hidden="true" tabindex="-1"></a>    xlabel<span class="op">=</span><span class="st">"Population Change (%)"</span>,</span>
<span id="cb23-20"><a href="#cb23-20" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Specify the list of colors to use</span></span>
<span id="cb23-21"><a href="#cb23-21" aria-hidden="true" tabindex="-1"></a>    color<span class="op">=</span>colors,</span>
<span id="cb23-22"><a href="#cb23-22" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Remove the legend</span></span>
<span id="cb23-23"><a href="#cb23-23" aria-hidden="true" tabindex="-1"></a>    legend<span class="op">=</span><span class="va">False</span>,</span>
<span id="cb23-24"><a href="#cb23-24" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb23-25"><a href="#cb23-25" aria-hidden="true" tabindex="-1"></a><span class="co"># Put a gray line at x=0 to help guide the viewer's attention.</span></span>
<span id="cb23-26"><a href="#cb23-26" aria-hidden="true" tabindex="-1"></a>plt.axvline(x<span class="op">=</span><span class="dv">0</span>, color<span class="op">=</span><span class="st">"#666666"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="exploratory_data_analysis_files/figure-html/cell-23-output-1.png" class="img-fluid figure-img"></p>
</figure>
</div>
</div>
</div>
<p>To adjust the colors, we had to create a list of colors the same length as the data that we wanted to plot. In this way, each row will be given its correct color.</p>
<p><em>Note: <code>tab:blue</code> and <code>tab:orange</code> are built-in colors in <a href="https://matplotlib.org/stable/gallery/color/color_cycle_default.html#sphx-glr-gallery-color-color-cycle-default-py">matplotlib</a>.</em></p>
<p><em>Note: You can specify these labeled arguments in any order.</em></p>
<p>That’s really not a bad plot! I wonder if the states with the biggest population changes were already some of the most populous states?</p>
<div id="01540d92" class="cell" data-execution_count="23">
<div class="sourceCode cell-code" id="cb24"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a>state_demographics.plot(</span>
<span id="cb24-2"><a href="#cb24-2" aria-hidden="true" tabindex="-1"></a>    kind<span class="op">=</span><span class="st">"scatter"</span>,</span>
<span id="cb24-3"><a href="#cb24-3" aria-hidden="true" tabindex="-1"></a>    x<span class="op">=</span><span class="st">"Population.2010 Population"</span>,</span>
<span id="cb24-4"><a href="#cb24-4" aria-hidden="true" tabindex="-1"></a>    y<span class="op">=</span><span class="st">"Population.Population Percent Change"</span>,</span>
<span id="cb24-5"><a href="#cb24-5" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="exploratory_data_analysis_files/figure-html/cell-24-output-1.png" class="img-fluid figure-img"></p>
</figure>
</div>
</div>
</div>
<p>Doesn’t look like a super strong trend there, but let’s log the x scale as maybe orders of magnitude matter here.</p>
<div id="451af271" class="cell" data-execution_count="24">
<div class="sourceCode cell-code" id="cb25"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a>state_demographics.plot(</span>
<span id="cb25-2"><a href="#cb25-2" aria-hidden="true" tabindex="-1"></a>    kind<span class="op">=</span><span class="st">"scatter"</span>,</span>
<span id="cb25-3"><a href="#cb25-3" aria-hidden="true" tabindex="-1"></a>    x<span class="op">=</span><span class="st">"Population.2010 Population"</span>,</span>
<span id="cb25-4"><a href="#cb25-4" aria-hidden="true" tabindex="-1"></a>    y<span class="op">=</span><span class="st">"Population.Population Percent Change"</span>,</span>
<span id="cb25-5"><a href="#cb25-5" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Log the x axis</span></span>
<span id="cb25-6"><a href="#cb25-6" aria-hidden="true" tabindex="-1"></a>    logx<span class="op">=</span><span class="va">True</span>,</span>
<span id="cb25-7"><a href="#cb25-7" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="exploratory_data_analysis_files/figure-html/cell-25-output-1.png" class="img-fluid figure-img"></p>
</figure>
</div>
</div>
</div>
<p>Nope, nothing there.</p>
<div id="tip-07-log-scale-purpose" class="callout callout-style-default callout-tip callout-titled" title="Stop &amp; Think">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-4-contents" aria-controls="callout-4" aria-expanded="true" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Tip&nbsp;7.4: Stop &amp; Think
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-4" class="callout-4-contents callout-collapse collapse show">
<div class="callout-body-container callout-body">
<p>When might you use a logarithmic scale on either axis of a plot, and what insights can this reveal that a linear scale might not?</p>
</div>
</div>
</div>
<p>Do you think any of the state demographic data is correlated with the percent population change? To try and answer this question, we can calculate all the correlation values for the columns in the state demographics data frame.</p>
<div id="cfe9a027" class="cell" data-execution_count="25">
<div class="sourceCode cell-code" id="cb26"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Get the correlation between columns in the data frame</span></span>
<span id="cb26-2"><a href="#cb26-2" aria-hidden="true" tabindex="-1"></a>correlation_matrix <span class="op">=</span> state_demographics.corr(</span>
<span id="cb26-3"><a href="#cb26-3" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Restrict the calculation to only numeric columns</span></span>
<span id="cb26-4"><a href="#cb26-4" aria-hidden="true" tabindex="-1"></a>    numeric_only<span class="op">=</span><span class="va">True</span></span>
<span id="cb26-5"><a href="#cb26-5" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="tip-07-what-correlation-tells-us" class="callout callout-style-default callout-tip callout-titled" title="Stop &amp; Think">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-5-contents" aria-controls="callout-5" aria-expanded="true" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Tip&nbsp;7.5: Stop &amp; Think
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-5" class="callout-5-contents callout-collapse collapse show">
<div class="callout-body-container callout-body">
<p>What can correlation values tell us during exploratory data analysis, and what are their limitations?</p>
</div>
</div>
</div>
<p>Now that we have the correlation values, let’s take a look at them. First, we need to make a data frame with the data in a nice format that makes it easy to plot the data.</p>
<div id="e943b0cc" class="cell" data-execution_count="26">
<div class="sourceCode cell-code" id="cb27"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Display the correlations values between the percent population change and the other</span></span>
<span id="cb27-2"><a href="#cb27-2" aria-hidden="true" tabindex="-1"></a><span class="co"># variables.</span></span>
<span id="cb27-3"><a href="#cb27-3" aria-hidden="true" tabindex="-1"></a>plot_data <span class="op">=</span> (</span>
<span id="cb27-4"><a href="#cb27-4" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Select only the percent change column</span></span>
<span id="cb27-5"><a href="#cb27-5" aria-hidden="true" tabindex="-1"></a>    correlation_matrix[[<span class="st">"Population.Population Percent Change"</span>]]</span>
<span id="cb27-6"><a href="#cb27-6" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Then sort the rows based on their correlation to the percent population change</span></span>
<span id="cb27-7"><a href="#cb27-7" aria-hidden="true" tabindex="-1"></a>    .sort_values(<span class="st">"Population.Population Percent Change"</span>)</span>
<span id="cb27-8"><a href="#cb27-8" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Remove the Population.Population Percent Change row from the results, since</span></span>
<span id="cb27-9"><a href="#cb27-9" aria-hidden="true" tabindex="-1"></a>    <span class="co"># we don't care about the "self-correlation"</span></span>
<span id="cb27-10"><a href="#cb27-10" aria-hidden="true" tabindex="-1"></a>    .drop(<span class="st">"Population.Population Percent Change"</span>)</span>
<span id="cb27-11"><a href="#cb27-11" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Convert the row names to a column called "Variable"</span></span>
<span id="cb27-12"><a href="#cb27-12" aria-hidden="true" tabindex="-1"></a>    .reset_index(names<span class="op">=</span><span class="st">"Variable"</span>)</span>
<span id="cb27-13"><a href="#cb27-13" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Rename the 2nd column for a nicer looking chart</span></span>
<span id="cb27-14"><a href="#cb27-14" aria-hidden="true" tabindex="-1"></a>    .rename(columns<span class="op">=</span>{<span class="st">"Population.Population Percent Change"</span>: <span class="st">"Correlation"</span>})</span>
<span id="cb27-15"><a href="#cb27-15" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb27-16"><a href="#cb27-16" aria-hidden="true" tabindex="-1"></a>plot_data</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="26">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">Variable</th>
<th data-quarto-table-cell-role="th">Correlation</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>Miscellaneous.Living in Same House +1 Years</td>
<td>-0.690011</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>Age.Percent 65 and Older</td>
<td>-0.423079</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2</td>
<td>Housing.Homeownership Rate</td>
<td>-0.343682</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">3</td>
<td>Miscellaneous.Percent Under 66 Years With a Di...</td>
<td>-0.306390</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">4</td>
<td>Ethnicities.White Alone, not Hispanic or Latino</td>
<td>-0.269663</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">...</td>
<td>...</td>
<td>...</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">41</td>
<td>Housing.Persons per Household</td>
<td>0.277861</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">42</td>
<td>Age.Percent Under 18 Years</td>
<td>0.323823</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">43</td>
<td>Miscellaneous.Percent Under 65 Years Without H...</td>
<td>0.330227</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">44</td>
<td>Housing.Households with a computer</td>
<td>0.455228</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">45</td>
<td>Age.Percent Under 5 Years</td>
<td>0.459584</td>
</tr>
</tbody>
</table>

<p>46 rows × 2 columns</p>
</div>
</div>
</div>
<p><em>Note: earlier we used <code>drop()</code> to remove columns. Now you see that it can also be used to drop rows, depending on the arguments used. You will find Pandas has a lot of functions like this.</em></p>
<p>Next, we can create a list of colors for the bars of the plot. We want to color variables with a positive correlation to the percent population change blue, and a negative correlation orange.</p>
<div id="59fbc758" class="cell" data-execution_count="27">
<div class="sourceCode cell-code" id="cb28"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Create list with colors based on positive/negative values</span></span>
<span id="cb28-2"><a href="#cb28-2" aria-hidden="true" tabindex="-1"></a>colors <span class="op">=</span> [</span>
<span id="cb28-3"><a href="#cb28-3" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Negative values will be orange, positive values will be blue</span></span>
<span id="cb28-4"><a href="#cb28-4" aria-hidden="true" tabindex="-1"></a>    <span class="st">"tab:orange"</span> <span class="cf">if</span> x <span class="op">&lt;</span> <span class="dv">0</span> <span class="cf">else</span> <span class="st">"tab:blue"</span></span>
<span id="cb28-5"><a href="#cb28-5" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Do this calculation for each correlation value in the series.</span></span>
<span id="cb28-6"><a href="#cb28-6" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> x <span class="kw">in</span> plot_data[<span class="st">"Correlation"</span>]</span>
<span id="cb28-7"><a href="#cb28-7" aria-hidden="true" tabindex="-1"></a>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Finally, let’s make the plot. The code will be very similar to the previous plots we have made.</p>
<div id="1357cd19" class="cell" data-execution_count="28">
<div class="sourceCode cell-code" id="cb29"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a>plot_data.plot(</span>
<span id="cb29-2"><a href="#cb29-2" aria-hidden="true" tabindex="-1"></a>    kind<span class="op">=</span><span class="st">"barh"</span>,</span>
<span id="cb29-3"><a href="#cb29-3" aria-hidden="true" tabindex="-1"></a>    x<span class="op">=</span><span class="st">"Variable"</span>,</span>
<span id="cb29-4"><a href="#cb29-4" aria-hidden="true" tabindex="-1"></a>    y<span class="op">=</span><span class="st">"Correlation"</span>,</span>
<span id="cb29-5"><a href="#cb29-5" aria-hidden="true" tabindex="-1"></a>    figsize<span class="op">=</span>(<span class="dv">5</span>, <span class="dv">10</span>),</span>
<span id="cb29-6"><a href="#cb29-6" aria-hidden="true" tabindex="-1"></a>    xlabel<span class="op">=</span><span class="st">"Correlation with Percent Population Change"</span>,</span>
<span id="cb29-7"><a href="#cb29-7" aria-hidden="true" tabindex="-1"></a>    legend<span class="op">=</span><span class="va">False</span>,</span>
<span id="cb29-8"><a href="#cb29-8" aria-hidden="true" tabindex="-1"></a>    color<span class="op">=</span>colors,</span>
<span id="cb29-9"><a href="#cb29-9" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb29-10"><a href="#cb29-10" aria-hidden="true" tabindex="-1"></a>plt.axvline(x<span class="op">=</span><span class="dv">0</span>, color<span class="op">=</span><span class="st">"#666666"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="exploratory_data_analysis_files/figure-html/cell-29-output-1.png" class="img-fluid figure-img"></p>
</figure>
</div>
</div>
</div>
<p>That’s nice! Do you see any interesting trends?</p>
<ul>
<li>Age data
<ul>
<li>Increasing proportion of young population is strongly correlated with positive population change</li>
<li>Increasing proportion of elderly population is highly correlated with decreasing population.</li>
<li>Makes sense…</li>
</ul></li>
<li>Ethnicity data
<ul>
<li>These are all positively correlated with population change: “Hispanic or Latino”, “Languages other than English at home”, “Foreign Born”.</li>
<li>In contrast, “White Alone” and “White Alone, not Hispanic or Latino” are negatively correlated with population change.</li>
<li>Is this suggesting immigration is driving some of the population growth?</li>
</ul></li>
<li>Education &amp; Income data
<ul>
<li>“Households with a computer”, “Households with internet”, “Bachelor’s Degree or Higher” are positively correlated with population change</li>
<li>“Persons Below Poverty Level” is negatively correlated with population change</li>
<li>Maybe it’s suggesting people are moving to more educated or prosperous areas?</li>
</ul></li>
</ul>
<p>These are all avenues that you might want to take a look at if this data was important to your research.</p>
<p>As you can see, there are a lot variables there and most of them have pretty weak correlation. This is a good time to show you how to filter rows based on some criteria of the data. Let’s filter out any rows that have correlation values between -0.15 and 0.15. To do this, we can use <a href="https://pandas.pydata.org/docs/reference/api/pandas.DataFrame.query.html#pandas.DataFrame.query">query()</a>:</p>
<div id="0ab94a02" class="cell" data-execution_count="29">
<div class="sourceCode cell-code" id="cb30"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb30-1"><a href="#cb30-1" aria-hidden="true" tabindex="-1"></a>plot_data_with_some_correlation <span class="op">=</span> plot_data.query(</span>
<span id="cb30-2"><a href="#cb30-2" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Correlation &lt; -0.15 or Correlation &gt; 0.15"</span></span>
<span id="cb30-3"><a href="#cb30-3" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>The <code>query()</code> function is very cool and highly flexible and dynamic. We will see a few more examples of it later in the tutorial. For now, just know that you can access columns of your data frame and use them to filter rows in a natural looking way.</p>
<p>Once we have the filtered data, we can regenerate the color list, and plot the data.</p>
<div id="a38ca972" class="cell" data-execution_count="30">
<div class="sourceCode cell-code" id="cb31"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb31-1"><a href="#cb31-1" aria-hidden="true" tabindex="-1"></a><span class="co"># We need to redo the colors again.</span></span>
<span id="cb31-2"><a href="#cb31-2" aria-hidden="true" tabindex="-1"></a>colors <span class="op">=</span> [</span>
<span id="cb31-3"><a href="#cb31-3" aria-hidden="true" tabindex="-1"></a>    <span class="st">"tab:orange"</span> <span class="cf">if</span> x <span class="op">&lt;</span> <span class="dv">0</span> <span class="cf">else</span> <span class="st">"tab:blue"</span></span>
<span id="cb31-4"><a href="#cb31-4" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> x <span class="kw">in</span> plot_data_with_some_correlation[<span class="st">"Correlation"</span>]</span>
<span id="cb31-5"><a href="#cb31-5" aria-hidden="true" tabindex="-1"></a>]</span>
<span id="cb31-6"><a href="#cb31-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-7"><a href="#cb31-7" aria-hidden="true" tabindex="-1"></a>plot_data_with_some_correlation.plot(</span>
<span id="cb31-8"><a href="#cb31-8" aria-hidden="true" tabindex="-1"></a>    kind<span class="op">=</span><span class="st">"barh"</span>,</span>
<span id="cb31-9"><a href="#cb31-9" aria-hidden="true" tabindex="-1"></a>    x<span class="op">=</span><span class="st">"Variable"</span>,</span>
<span id="cb31-10"><a href="#cb31-10" aria-hidden="true" tabindex="-1"></a>    y<span class="op">=</span><span class="st">"Correlation"</span>,</span>
<span id="cb31-11"><a href="#cb31-11" aria-hidden="true" tabindex="-1"></a>    figsize<span class="op">=</span>(<span class="dv">5</span>, <span class="dv">10</span>),</span>
<span id="cb31-12"><a href="#cb31-12" aria-hidden="true" tabindex="-1"></a>    xlabel<span class="op">=</span><span class="st">"Correlation with Percent Population Change"</span>,</span>
<span id="cb31-13"><a href="#cb31-13" aria-hidden="true" tabindex="-1"></a>    legend<span class="op">=</span><span class="va">False</span>,</span>
<span id="cb31-14"><a href="#cb31-14" aria-hidden="true" tabindex="-1"></a>    color<span class="op">=</span>colors,</span>
<span id="cb31-15"><a href="#cb31-15" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb31-16"><a href="#cb31-16" aria-hidden="true" tabindex="-1"></a>plt.axvline(x<span class="op">=</span><span class="dv">0</span>, color<span class="op">=</span><span class="st">"#666666"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="exploratory_data_analysis_files/figure-html/cell-31-output-1.png" class="img-fluid figure-img"></p>
</figure>
</div>
</div>
</div>
<p>It’s generally not a good idea to take correlation values at face value: it doesn’t measure all types of dependencies and it can be tempting to assign causation to things that have high correlation. So for correlation, it’s always a good idea to look at your data whenever possible. Let’s do that now with some of the most highly correlated or anti-correlated variables. We are going to use <a href="https://seaborn.pydata.org/">seaborn</a> for this, as it makes it super simple to compare multiple variables in a single plot. We can even put regression lines with confidence intervals on the plots by setting the <code>kind="reg"</code> argument!</p>
<p>Here is a plot containing some of the most highly correlated variables:</p>
<div id="71246f40" class="cell" data-execution_count="31">
<div class="sourceCode cell-code" id="cb32"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb32-1"><a href="#cb32-1" aria-hidden="true" tabindex="-1"></a>columns <span class="op">=</span> [</span>
<span id="cb32-2"><a href="#cb32-2" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Population.Population Percent Change"</span>,</span>
<span id="cb32-3"><a href="#cb32-3" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Age.Percent Under 5 Years"</span>,</span>
<span id="cb32-4"><a href="#cb32-4" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Housing.Households with a computer"</span>,</span>
<span id="cb32-5"><a href="#cb32-5" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Ethnicities.Hispanic or Latino"</span>,</span>
<span id="cb32-6"><a href="#cb32-6" aria-hidden="true" tabindex="-1"></a>]</span>
<span id="cb32-7"><a href="#cb32-7" aria-hidden="true" tabindex="-1"></a>sns.pairplot(</span>
<span id="cb32-8"><a href="#cb32-8" aria-hidden="true" tabindex="-1"></a>    state_demographics[columns],</span>
<span id="cb32-9"><a href="#cb32-9" aria-hidden="true" tabindex="-1"></a>    kind<span class="op">=</span><span class="st">"reg"</span>,</span>
<span id="cb32-10"><a href="#cb32-10" aria-hidden="true" tabindex="-1"></a>    x_vars<span class="op">=</span>columns[<span class="dv">0</span>],</span>
<span id="cb32-11"><a href="#cb32-11" aria-hidden="true" tabindex="-1"></a>    y_vars<span class="op">=</span>columns[<span class="dv">1</span>:],</span>
<span id="cb32-12"><a href="#cb32-12" aria-hidden="true" tabindex="-1"></a>    height<span class="op">=</span><span class="dv">4</span>,</span>
<span id="cb32-13"><a href="#cb32-13" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="exploratory_data_analysis_files/figure-html/cell-32-output-1.png" class="img-fluid figure-img"></p>
</figure>
</div>
</div>
</div>
<p>And one with the most highly anti-correlated variables:</p>
<div id="86dcafbe" class="cell" data-execution_count="32">
<div class="sourceCode cell-code" id="cb33"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb33-1"><a href="#cb33-1" aria-hidden="true" tabindex="-1"></a>columns <span class="op">=</span> [</span>
<span id="cb33-2"><a href="#cb33-2" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Population.Population Percent Change"</span>,</span>
<span id="cb33-3"><a href="#cb33-3" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Ethnicities.White Alone, not Hispanic or Latino"</span>,</span>
<span id="cb33-4"><a href="#cb33-4" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Age.Percent 65 and Older"</span>,</span>
<span id="cb33-5"><a href="#cb33-5" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Miscellaneous.Living in Same House +1 Years"</span>,</span>
<span id="cb33-6"><a href="#cb33-6" aria-hidden="true" tabindex="-1"></a>]</span>
<span id="cb33-7"><a href="#cb33-7" aria-hidden="true" tabindex="-1"></a>sns.pairplot(</span>
<span id="cb33-8"><a href="#cb33-8" aria-hidden="true" tabindex="-1"></a>    state_demographics[columns],</span>
<span id="cb33-9"><a href="#cb33-9" aria-hidden="true" tabindex="-1"></a>    kind<span class="op">=</span><span class="st">"reg"</span>,</span>
<span id="cb33-10"><a href="#cb33-10" aria-hidden="true" tabindex="-1"></a>    x_vars<span class="op">=</span>columns[<span class="dv">0</span>],</span>
<span id="cb33-11"><a href="#cb33-11" aria-hidden="true" tabindex="-1"></a>    y_vars<span class="op">=</span>columns[<span class="dv">1</span>:],</span>
<span id="cb33-12"><a href="#cb33-12" aria-hidden="true" tabindex="-1"></a>    height<span class="op">=</span><span class="dv">4</span>,</span>
<span id="cb33-13"><a href="#cb33-13" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="exploratory_data_analysis_files/figure-html/cell-33-output-1.png" class="img-fluid figure-img"></p>
</figure>
</div>
</div>
</div>
<p>Neat, at least we have discovered a couple of variables that we may want to look into. One definite potential issue I see here is that the states that have dropped in population seem to be off on their own in all these plots. It would probably be a good idea to see if we are violating any major assumptions of the basic linear model with them, or at least see if they (or any other points) have too much leverage and are misleading us. But that is a topic for a different course!</p>
<p>Before we move on, let’s do one more thing with correlation as it is so common: a correlation heatmap! We can use seaborn’s <a href="https://seaborn.pydata.org/generated/seaborn.clustermap.html">clustermap()</a> for this:</p>
<div id="6330df35" class="cell" data-execution_count="33">
<div class="sourceCode cell-code" id="cb34"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb34-1"><a href="#cb34-1" aria-hidden="true" tabindex="-1"></a>clustermap_plot <span class="op">=</span> sns.clustermap(</span>
<span id="cb34-2"><a href="#cb34-2" aria-hidden="true" tabindex="-1"></a>    correlation_matrix,</span>
<span id="cb34-3"><a href="#cb34-3" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Specify the complete linkage for calculating clusters</span></span>
<span id="cb34-4"><a href="#cb34-4" aria-hidden="true" tabindex="-1"></a>    method<span class="op">=</span><span class="st">"complete"</span>,</span>
<span id="cb34-5"><a href="#cb34-5" aria-hidden="true" tabindex="-1"></a>    <span class="co"># The relative space the dendrograms will occupy</span></span>
<span id="cb34-6"><a href="#cb34-6" aria-hidden="true" tabindex="-1"></a>    dendrogram_ratio<span class="op">=</span><span class="fl">0.05</span>,</span>
<span id="cb34-7"><a href="#cb34-7" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Use the "icefire" diverging palette</span></span>
<span id="cb34-8"><a href="#cb34-8" aria-hidden="true" tabindex="-1"></a>    cmap<span class="op">=</span><span class="st">"icefire"</span>,</span>
<span id="cb34-9"><a href="#cb34-9" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Make sure the min color value occurs at -1</span></span>
<span id="cb34-10"><a href="#cb34-10" aria-hidden="true" tabindex="-1"></a>    vmin<span class="op">=-</span><span class="dv">1</span>,</span>
<span id="cb34-11"><a href="#cb34-11" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Make sure the max color value occurs at 1</span></span>
<span id="cb34-12"><a href="#cb34-12" aria-hidden="true" tabindex="-1"></a>    vmax<span class="op">=</span><span class="dv">1</span>,</span>
<span id="cb34-13"><a href="#cb34-13" aria-hidden="true" tabindex="-1"></a>    figsize<span class="op">=</span>(<span class="dv">12</span>, <span class="dv">12</span>),</span>
<span id="cb34-14"><a href="#cb34-14" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Remove the x-axis tick labels</span></span>
<span id="cb34-15"><a href="#cb34-15" aria-hidden="true" tabindex="-1"></a>    xticklabels<span class="op">=</span><span class="va">True</span>,</span>
<span id="cb34-16"><a href="#cb34-16" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Remove the y-axis tick labels</span></span>
<span id="cb34-17"><a href="#cb34-17" aria-hidden="true" tabindex="-1"></a>    yticklabels<span class="op">=</span><span class="va">True</span>,</span>
<span id="cb34-18"><a href="#cb34-18" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Set the options for the color palette legend</span></span>
<span id="cb34-19"><a href="#cb34-19" aria-hidden="true" tabindex="-1"></a>    cbar_kws<span class="op">=</span>{</span>
<span id="cb34-20"><a href="#cb34-20" aria-hidden="true" tabindex="-1"></a>        <span class="st">"label"</span>: <span class="st">"Correlation"</span>,  <span class="co"># Set the label for the color palette legend</span></span>
<span id="cb34-21"><a href="#cb34-21" aria-hidden="true" tabindex="-1"></a>        <span class="st">"location"</span>: <span class="st">"bottom"</span>,  <span class="co"># Set the location of the color palette legend</span></span>
<span id="cb34-22"><a href="#cb34-22" aria-hidden="true" tabindex="-1"></a>    },</span>
<span id="cb34-23"><a href="#cb34-23" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Set the location for the color palette legend</span></span>
<span id="cb34-24"><a href="#cb34-24" aria-hidden="true" tabindex="-1"></a>    <span class="co"># This is for top left</span></span>
<span id="cb34-25"><a href="#cb34-25" aria-hidden="true" tabindex="-1"></a>    <span class="co"># cbar_pos=(</span></span>
<span id="cb34-26"><a href="#cb34-26" aria-hidden="true" tabindex="-1"></a>    <span class="co">#     0.03,  # Distance from the left</span></span>
<span id="cb34-27"><a href="#cb34-27" aria-hidden="true" tabindex="-1"></a>    <span class="co">#     0.92,  # Distance from the bottom</span></span>
<span id="cb34-28"><a href="#cb34-28" aria-hidden="true" tabindex="-1"></a>    <span class="co">#     0.10,  # Width</span></span>
<span id="cb34-29"><a href="#cb34-29" aria-hidden="true" tabindex="-1"></a>    <span class="co">#     0.05,  # Height</span></span>
<span id="cb34-30"><a href="#cb34-30" aria-hidden="true" tabindex="-1"></a>    <span class="co"># ),</span></span>
<span id="cb34-31"><a href="#cb34-31" aria-hidden="true" tabindex="-1"></a>    cbar_pos<span class="op">=</span>(</span>
<span id="cb34-32"><a href="#cb34-32" aria-hidden="true" tabindex="-1"></a>        <span class="fl">0.65</span>,  <span class="co"># Distance from the left</span></span>
<span id="cb34-33"><a href="#cb34-33" aria-hidden="true" tabindex="-1"></a>        <span class="fl">0.20</span>,  <span class="co"># Distance from the bottom</span></span>
<span id="cb34-34"><a href="#cb34-34" aria-hidden="true" tabindex="-1"></a>        <span class="fl">0.25</span>,  <span class="co"># Width</span></span>
<span id="cb34-35"><a href="#cb34-35" aria-hidden="true" tabindex="-1"></a>        <span class="fl">0.14</span>,  <span class="co"># Height</span></span>
<span id="cb34-36"><a href="#cb34-36" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="cb34-37"><a href="#cb34-37" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="exploratory_data_analysis_files/figure-html/cell-34-output-1.png" class="img-fluid figure-img"></p>
</figure>
</div>
</div>
</div>
<p>Cool! There are a couple things to note about this:</p>
<ul>
<li>One important consideration is setting the minimum and maximum values of your color palette. While you don’t always need to adjust these parameters (and sometimes only need to set one or two of them), being aware of this option is important. Making these adjustments ensures the most informative part of your color palette corresponds to the most relevant range in your data.</li>
<li>For fine-tuning your colorbar, check out the <code>cbar_kws</code> parameter, which passes arguments directly to matplotlib’s <a href="https://matplotlib.org/stable/api/_as_gen/matplotlib.figure.Figure.colorbar.html">colorbar()</a> method. This pattern of documentation referral is something you’ll encounter frequently in the Python ecosystem. Libraries will often direct you to another component’s documentation for parameter details, especially when they’re simply passing those arguments through to underlying functions.</li>
<li>Don’t forget about customizing your clustering approach! The linkage type and distance metric can impact your hierarchical clustering results. The <a href="https://docs.scipy.org/doc/scipy/reference/generated/scipy.cluster.hierarchy.linkage.html#scipy.cluster.hierarchy.linkage">SciPy documentation</a> provides comprehensive details on these options, allowing you to select methods that best represent the relationships in your data.</li>
</ul>
<div id="tip-07-good-color-palette" class="callout callout-style-default callout-tip callout-titled" title="Stop &amp; Think">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-6-contents" aria-controls="callout-6" aria-expanded="true" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Tip&nbsp;7.6: Stop &amp; Think
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-6" class="callout-6-contents callout-collapse collapse show">
<div class="callout-body-container callout-body">
<p>Why is it important to ensure that your color palettes represent the correct data? For example,</p>
<ul>
<li>How would it change your interpretation if the center of the palette (the black part) was on 0.2 rather than zero?</li>
<li>How would it change your interpretation if the brightest blue was -0.2 but the brightest orange was 1.0?</li>
</ul>
</div>
</div>
</div>
<p>There is a lot to unpack with this figure, but the most obvious thing that I see is that blob of bright orange in the bottom right. If you look at the data in those columns, you will see that they are numbers with real magnitude that will be pretty highly influenced by the number of people in the state. A lot of the other columns are not like this. Wouldn’t it be interesting to take those counting-style numbers and normalize them by the state population? E.g., something like manufacturers shipments per 10k people. Let’s do that now.</p>
<div id="a248f7dc" class="cell" data-execution_count="34">
<div class="sourceCode cell-code" id="cb35"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb35-1"><a href="#cb35-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Make a copy of the state demographics data</span></span>
<span id="cb35-2"><a href="#cb35-2" aria-hidden="true" tabindex="-1"></a>normalized_state_demographics <span class="op">=</span> state_demographics.copy()</span>
<span id="cb35-3"><a href="#cb35-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-4"><a href="#cb35-4" aria-hidden="true" tabindex="-1"></a><span class="co"># These are the columns that we want to divide by the population</span></span>
<span id="cb35-5"><a href="#cb35-5" aria-hidden="true" tabindex="-1"></a>columns <span class="op">=</span> [</span>
<span id="cb35-6"><a href="#cb35-6" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Employment.Firms.Men-Owned"</span>,</span>
<span id="cb35-7"><a href="#cb35-7" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Employment.Firms.Minority-Owned"</span>,</span>
<span id="cb35-8"><a href="#cb35-8" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Employment.Firms.Nonminority-Owned"</span>,</span>
<span id="cb35-9"><a href="#cb35-9" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Employment.Firms.Nonveteran-Owned"</span>,</span>
<span id="cb35-10"><a href="#cb35-10" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Employment.Firms.Total"</span>,</span>
<span id="cb35-11"><a href="#cb35-11" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Employment.Firms.Veteran-Owned"</span>,</span>
<span id="cb35-12"><a href="#cb35-12" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Employment.Firms.Women-Owned"</span>,</span>
<span id="cb35-13"><a href="#cb35-13" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Employment.Nonemployer Establishments"</span>,</span>
<span id="cb35-14"><a href="#cb35-14" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Housing.Households"</span>,</span>
<span id="cb35-15"><a href="#cb35-15" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Housing.Housing Units"</span>,</span>
<span id="cb35-16"><a href="#cb35-16" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Miscellaneous.Manufacturers Shipments"</span>,</span>
<span id="cb35-17"><a href="#cb35-17" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Miscellaneous.Veterans"</span>,</span>
<span id="cb35-18"><a href="#cb35-18" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Sales.Accommodation and Food Services Sales"</span>,</span>
<span id="cb35-19"><a href="#cb35-19" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Sales.Retail Sales"</span>,</span>
<span id="cb35-20"><a href="#cb35-20" aria-hidden="true" tabindex="-1"></a>]</span>
<span id="cb35-21"><a href="#cb35-21" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-22"><a href="#cb35-22" aria-hidden="true" tabindex="-1"></a><span class="co"># Loop through each of the columns</span></span>
<span id="cb35-23"><a href="#cb35-23" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> column <span class="kw">in</span> columns:</span>
<span id="cb35-24"><a href="#cb35-24" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Normalize the data: X / Population * 10,000 people</span></span>
<span id="cb35-25"><a href="#cb35-25" aria-hidden="true" tabindex="-1"></a>    normalized_data <span class="op">=</span> (</span>
<span id="cb35-26"><a href="#cb35-26" aria-hidden="true" tabindex="-1"></a>        normalized_state_demographics[column]</span>
<span id="cb35-27"><a href="#cb35-27" aria-hidden="true" tabindex="-1"></a>        <span class="op">/</span> state_demographics[<span class="st">"Population.2010 Population"</span>]</span>
<span id="cb35-28"><a href="#cb35-28" aria-hidden="true" tabindex="-1"></a>        <span class="op">*</span> <span class="dv">10_000</span></span>
<span id="cb35-29"><a href="#cb35-29" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb35-30"><a href="#cb35-30" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Replace the original column with the normalized column</span></span>
<span id="cb35-31"><a href="#cb35-31" aria-hidden="true" tabindex="-1"></a>    normalized_state_demographics[column] <span class="op">=</span> normalized_data</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Now that we have normalized data, we can generate the correlation matrix and plot the heatmap.</p>
<div id="4c68e2ae" class="cell" data-execution_count="35">
<div class="sourceCode cell-code" id="cb36"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb36-1"><a href="#cb36-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Generate a correlation matrix of the numeric columns</span></span>
<span id="cb36-2"><a href="#cb36-2" aria-hidden="true" tabindex="-1"></a>correlation_matrix <span class="op">=</span> normalized_state_demographics.corr(numeric_only<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb36-3"><a href="#cb36-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb36-4"><a href="#cb36-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Draw the clustered heatmap</span></span>
<span id="cb36-5"><a href="#cb36-5" aria-hidden="true" tabindex="-1"></a>clustermap_plot <span class="op">=</span> sns.clustermap(</span>
<span id="cb36-6"><a href="#cb36-6" aria-hidden="true" tabindex="-1"></a>    correlation_matrix,</span>
<span id="cb36-7"><a href="#cb36-7" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Specify the complete linkage for calculating clusters</span></span>
<span id="cb36-8"><a href="#cb36-8" aria-hidden="true" tabindex="-1"></a>    method<span class="op">=</span><span class="st">"complete"</span>,</span>
<span id="cb36-9"><a href="#cb36-9" aria-hidden="true" tabindex="-1"></a>    <span class="co"># The relative space the dendrograms will occupy</span></span>
<span id="cb36-10"><a href="#cb36-10" aria-hidden="true" tabindex="-1"></a>    dendrogram_ratio<span class="op">=</span><span class="fl">0.05</span>,</span>
<span id="cb36-11"><a href="#cb36-11" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Use the "icefire" diverging palette</span></span>
<span id="cb36-12"><a href="#cb36-12" aria-hidden="true" tabindex="-1"></a>    cmap<span class="op">=</span><span class="st">"icefire"</span>,</span>
<span id="cb36-13"><a href="#cb36-13" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Make sure the min color value occurs at -1</span></span>
<span id="cb36-14"><a href="#cb36-14" aria-hidden="true" tabindex="-1"></a>    vmin<span class="op">=-</span><span class="dv">1</span>,</span>
<span id="cb36-15"><a href="#cb36-15" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Make sure the max color value occurs at 1</span></span>
<span id="cb36-16"><a href="#cb36-16" aria-hidden="true" tabindex="-1"></a>    vmax<span class="op">=</span><span class="dv">1</span>,</span>
<span id="cb36-17"><a href="#cb36-17" aria-hidden="true" tabindex="-1"></a>    figsize<span class="op">=</span>(<span class="dv">12</span>, <span class="dv">12</span>),</span>
<span id="cb36-18"><a href="#cb36-18" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Remove the x-axis tick labels</span></span>
<span id="cb36-19"><a href="#cb36-19" aria-hidden="true" tabindex="-1"></a>    xticklabels<span class="op">=</span><span class="va">True</span>,</span>
<span id="cb36-20"><a href="#cb36-20" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Remove the y-axis tick labels</span></span>
<span id="cb36-21"><a href="#cb36-21" aria-hidden="true" tabindex="-1"></a>    yticklabels<span class="op">=</span><span class="va">True</span>,</span>
<span id="cb36-22"><a href="#cb36-22" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Set the options for the color palette legend</span></span>
<span id="cb36-23"><a href="#cb36-23" aria-hidden="true" tabindex="-1"></a>    cbar_kws<span class="op">=</span>{</span>
<span id="cb36-24"><a href="#cb36-24" aria-hidden="true" tabindex="-1"></a>        <span class="st">"label"</span>: <span class="st">"Correlation"</span>,  <span class="co"># Set the label for the color palette legend</span></span>
<span id="cb36-25"><a href="#cb36-25" aria-hidden="true" tabindex="-1"></a>        <span class="st">"location"</span>: <span class="st">"bottom"</span>,  <span class="co"># Set the location of the color palette legend</span></span>
<span id="cb36-26"><a href="#cb36-26" aria-hidden="true" tabindex="-1"></a>    },</span>
<span id="cb36-27"><a href="#cb36-27" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Set the location for the color palette legend</span></span>
<span id="cb36-28"><a href="#cb36-28" aria-hidden="true" tabindex="-1"></a>    cbar_pos<span class="op">=</span>(</span>
<span id="cb36-29"><a href="#cb36-29" aria-hidden="true" tabindex="-1"></a>        <span class="fl">0.65</span>,  <span class="co"># Distance from the left</span></span>
<span id="cb36-30"><a href="#cb36-30" aria-hidden="true" tabindex="-1"></a>        <span class="fl">0.20</span>,  <span class="co"># Distance from the bottom</span></span>
<span id="cb36-31"><a href="#cb36-31" aria-hidden="true" tabindex="-1"></a>        <span class="fl">0.25</span>,  <span class="co"># Width</span></span>
<span id="cb36-32"><a href="#cb36-32" aria-hidden="true" tabindex="-1"></a>        <span class="fl">0.14</span>,  <span class="co"># Height</span></span>
<span id="cb36-33"><a href="#cb36-33" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="cb36-34"><a href="#cb36-34" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="exploratory_data_analysis_files/figure-html/cell-36-output-1.png" class="img-fluid figure-img"></p>
</figure>
</div>
</div>
</div>
<p>After “normalizing out” the effect of population on a bunch of the variables, we can see some trends that were a bit masked before. For example, we can now see some correlation between education, wealth, and income, as well as some potentially interesting trends around ethnicity and age.</p>
<div id="tip-07-why-correlation-heatmap" class="callout callout-style-default callout-tip callout-titled" title="Stop &amp; Think">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-7-contents" aria-controls="callout-7" aria-expanded="true" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Tip&nbsp;7.7: Stop &amp; Think
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-7" class="callout-7-contents callout-collapse collapse show">
<div class="callout-body-container callout-body">
<p>What insights can a correlation heatmap with clustering provide that a simple correlation table cannot?</p>
</div>
</div>
</div>
</section>
</section>
<section id="state-demographics-wrap-up" class="level3">
<h3 class="anchored" data-anchor-id="state-demographics-wrap-up">State Demographics Wrap-Up</h3>
<p>We went over a lot of material in this section! I hope it gave you a sense of how exploratory data analysis can go using Pandas and Seaborn: you begin by exploring the data to get a sense of it, identify patterns and trends, and then dive deeper into those patterns to better understand the system you’re analyzing.</p>
</section>
</section>
<section id="cancer-data" class="level2">
<h2 class="anchored" data-anchor-id="cancer-data">Cancer data</h2>
<p>Now that you have a basic understanding of using Pandas for EDA, let’s take a look at some public health data.</p>
<p>We’re going to look at the <a href="https://corgis-edu.github.io/corgis/csv/cancer/">cancer data</a> from CORGIS. This dataset contains information about cancer deaths between 2007 and 2013 in each state. Specifically, these are deaths from breast, lung, and colorectal cancer. In addition to the total death rate, the rates have also been broken down by age, race, and sex.</p>
<section id="basic-info" class="level3">
<h3 class="anchored" data-anchor-id="basic-info">Basic Info</h3>
<p>To start, we need to read the CSV file with the cancer data.</p>
<div id="832ebdb6" class="cell" data-execution_count="36">
<div class="sourceCode cell-code" id="cb37"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb37-1"><a href="#cb37-1" aria-hidden="true" tabindex="-1"></a>cancer <span class="op">=</span> pd.read_csv(<span class="st">"./_data/cancer.csv"</span>)</span>
<span id="cb37-2"><a href="#cb37-2" aria-hidden="true" tabindex="-1"></a>cancer.head()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="36">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">State</th>
<th data-quarto-table-cell-role="th">Total.Rate</th>
<th data-quarto-table-cell-role="th">Total.Number</th>
<th data-quarto-table-cell-role="th">Total.Population</th>
<th data-quarto-table-cell-role="th">Rates.Age.&lt; 18</th>
<th data-quarto-table-cell-role="th">Rates.Age.18-45</th>
<th data-quarto-table-cell-role="th">Rates.Age.45-64</th>
<th data-quarto-table-cell-role="th">Rates.Age.&gt; 64</th>
<th data-quarto-table-cell-role="th">Rates.Age and Sex.Female.&lt; 18</th>
<th data-quarto-table-cell-role="th">Rates.Age and Sex.Male.&lt; 18</th>
<th data-quarto-table-cell-role="th">...</th>
<th data-quarto-table-cell-role="th">Types.Lung.Age and Sex.Male.45 - 64</th>
<th data-quarto-table-cell-role="th">Types.Lung.Age and Sex.Female.&gt; 64</th>
<th data-quarto-table-cell-role="th">Types.Lung.Age and Sex.Male.&gt; 64</th>
<th data-quarto-table-cell-role="th">Types.Lung.Race.White</th>
<th data-quarto-table-cell-role="th">Types.Lung.Race.White non-Hispanic</th>
<th data-quarto-table-cell-role="th">Types.Lung.Race.Black</th>
<th data-quarto-table-cell-role="th">Types.Lung.Race.Black non-Hispanic</th>
<th data-quarto-table-cell-role="th">Types.Lung.Race.Asian</th>
<th data-quarto-table-cell-role="th">Types.Lung.Race.Indigenous</th>
<th data-quarto-table-cell-role="th">Types.Lung.Race.Hispanic</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>Alabama</td>
<td>214.2</td>
<td>71529.0</td>
<td>33387205.0</td>
<td>2.0</td>
<td>18.5</td>
<td>244.7</td>
<td>1017.8</td>
<td>2.0</td>
<td>2.1</td>
<td>...</td>
<td>102.9</td>
<td>221.7</td>
<td>457.4</td>
<td>59.9</td>
<td>60.4</td>
<td>52.6</td>
<td>52.8</td>
<td>23.0</td>
<td>22.9</td>
<td>14.8</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>Alaska</td>
<td>128.1</td>
<td>6361.0</td>
<td>4966180.0</td>
<td>1.7</td>
<td>11.8</td>
<td>170.9</td>
<td>965.2</td>
<td>0.0</td>
<td>0.0</td>
<td>...</td>
<td>50.3</td>
<td>268.3</td>
<td>335.0</td>
<td>48.7</td>
<td>49.5</td>
<td>45.6</td>
<td>47.9</td>
<td>33.0</td>
<td>74.4</td>
<td>0.0</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2</td>
<td>Arizona</td>
<td>165.6</td>
<td>74286.0</td>
<td>44845598.0</td>
<td>2.5</td>
<td>13.6</td>
<td>173.6</td>
<td>840.2</td>
<td>2.6</td>
<td>2.5</td>
<td>...</td>
<td>47.0</td>
<td>191.9</td>
<td>275.8</td>
<td>39.5</td>
<td>42.2</td>
<td>38.2</td>
<td>40.4</td>
<td>21.3</td>
<td>11.1</td>
<td>21.6</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">3</td>
<td>Arkansas</td>
<td>223.9</td>
<td>45627.0</td>
<td>20382448.0</td>
<td>2.3</td>
<td>17.6</td>
<td>250.1</td>
<td>1048.3</td>
<td>2.6</td>
<td>2.0</td>
<td>...</td>
<td>106.5</td>
<td>248.7</td>
<td>484.7</td>
<td>63.4</td>
<td>64.2</td>
<td>62.9</td>
<td>63.0</td>
<td>18.1</td>
<td>16.2</td>
<td>14.6</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">4</td>
<td>California</td>
<td>150.9</td>
<td>393980.0</td>
<td>261135696.0</td>
<td>2.6</td>
<td>13.7</td>
<td>163.7</td>
<td>902.4</td>
<td>2.4</td>
<td>2.8</td>
<td>...</td>
<td>36.8</td>
<td>192.5</td>
<td>269.0</td>
<td>37.2</td>
<td>42.6</td>
<td>46.5</td>
<td>48.6</td>
<td>25.8</td>
<td>18.4</td>
<td>18.3</td>
</tr>
</tbody>
</table>

<p>5 rows × 75 columns</p>
</div>
</div>
</div>
<p>Like before, we will use <code>describe()</code> to get a basic overview of the numeric data columns.</p>
<div id="f8540391" class="cell" data-execution_count="37">
<div class="sourceCode cell-code" id="cb38"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb38-1"><a href="#cb38-1" aria-hidden="true" tabindex="-1"></a>cancer.describe().style.<span class="bu">format</span>(precision<span class="op">=</span><span class="dv">1</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="37">
<style type="text/css">
</style>

<table id="T_532a6" class="caption-top table table-sm table-striped small" data-quarto-postprocess="true">
<thead>
<tr class="header">
<th class="blank level0" data-quarto-table-cell-role="th">&nbsp;</th>
<th id="T_532a6_level0_col0" class="col_heading level0 col0" data-quarto-table-cell-role="th">Total.Rate</th>
<th id="T_532a6_level0_col1" class="col_heading level0 col1" data-quarto-table-cell-role="th">Total.Number</th>
<th id="T_532a6_level0_col2" class="col_heading level0 col2" data-quarto-table-cell-role="th">Total.Population</th>
<th id="T_532a6_level0_col3" class="col_heading level0 col3" data-quarto-table-cell-role="th">Rates.Age.&lt; 18</th>
<th id="T_532a6_level0_col4" class="col_heading level0 col4" data-quarto-table-cell-role="th">Rates.Age.18-45</th>
<th id="T_532a6_level0_col5" class="col_heading level0 col5" data-quarto-table-cell-role="th">Rates.Age.45-64</th>
<th id="T_532a6_level0_col6" class="col_heading level0 col6" data-quarto-table-cell-role="th">Rates.Age.&gt; 64</th>
<th id="T_532a6_level0_col7" class="col_heading level0 col7" data-quarto-table-cell-role="th">Rates.Age and Sex.Female.&lt; 18</th>
<th id="T_532a6_level0_col8" class="col_heading level0 col8" data-quarto-table-cell-role="th">Rates.Age and Sex.Male.&lt; 18</th>
<th id="T_532a6_level0_col9" class="col_heading level0 col9" data-quarto-table-cell-role="th">Rates.Age and Sex.Female.18 - 45</th>
<th id="T_532a6_level0_col10" class="col_heading level0 col10" data-quarto-table-cell-role="th">Rates.Age and Sex.Male.18 - 45</th>
<th id="T_532a6_level0_col11" class="col_heading level0 col11" data-quarto-table-cell-role="th">Rates.Age and Sex.Female.45 - 64</th>
<th id="T_532a6_level0_col12" class="col_heading level0 col12" data-quarto-table-cell-role="th">Rates.Age and Sex.Male.45 - 64</th>
<th id="T_532a6_level0_col13" class="col_heading level0 col13" data-quarto-table-cell-role="th">Rates.Age and Sex.Female.&gt; 64</th>
<th id="T_532a6_level0_col14" class="col_heading level0 col14" data-quarto-table-cell-role="th">Rates.Age and Sex.Male.&gt; 64</th>
<th id="T_532a6_level0_col15" class="col_heading level0 col15" data-quarto-table-cell-role="th">Rates.Race.White</th>
<th id="T_532a6_level0_col16" class="col_heading level0 col16" data-quarto-table-cell-role="th">Rates.Race.White non-Hispanic</th>
<th id="T_532a6_level0_col17" class="col_heading level0 col17" data-quarto-table-cell-role="th">Rates.Race.Black</th>
<th id="T_532a6_level0_col18" class="col_heading level0 col18" data-quarto-table-cell-role="th">Rates.Race.Asian</th>
<th id="T_532a6_level0_col19" class="col_heading level0 col19" data-quarto-table-cell-role="th">Rates.Race.Indigenous</th>
<th id="T_532a6_level0_col20" class="col_heading level0 col20" data-quarto-table-cell-role="th">Rates.Race and Sex.Female.White</th>
<th id="T_532a6_level0_col21" class="col_heading level0 col21" data-quarto-table-cell-role="th">Rates.Race and Sex.Female.White non-Hispanic</th>
<th id="T_532a6_level0_col22" class="col_heading level0 col22" data-quarto-table-cell-role="th">Rates.Race and Sex.Female.Black</th>
<th id="T_532a6_level0_col23" class="col_heading level0 col23" data-quarto-table-cell-role="th">Rates.Race and Sex.Female.Black non-Hispanic</th>
<th id="T_532a6_level0_col24" class="col_heading level0 col24" data-quarto-table-cell-role="th">Rates.Race and Sex.Female.Asian</th>
<th id="T_532a6_level0_col25" class="col_heading level0 col25" data-quarto-table-cell-role="th">Rates.Race and Sex.Female.Indigenous</th>
<th id="T_532a6_level0_col26" class="col_heading level0 col26" data-quarto-table-cell-role="th">Rates.Race and Sex.Male.White</th>
<th id="T_532a6_level0_col27" class="col_heading level0 col27" data-quarto-table-cell-role="th">Rates.Race and Sex.Male.White non-Hispanic</th>
<th id="T_532a6_level0_col28" class="col_heading level0 col28" data-quarto-table-cell-role="th">Rates.Race and Sex.Male.Black</th>
<th id="T_532a6_level0_col29" class="col_heading level0 col29" data-quarto-table-cell-role="th">Rates.Race and Sex.Male.Black non-Hispanic</th>
<th id="T_532a6_level0_col30" class="col_heading level0 col30" data-quarto-table-cell-role="th">Rates.Race and Sex.Male.Asian</th>
<th id="T_532a6_level0_col31" class="col_heading level0 col31" data-quarto-table-cell-role="th">Rates.Race and Sex.Male.Indigenous</th>
<th id="T_532a6_level0_col32" class="col_heading level0 col32" data-quarto-table-cell-role="th">Rates.Race.Hispanic</th>
<th id="T_532a6_level0_col33" class="col_heading level0 col33" data-quarto-table-cell-role="th">Rates.Race and Sex.Female.Hispanic</th>
<th id="T_532a6_level0_col34" class="col_heading level0 col34" data-quarto-table-cell-role="th">Rates.Race and Sex.Male.Hispanic</th>
<th id="T_532a6_level0_col35" class="col_heading level0 col35" data-quarto-table-cell-role="th">Types.Breast.Total</th>
<th id="T_532a6_level0_col36" class="col_heading level0 col36" data-quarto-table-cell-role="th">Types.Breast.Age.18 - 44</th>
<th id="T_532a6_level0_col37" class="col_heading level0 col37" data-quarto-table-cell-role="th">Types.Breast.Age.45 - 64</th>
<th id="T_532a6_level0_col38" class="col_heading level0 col38" data-quarto-table-cell-role="th">Types.Breast.Age.&gt; 64</th>
<th id="T_532a6_level0_col39" class="col_heading level0 col39" data-quarto-table-cell-role="th">Types.Breast.Race.White</th>
<th id="T_532a6_level0_col40" class="col_heading level0 col40" data-quarto-table-cell-role="th">Types.Breast.Race.White non-Hispanic</th>
<th id="T_532a6_level0_col41" class="col_heading level0 col41" data-quarto-table-cell-role="th">Types.Breast.Race.Black</th>
<th id="T_532a6_level0_col42" class="col_heading level0 col42" data-quarto-table-cell-role="th">Types.Breast.Race.Black non-Hispanic</th>
<th id="T_532a6_level0_col43" class="col_heading level0 col43" data-quarto-table-cell-role="th">Types.Breast.Race.Asian</th>
<th id="T_532a6_level0_col44" class="col_heading level0 col44" data-quarto-table-cell-role="th">Types.Breast.Race.Indigenous</th>
<th id="T_532a6_level0_col45" class="col_heading level0 col45" data-quarto-table-cell-role="th">Types.Breast.Race.Hispanic</th>
<th id="T_532a6_level0_col46" class="col_heading level0 col46" data-quarto-table-cell-role="th">Types.Colorectal.Total</th>
<th id="T_532a6_level0_col47" class="col_heading level0 col47" data-quarto-table-cell-role="th">Types.Colorectal.Age and Sex.Female.18 - 44</th>
<th id="T_532a6_level0_col48" class="col_heading level0 col48" data-quarto-table-cell-role="th">Types.Colorectal.Age and Sex.Male.18 - 44</th>
<th id="T_532a6_level0_col49" class="col_heading level0 col49" data-quarto-table-cell-role="th">Types.Colorectal.Age and Sex.Female.45 - 64</th>
<th id="T_532a6_level0_col50" class="col_heading level0 col50" data-quarto-table-cell-role="th">Types.Colorectal.Age and Sex.Male.45 - 64</th>
<th id="T_532a6_level0_col51" class="col_heading level0 col51" data-quarto-table-cell-role="th">Types.Colorectal.Age and Sex.Female.&gt; 64</th>
<th id="T_532a6_level0_col52" class="col_heading level0 col52" data-quarto-table-cell-role="th">Types.Colorectal.Age and Sex.Male.&gt; 64</th>
<th id="T_532a6_level0_col53" class="col_heading level0 col53" data-quarto-table-cell-role="th">Types.Colorectal.Race.White</th>
<th id="T_532a6_level0_col54" class="col_heading level0 col54" data-quarto-table-cell-role="th">Types.Colorectal.Race.White non-Hispanic</th>
<th id="T_532a6_level0_col55" class="col_heading level0 col55" data-quarto-table-cell-role="th">Types.Colorectal.Race.Black</th>
<th id="T_532a6_level0_col56" class="col_heading level0 col56" data-quarto-table-cell-role="th">Types.Colorectal.Race.Black non-Hispanic</th>
<th id="T_532a6_level0_col57" class="col_heading level0 col57" data-quarto-table-cell-role="th">Types.Colorectal.Race.Asian</th>
<th id="T_532a6_level0_col58" class="col_heading level0 col58" data-quarto-table-cell-role="th">Types.Colorectal.Race.Indigenous</th>
<th id="T_532a6_level0_col59" class="col_heading level0 col59" data-quarto-table-cell-role="th">Types.Colorectal.Race.Hispanic</th>
<th id="T_532a6_level0_col60" class="col_heading level0 col60" data-quarto-table-cell-role="th">Types.Lung.Total</th>
<th id="T_532a6_level0_col61" class="col_heading level0 col61" data-quarto-table-cell-role="th">Types.Lung.Age and Sex.Female.18 - 44</th>
<th id="T_532a6_level0_col62" class="col_heading level0 col62" data-quarto-table-cell-role="th">Types.Lung.Age and Sex.Male.18 - 44</th>
<th id="T_532a6_level0_col63" class="col_heading level0 col63" data-quarto-table-cell-role="th">Types.Lung.Age and Sex.Female.45 - 64</th>
<th id="T_532a6_level0_col64" class="col_heading level0 col64" data-quarto-table-cell-role="th">Types.Lung.Age and Sex.Male.45 - 64</th>
<th id="T_532a6_level0_col65" class="col_heading level0 col65" data-quarto-table-cell-role="th">Types.Lung.Age and Sex.Female.&gt; 64</th>
<th id="T_532a6_level0_col66" class="col_heading level0 col66" data-quarto-table-cell-role="th">Types.Lung.Age and Sex.Male.&gt; 64</th>
<th id="T_532a6_level0_col67" class="col_heading level0 col67" data-quarto-table-cell-role="th">Types.Lung.Race.White</th>
<th id="T_532a6_level0_col68" class="col_heading level0 col68" data-quarto-table-cell-role="th">Types.Lung.Race.White non-Hispanic</th>
<th id="T_532a6_level0_col69" class="col_heading level0 col69" data-quarto-table-cell-role="th">Types.Lung.Race.Black</th>
<th id="T_532a6_level0_col70" class="col_heading level0 col70" data-quarto-table-cell-role="th">Types.Lung.Race.Black non-Hispanic</th>
<th id="T_532a6_level0_col71" class="col_heading level0 col71" data-quarto-table-cell-role="th">Types.Lung.Race.Asian</th>
<th id="T_532a6_level0_col72" class="col_heading level0 col72" data-quarto-table-cell-role="th">Types.Lung.Race.Indigenous</th>
<th id="T_532a6_level0_col73" class="col_heading level0 col73" data-quarto-table-cell-role="th">Types.Lung.Race.Hispanic</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td id="T_532a6_level0_row0" class="row_heading level0 row0" data-quarto-table-cell-role="th">count</td>
<td id="T_532a6_row0_col0" class="data row0 col0">51.0</td>
<td id="T_532a6_row0_col1" class="data row0 col1">51.0</td>
<td id="T_532a6_row0_col2" class="data row0 col2">51.0</td>
<td id="T_532a6_row0_col3" class="data row0 col3">51.0</td>
<td id="T_532a6_row0_col4" class="data row0 col4">51.0</td>
<td id="T_532a6_row0_col5" class="data row0 col5">51.0</td>
<td id="T_532a6_row0_col6" class="data row0 col6">51.0</td>
<td id="T_532a6_row0_col7" class="data row0 col7">51.0</td>
<td id="T_532a6_row0_col8" class="data row0 col8">51.0</td>
<td id="T_532a6_row0_col9" class="data row0 col9">51.0</td>
<td id="T_532a6_row0_col10" class="data row0 col10">51.0</td>
<td id="T_532a6_row0_col11" class="data row0 col11">51.0</td>
<td id="T_532a6_row0_col12" class="data row0 col12">51.0</td>
<td id="T_532a6_row0_col13" class="data row0 col13">51.0</td>
<td id="T_532a6_row0_col14" class="data row0 col14">51.0</td>
<td id="T_532a6_row0_col15" class="data row0 col15">51.0</td>
<td id="T_532a6_row0_col16" class="data row0 col16">51.0</td>
<td id="T_532a6_row0_col17" class="data row0 col17">51.0</td>
<td id="T_532a6_row0_col18" class="data row0 col18">51.0</td>
<td id="T_532a6_row0_col19" class="data row0 col19">51.0</td>
<td id="T_532a6_row0_col20" class="data row0 col20">51.0</td>
<td id="T_532a6_row0_col21" class="data row0 col21">51.0</td>
<td id="T_532a6_row0_col22" class="data row0 col22">51.0</td>
<td id="T_532a6_row0_col23" class="data row0 col23">51.0</td>
<td id="T_532a6_row0_col24" class="data row0 col24">51.0</td>
<td id="T_532a6_row0_col25" class="data row0 col25">51.0</td>
<td id="T_532a6_row0_col26" class="data row0 col26">51.0</td>
<td id="T_532a6_row0_col27" class="data row0 col27">51.0</td>
<td id="T_532a6_row0_col28" class="data row0 col28">51.0</td>
<td id="T_532a6_row0_col29" class="data row0 col29">51.0</td>
<td id="T_532a6_row0_col30" class="data row0 col30">51.0</td>
<td id="T_532a6_row0_col31" class="data row0 col31">51.0</td>
<td id="T_532a6_row0_col32" class="data row0 col32">51.0</td>
<td id="T_532a6_row0_col33" class="data row0 col33">51.0</td>
<td id="T_532a6_row0_col34" class="data row0 col34">51.0</td>
<td id="T_532a6_row0_col35" class="data row0 col35">51.0</td>
<td id="T_532a6_row0_col36" class="data row0 col36">51.0</td>
<td id="T_532a6_row0_col37" class="data row0 col37">51.0</td>
<td id="T_532a6_row0_col38" class="data row0 col38">51.0</td>
<td id="T_532a6_row0_col39" class="data row0 col39">51.0</td>
<td id="T_532a6_row0_col40" class="data row0 col40">51.0</td>
<td id="T_532a6_row0_col41" class="data row0 col41">51.0</td>
<td id="T_532a6_row0_col42" class="data row0 col42">51.0</td>
<td id="T_532a6_row0_col43" class="data row0 col43">51.0</td>
<td id="T_532a6_row0_col44" class="data row0 col44">51.0</td>
<td id="T_532a6_row0_col45" class="data row0 col45">51.0</td>
<td id="T_532a6_row0_col46" class="data row0 col46">51.0</td>
<td id="T_532a6_row0_col47" class="data row0 col47">51.0</td>
<td id="T_532a6_row0_col48" class="data row0 col48">51.0</td>
<td id="T_532a6_row0_col49" class="data row0 col49">51.0</td>
<td id="T_532a6_row0_col50" class="data row0 col50">51.0</td>
<td id="T_532a6_row0_col51" class="data row0 col51">51.0</td>
<td id="T_532a6_row0_col52" class="data row0 col52">51.0</td>
<td id="T_532a6_row0_col53" class="data row0 col53">51.0</td>
<td id="T_532a6_row0_col54" class="data row0 col54">51.0</td>
<td id="T_532a6_row0_col55" class="data row0 col55">51.0</td>
<td id="T_532a6_row0_col56" class="data row0 col56">51.0</td>
<td id="T_532a6_row0_col57" class="data row0 col57">51.0</td>
<td id="T_532a6_row0_col58" class="data row0 col58">51.0</td>
<td id="T_532a6_row0_col59" class="data row0 col59">51.0</td>
<td id="T_532a6_row0_col60" class="data row0 col60">51.0</td>
<td id="T_532a6_row0_col61" class="data row0 col61">51.0</td>
<td id="T_532a6_row0_col62" class="data row0 col62">51.0</td>
<td id="T_532a6_row0_col63" class="data row0 col63">51.0</td>
<td id="T_532a6_row0_col64" class="data row0 col64">51.0</td>
<td id="T_532a6_row0_col65" class="data row0 col65">51.0</td>
<td id="T_532a6_row0_col66" class="data row0 col66">51.0</td>
<td id="T_532a6_row0_col67" class="data row0 col67">51.0</td>
<td id="T_532a6_row0_col68" class="data row0 col68">51.0</td>
<td id="T_532a6_row0_col69" class="data row0 col69">51.0</td>
<td id="T_532a6_row0_col70" class="data row0 col70">51.0</td>
<td id="T_532a6_row0_col71" class="data row0 col71">51.0</td>
<td id="T_532a6_row0_col72" class="data row0 col72">51.0</td>
<td id="T_532a6_row0_col73" class="data row0 col73">51.0</td>
</tr>
<tr class="even">
<td id="T_532a6_level0_row1" class="row_heading level0 row1" data-quarto-table-cell-role="th">mean</td>
<td id="T_532a6_row1_col0" class="data row1 col0">190.7</td>
<td id="T_532a6_row1_col1" class="data row1 col1">78723.7</td>
<td id="T_532a6_row1_col2" class="data row1 col2">42401510.5</td>
<td id="T_532a6_row1_col3" class="data row1 col3">2.1</td>
<td id="T_532a6_row1_col4" class="data row1 col4">14.8</td>
<td id="T_532a6_row1_col5" class="data row1 col5">197.6</td>
<td id="T_532a6_row1_col6" class="data row1 col6">980.9</td>
<td id="T_532a6_row1_col7" class="data row1 col7">1.7</td>
<td id="T_532a6_row1_col8" class="data row1 col8">2.0</td>
<td id="T_532a6_row1_col9" class="data row1 col9">16.0</td>
<td id="T_532a6_row1_col10" class="data row1 col10">13.5</td>
<td id="T_532a6_row1_col11" class="data row1 col11">177.8</td>
<td id="T_532a6_row1_col12" class="data row1 col12">218.3</td>
<td id="T_532a6_row1_col13" class="data row1 col13">826.7</td>
<td id="T_532a6_row1_col14" class="data row1 col14">1181.8</td>
<td id="T_532a6_row1_col15" class="data row1 col15">171.0</td>
<td id="T_532a6_row1_col16" class="data row1 col16">173.2</td>
<td id="T_532a6_row1_col17" class="data row1 col17">182.8</td>
<td id="T_532a6_row1_col18" class="data row1 col18">99.0</td>
<td id="T_532a6_row1_col19" class="data row1 col19">111.1</td>
<td id="T_532a6_row1_col20" class="data row1 col20">145.6</td>
<td id="T_532a6_row1_col21" class="data row1 col21">147.7</td>
<td id="T_532a6_row1_col22" class="data row1 col22">142.7</td>
<td id="T_532a6_row1_col23" class="data row1 col23">146.6</td>
<td id="T_532a6_row1_col24" class="data row1 col24">85.0</td>
<td id="T_532a6_row1_col25" class="data row1 col25">88.7</td>
<td id="T_532a6_row1_col26" class="data row1 col26">206.4</td>
<td id="T_532a6_row1_col27" class="data row1 col27">208.7</td>
<td id="T_532a6_row1_col28" class="data row1 col28">222.9</td>
<td id="T_532a6_row1_col29" class="data row1 col29">228.2</td>
<td id="T_532a6_row1_col30" class="data row1 col30">107.2</td>
<td id="T_532a6_row1_col31" class="data row1 col31">129.6</td>
<td id="T_532a6_row1_col32" class="data row1 col32">98.2</td>
<td id="T_532a6_row1_col33" class="data row1 col33">82.2</td>
<td id="T_532a6_row1_col34" class="data row1 col34">115.5</td>
<td id="T_532a6_row1_col35" class="data row1 col35">26.0</td>
<td id="T_532a6_row1_col36" class="data row1 col36">4.0</td>
<td id="T_532a6_row1_col37" class="data row1 col37">34.9</td>
<td id="T_532a6_row1_col38" class="data row1 col38">102.3</td>
<td id="T_532a6_row1_col39" class="data row1 col39">21.2</td>
<td id="T_532a6_row1_col40" class="data row1 col40">21.6</td>
<td id="T_532a6_row1_col41" class="data row1 col41">22.6</td>
<td id="T_532a6_row1_col42" class="data row1 col42">23.2</td>
<td id="T_532a6_row1_col43" class="data row1 col43">6.0</td>
<td id="T_532a6_row1_col44" class="data row1 col44">5.0</td>
<td id="T_532a6_row1_col45" class="data row1 col45">8.6</td>
<td id="T_532a6_row1_col46" class="data row1 col46">17.5</td>
<td id="T_532a6_row1_col47" class="data row1 col47">1.1</td>
<td id="T_532a6_row1_col48" class="data row1 col48">1.5</td>
<td id="T_532a6_row1_col49" class="data row1 col49">14.7</td>
<td id="T_532a6_row1_col50" class="data row1 col50">21.4</td>
<td id="T_532a6_row1_col51" class="data row1 col51">81.8</td>
<td id="T_532a6_row1_col52" class="data row1 col52">101.5</td>
<td id="T_532a6_row1_col53" class="data row1 col53">15.2</td>
<td id="T_532a6_row1_col54" class="data row1 col54">15.4</td>
<td id="T_532a6_row1_col55" class="data row1 col55">17.0</td>
<td id="T_532a6_row1_col56" class="data row1 col56">17.4</td>
<td id="T_532a6_row1_col57" class="data row1 col57">7.0</td>
<td id="T_532a6_row1_col58" class="data row1 col58">6.9</td>
<td id="T_532a6_row1_col59" class="data row1 col59">8.2</td>
<td id="T_532a6_row1_col60" class="data row1 col60">53.2</td>
<td id="T_532a6_row1_col61" class="data row1 col61">1.3</td>
<td id="T_532a6_row1_col62" class="data row1 col62">1.4</td>
<td id="T_532a6_row1_col63" class="data row1 col63">45.6</td>
<td id="T_532a6_row1_col64" class="data row1 col64">64.8</td>
<td id="T_532a6_row1_col65" class="data row1 col65">224.7</td>
<td id="T_532a6_row1_col66" class="data row1 col66">355.0</td>
<td id="T_532a6_row1_col67" class="data row1 col67">48.2</td>
<td id="T_532a6_row1_col68" class="data row1 col68">49.3</td>
<td id="T_532a6_row1_col69" class="data row1 col69">44.1</td>
<td id="T_532a6_row1_col70" class="data row1 col70">44.5</td>
<td id="T_532a6_row1_col71" class="data row1 col71">19.3</td>
<td id="T_532a6_row1_col72" class="data row1 col72">27.3</td>
<td id="T_532a6_row1_col73" class="data row1 col73">16.2</td>
</tr>
<tr class="odd">
<td id="T_532a6_level0_row2" class="row_heading level0 row2" data-quarto-table-cell-role="th">std</td>
<td id="T_532a6_row2_col0" class="data row2 col0">28.6</td>
<td id="T_532a6_row2_col1" class="data row2 col1">80861.3</td>
<td id="T_532a6_row2_col2" class="data row2 col2">47842444.3</td>
<td id="T_532a6_row2_col3" class="data row2 col3">0.5</td>
<td id="T_532a6_row2_col4" class="data row2 col4">2.2</td>
<td id="T_532a6_row2_col5" class="data row2 col5">31.3</td>
<td id="T_532a6_row2_col6" class="data row2 col6">75.2</td>
<td id="T_532a6_row2_col7" class="data row2 col7">0.8</td>
<td id="T_532a6_row2_col8" class="data row2 col8">0.9</td>
<td id="T_532a6_row2_col9" class="data row2 col9">2.5</td>
<td id="T_532a6_row2_col10" class="data row2 col10">2.0</td>
<td id="T_532a6_row2_col11" class="data row2 col11">23.0</td>
<td id="T_532a6_row2_col12" class="data row2 col12">41.0</td>
<td id="T_532a6_row2_col13" class="data row2 col13">65.4</td>
<td id="T_532a6_row2_col14" class="data row2 col14">105.2</td>
<td id="T_532a6_row2_col15" class="data row2 col15">15.0</td>
<td id="T_532a6_row2_col16" class="data row2 col16">15.0</td>
<td id="T_532a6_row2_col17" class="data row2 col17">48.7</td>
<td id="T_532a6_row2_col18" class="data row2 col18">21.6</td>
<td id="T_532a6_row2_col19" class="data row2 col19">68.3</td>
<td id="T_532a6_row2_col20" class="data row2 col20">11.4</td>
<td id="T_532a6_row2_col21" class="data row2 col21">11.5</td>
<td id="T_532a6_row2_col22" class="data row2 col22">58.1</td>
<td id="T_532a6_row2_col23" class="data row2 col23">58.2</td>
<td id="T_532a6_row2_col24" class="data row2 col24">23.2</td>
<td id="T_532a6_row2_col25" class="data row2 col25">61.7</td>
<td id="T_532a6_row2_col26" class="data row2 col26">21.5</td>
<td id="T_532a6_row2_col27" class="data row2 col27">21.7</td>
<td id="T_532a6_row2_col28" class="data row2 col28">83.5</td>
<td id="T_532a6_row2_col29" class="data row2 col29">83.1</td>
<td id="T_532a6_row2_col30" class="data row2 col30">41.7</td>
<td id="T_532a6_row2_col31" class="data row2 col31">90.6</td>
<td id="T_532a6_row2_col32" class="data row2 col32">24.1</td>
<td id="T_532a6_row2_col33" class="data row2 col33">24.5</td>
<td id="T_532a6_row2_col34" class="data row2 col34">36.2</td>
<td id="T_532a6_row2_col35" class="data row2 col35">3.1</td>
<td id="T_532a6_row2_col36" class="data row2 col36">0.9</td>
<td id="T_532a6_row2_col37" class="data row2 col37">4.9</td>
<td id="T_532a6_row2_col38" class="data row2 col38">9.4</td>
<td id="T_532a6_row2_col39" class="data row2 col39">1.2</td>
<td id="T_532a6_row2_col40" class="data row2 col40">1.5</td>
<td id="T_532a6_row2_col41" class="data row2 col41">12.5</td>
<td id="T_532a6_row2_col42" class="data row2 col42">12.7</td>
<td id="T_532a6_row2_col43" class="data row2 col43">5.5</td>
<td id="T_532a6_row2_col44" class="data row2 col44">8.1</td>
<td id="T_532a6_row2_col45" class="data row2 col45">5.8</td>
<td id="T_532a6_row2_col46" class="data row2 col46">2.7</td>
<td id="T_532a6_row2_col47" class="data row2 col47">0.6</td>
<td id="T_532a6_row2_col48" class="data row2 col48">0.7</td>
<td id="T_532a6_row2_col49" class="data row2 col49">2.6</td>
<td id="T_532a6_row2_col50" class="data row2 col50">4.2</td>
<td id="T_532a6_row2_col51" class="data row2 col51">9.5</td>
<td id="T_532a6_row2_col52" class="data row2 col52">10.9</td>
<td id="T_532a6_row2_col53" class="data row2 col53">1.7</td>
<td id="T_532a6_row2_col54" class="data row2 col54">1.8</td>
<td id="T_532a6_row2_col55" class="data row2 col55">9.2</td>
<td id="T_532a6_row2_col56" class="data row2 col56">9.3</td>
<td id="T_532a6_row2_col57" class="data row2 col57">5.4</td>
<td id="T_532a6_row2_col58" class="data row2 col58">9.9</td>
<td id="T_532a6_row2_col59" class="data row2 col59">5.1</td>
<td id="T_532a6_row2_col60" class="data row2 col60">12.6</td>
<td id="T_532a6_row2_col61" class="data row2 col61">0.8</td>
<td id="T_532a6_row2_col62" class="data row2 col62">0.8</td>
<td id="T_532a6_row2_col63" class="data row2 col63">11.2</td>
<td id="T_532a6_row2_col64" class="data row2 col64">21.3</td>
<td id="T_532a6_row2_col65" class="data row2 col65">33.3</td>
<td id="T_532a6_row2_col66" class="data row2 col66">69.9</td>
<td id="T_532a6_row2_col67" class="data row2 col67">9.4</td>
<td id="T_532a6_row2_col68" class="data row2 col68">9.3</td>
<td id="T_532a6_row2_col69" class="data row2 col69">20.5</td>
<td id="T_532a6_row2_col70" class="data row2 col70">21.4</td>
<td id="T_532a6_row2_col71" class="data row2 col71">10.4</td>
<td id="T_532a6_row2_col72" class="data row2 col72">26.4</td>
<td id="T_532a6_row2_col73" class="data row2 col73">8.0</td>
</tr>
<tr class="even">
<td id="T_532a6_level0_row3" class="row_heading level0 row3" data-quarto-table-cell-role="th">min</td>
<td id="T_532a6_row3_col0" class="data row3 col0">98.5</td>
<td id="T_532a6_row3_col1" class="data row3 col1">6361.0</td>
<td id="T_532a6_row3_col2" class="data row3 col2">3931624.0</td>
<td id="T_532a6_row3_col3" class="data row3 col3">0.0</td>
<td id="T_532a6_row3_col4" class="data row3 col4">10.0</td>
<td id="T_532a6_row3_col5" class="data row3 col5">132.3</td>
<td id="T_532a6_row3_col6" class="data row3 col6">735.8</td>
<td id="T_532a6_row3_col7" class="data row3 col7">0.0</td>
<td id="T_532a6_row3_col8" class="data row3 col8">0.0</td>
<td id="T_532a6_row3_col9" class="data row3 col9">10.3</td>
<td id="T_532a6_row3_col10" class="data row3 col10">9.8</td>
<td id="T_532a6_row3_col11" class="data row3 col11">126.1</td>
<td id="T_532a6_row3_col12" class="data row3 col12">138.5</td>
<td id="T_532a6_row3_col13" class="data row3 col13">611.6</td>
<td id="T_532a6_row3_col14" class="data row3 col14">884.9</td>
<td id="T_532a6_row3_col15" class="data row3 col15">127.8</td>
<td id="T_532a6_row3_col16" class="data row3 col16">129.1</td>
<td id="T_532a6_row3_col17" class="data row3 col17">0.0</td>
<td id="T_532a6_row3_col18" class="data row3 col18">0.0</td>
<td id="T_532a6_row3_col19" class="data row3 col19">0.0</td>
<td id="T_532a6_row3_col20" class="data row3 col20">109.9</td>
<td id="T_532a6_row3_col21" class="data row3 col21">110.5</td>
<td id="T_532a6_row3_col22" class="data row3 col22">0.0</td>
<td id="T_532a6_row3_col23" class="data row3 col23">0.0</td>
<td id="T_532a6_row3_col24" class="data row3 col24">0.0</td>
<td id="T_532a6_row3_col25" class="data row3 col25">0.0</td>
<td id="T_532a6_row3_col26" class="data row3 col26">145.1</td>
<td id="T_532a6_row3_col27" class="data row3 col27">146.2</td>
<td id="T_532a6_row3_col28" class="data row3 col28">0.0</td>
<td id="T_532a6_row3_col29" class="data row3 col29">0.0</td>
<td id="T_532a6_row3_col30" class="data row3 col30">0.0</td>
<td id="T_532a6_row3_col31" class="data row3 col31">0.0</td>
<td id="T_532a6_row3_col32" class="data row3 col32">39.5</td>
<td id="T_532a6_row3_col33" class="data row3 col33">0.0</td>
<td id="T_532a6_row3_col34" class="data row3 col34">0.0</td>
<td id="T_532a6_row3_col35" class="data row3 col35">17.4</td>
<td id="T_532a6_row3_col36" class="data row3 col36">0.0</td>
<td id="T_532a6_row3_col37" class="data row3 col37">27.8</td>
<td id="T_532a6_row3_col38" class="data row3 col38">62.3</td>
<td id="T_532a6_row3_col39" class="data row3 col39">17.5</td>
<td id="T_532a6_row3_col40" class="data row3 col40">18.2</td>
<td id="T_532a6_row3_col41" class="data row3 col41">0.0</td>
<td id="T_532a6_row3_col42" class="data row3 col42">0.0</td>
<td id="T_532a6_row3_col43" class="data row3 col43">0.0</td>
<td id="T_532a6_row3_col44" class="data row3 col44">0.0</td>
<td id="T_532a6_row3_col45" class="data row3 col45">0.0</td>
<td id="T_532a6_row3_col46" class="data row3 col46">9.0</td>
<td id="T_532a6_row3_col47" class="data row3 col47">0.0</td>
<td id="T_532a6_row3_col48" class="data row3 col48">0.0</td>
<td id="T_532a6_row3_col49" class="data row3 col49">10.1</td>
<td id="T_532a6_row3_col50" class="data row3 col50">14.5</td>
<td id="T_532a6_row3_col51" class="data row3 col51">59.7</td>
<td id="T_532a6_row3_col52" class="data row3 col52">72.4</td>
<td id="T_532a6_row3_col53" class="data row3 col53">10.0</td>
<td id="T_532a6_row3_col54" class="data row3 col54">9.8</td>
<td id="T_532a6_row3_col55" class="data row3 col55">0.0</td>
<td id="T_532a6_row3_col56" class="data row3 col56">0.0</td>
<td id="T_532a6_row3_col57" class="data row3 col57">0.0</td>
<td id="T_532a6_row3_col58" class="data row3 col58">0.0</td>
<td id="T_532a6_row3_col59" class="data row3 col59">0.0</td>
<td id="T_532a6_row3_col60" class="data row3 col60">15.6</td>
<td id="T_532a6_row3_col61" class="data row3 col61">0.0</td>
<td id="T_532a6_row3_col62" class="data row3 col62">0.0</td>
<td id="T_532a6_row3_col63" class="data row3 col63">18.7</td>
<td id="T_532a6_row3_col64" class="data row3 col64">26.0</td>
<td id="T_532a6_row3_col65" class="data row3 col65">92.7</td>
<td id="T_532a6_row3_col66" class="data row3 col66">153.2</td>
<td id="T_532a6_row3_col67" class="data row3 col67">20.4</td>
<td id="T_532a6_row3_col68" class="data row3 col68">20.6</td>
<td id="T_532a6_row3_col69" class="data row3 col69">0.0</td>
<td id="T_532a6_row3_col70" class="data row3 col70">0.0</td>
<td id="T_532a6_row3_col71" class="data row3 col71">0.0</td>
<td id="T_532a6_row3_col72" class="data row3 col72">0.0</td>
<td id="T_532a6_row3_col73" class="data row3 col73">0.0</td>
</tr>
<tr class="odd">
<td id="T_532a6_level0_row4" class="row_heading level0 row4" data-quarto-table-cell-role="th">25%</td>
<td id="T_532a6_row4_col0" class="data row4 col0">176.5</td>
<td id="T_532a6_row4_col1" class="data row4 col1">20631.0</td>
<td id="T_532a6_row4_col2" class="data row4 col2">11869909.5</td>
<td id="T_532a6_row4_col3" class="data row4 col3">2.0</td>
<td id="T_532a6_row4_col4" class="data row4 col4">13.4</td>
<td id="T_532a6_row4_col5" class="data row4 col5">175.0</td>
<td id="T_532a6_row4_col6" class="data row4 col6">943.5</td>
<td id="T_532a6_row4_col7" class="data row4 col7">1.8</td>
<td id="T_532a6_row4_col8" class="data row4 col8">2.0</td>
<td id="T_532a6_row4_col9" class="data row4 col9">14.1</td>
<td id="T_532a6_row4_col10" class="data row4 col10">12.4</td>
<td id="T_532a6_row4_col11" class="data row4 col11">162.9</td>
<td id="T_532a6_row4_col12" class="data row4 col12">187.9</td>
<td id="T_532a6_row4_col13" class="data row4 col13">803.5</td>
<td id="T_532a6_row4_col14" class="data row4 col14">1112.8</td>
<td id="T_532a6_row4_col15" class="data row4 col15">162.8</td>
<td id="T_532a6_row4_col16" class="data row4 col16">165.7</td>
<td id="T_532a6_row4_col17" class="data row4 col17">162.6</td>
<td id="T_532a6_row4_col18" class="data row4 col18">90.7</td>
<td id="T_532a6_row4_col19" class="data row4 col19">58.0</td>
<td id="T_532a6_row4_col20" class="data row4 col20">140.4</td>
<td id="T_532a6_row4_col21" class="data row4 col21">143.6</td>
<td id="T_532a6_row4_col22" class="data row4 col22">135.6</td>
<td id="T_532a6_row4_col23" class="data row4 col23">146.3</td>
<td id="T_532a6_row4_col24" class="data row4 col24">79.5</td>
<td id="T_532a6_row4_col25" class="data row4 col25">43.7</td>
<td id="T_532a6_row4_col26" class="data row4 col26">195.4</td>
<td id="T_532a6_row4_col27" class="data row4 col27">197.0</td>
<td id="T_532a6_row4_col28" class="data row4 col28">200.1</td>
<td id="T_532a6_row4_col29" class="data row4 col29">216.6</td>
<td id="T_532a6_row4_col30" class="data row4 col30">96.4</td>
<td id="T_532a6_row4_col31" class="data row4 col31">66.6</td>
<td id="T_532a6_row4_col32" class="data row4 col32">82.4</td>
<td id="T_532a6_row4_col33" class="data row4 col33">72.5</td>
<td id="T_532a6_row4_col34" class="data row4 col34">91.5</td>
<td id="T_532a6_row4_col35" class="data row4 col35">24.5</td>
<td id="T_532a6_row4_col36" class="data row4 col36">3.5</td>
<td id="T_532a6_row4_col37" class="data row4 col37">31.2</td>
<td id="T_532a6_row4_col38" class="data row4 col38">98.7</td>
<td id="T_532a6_row4_col39" class="data row4 col39">20.4</td>
<td id="T_532a6_row4_col40" class="data row4 col40">20.8</td>
<td id="T_532a6_row4_col41" class="data row4 col41">21.1</td>
<td id="T_532a6_row4_col42" class="data row4 col42">23.6</td>
<td id="T_532a6_row4_col43" class="data row4 col43">0.0</td>
<td id="T_532a6_row4_col44" class="data row4 col44">0.0</td>
<td id="T_532a6_row4_col45" class="data row4 col45">0.0</td>
<td id="T_532a6_row4_col46" class="data row4 col46">16.1</td>
<td id="T_532a6_row4_col47" class="data row4 col47">1.0</td>
<td id="T_532a6_row4_col48" class="data row4 col48">1.4</td>
<td id="T_532a6_row4_col49" class="data row4 col49">13.2</td>
<td id="T_532a6_row4_col50" class="data row4 col50">18.2</td>
<td id="T_532a6_row4_col51" class="data row4 col51">74.5</td>
<td id="T_532a6_row4_col52" class="data row4 col52">93.3</td>
<td id="T_532a6_row4_col53" class="data row4 col53">14.3</td>
<td id="T_532a6_row4_col54" class="data row4 col54">14.5</td>
<td id="T_532a6_row4_col55" class="data row4 col55">15.1</td>
<td id="T_532a6_row4_col56" class="data row4 col56">16.4</td>
<td id="T_532a6_row4_col57" class="data row4 col57">0.0</td>
<td id="T_532a6_row4_col58" class="data row4 col58">0.0</td>
<td id="T_532a6_row4_col59" class="data row4 col59">5.9</td>
<td id="T_532a6_row4_col60" class="data row4 col60">46.5</td>
<td id="T_532a6_row4_col61" class="data row4 col61">0.9</td>
<td id="T_532a6_row4_col62" class="data row4 col62">0.9</td>
<td id="T_532a6_row4_col63" class="data row4 col63">38.8</td>
<td id="T_532a6_row4_col64" class="data row4 col64">49.0</td>
<td id="T_532a6_row4_col65" class="data row4 col65">209.6</td>
<td id="T_532a6_row4_col66" class="data row4 col66">313.3</td>
<td id="T_532a6_row4_col67" class="data row4 col67">42.8</td>
<td id="T_532a6_row4_col68" class="data row4 col68">43.7</td>
<td id="T_532a6_row4_col69" class="data row4 col69">38.2</td>
<td id="T_532a6_row4_col70" class="data row4 col70">40.0</td>
<td id="T_532a6_row4_col71" class="data row4 col71">18.4</td>
<td id="T_532a6_row4_col72" class="data row4 col72">4.5</td>
<td id="T_532a6_row4_col73" class="data row4 col73">13.7</td>
</tr>
<tr class="even">
<td id="T_532a6_level0_row5" class="row_heading level0 row5" data-quarto-table-cell-role="th">50%</td>
<td id="T_532a6_row5_col0" class="data row5 col0">196.1</td>
<td id="T_532a6_row5_col1" class="data row5 col1">54930.0</td>
<td id="T_532a6_row5_col2" class="data row5 col2">30348057.0</td>
<td id="T_532a6_row5_col3" class="data row5 col3">2.2</td>
<td id="T_532a6_row5_col4" class="data row5 col4">14.6</td>
<td id="T_532a6_row5_col5" class="data row5 col5">189.3</td>
<td id="T_532a6_row5_col6" class="data row5 col6">999.6</td>
<td id="T_532a6_row5_col7" class="data row5 col7">2.0</td>
<td id="T_532a6_row5_col8" class="data row5 col8">2.3</td>
<td id="T_532a6_row5_col9" class="data row5 col9">16.0</td>
<td id="T_532a6_row5_col10" class="data row5 col10">13.4</td>
<td id="T_532a6_row5_col11" class="data row5 col11">172.2</td>
<td id="T_532a6_row5_col12" class="data row5 col12">208.3</td>
<td id="T_532a6_row5_col13" class="data row5 col13">845.5</td>
<td id="T_532a6_row5_col14" class="data row5 col14">1195.0</td>
<td id="T_532a6_row5_col15" class="data row5 col15">171.3</td>
<td id="T_532a6_row5_col16" class="data row5 col16">173.9</td>
<td id="T_532a6_row5_col17" class="data row5 col17">194.4</td>
<td id="T_532a6_row5_col18" class="data row5 col18">97.6</td>
<td id="T_532a6_row5_col19" class="data row5 col19">102.2</td>
<td id="T_532a6_row5_col20" class="data row5 col20">146.2</td>
<td id="T_532a6_row5_col21" class="data row5 col21">149.9</td>
<td id="T_532a6_row5_col22" class="data row5 col22">161.7</td>
<td id="T_532a6_row5_col23" class="data row5 col23">165.6</td>
<td id="T_532a6_row5_col24" class="data row5 col24">85.6</td>
<td id="T_532a6_row5_col25" class="data row5 col25">78.7</td>
<td id="T_532a6_row5_col26" class="data row5 col26">205.4</td>
<td id="T_532a6_row5_col27" class="data row5 col27">207.8</td>
<td id="T_532a6_row5_col28" class="data row5 col28">246.2</td>
<td id="T_532a6_row5_col29" class="data row5 col29">252.7</td>
<td id="T_532a6_row5_col30" class="data row5 col30">112.5</td>
<td id="T_532a6_row5_col31" class="data row5 col31">114.2</td>
<td id="T_532a6_row5_col32" class="data row5 col32">98.0</td>
<td id="T_532a6_row5_col33" class="data row5 col33">84.8</td>
<td id="T_532a6_row5_col34" class="data row5 col34">119.4</td>
<td id="T_532a6_row5_col35" class="data row5 col35">26.6</td>
<td id="T_532a6_row5_col36" class="data row5 col36">4.2</td>
<td id="T_532a6_row5_col37" class="data row5 col37">34.6</td>
<td id="T_532a6_row5_col38" class="data row5 col38">102.2</td>
<td id="T_532a6_row5_col39" class="data row5 col39">21.1</td>
<td id="T_532a6_row5_col40" class="data row5 col40">21.4</td>
<td id="T_532a6_row5_col41" class="data row5 col41">27.4</td>
<td id="T_532a6_row5_col42" class="data row5 col42">28.4</td>
<td id="T_532a6_row5_col43" class="data row5 col43">8.5</td>
<td id="T_532a6_row5_col44" class="data row5 col44">0.0</td>
<td id="T_532a6_row5_col45" class="data row5 col45">10.5</td>
<td id="T_532a6_row5_col46" class="data row5 col46">17.7</td>
<td id="T_532a6_row5_col47" class="data row5 col47">1.3</td>
<td id="T_532a6_row5_col48" class="data row5 col48">1.7</td>
<td id="T_532a6_row5_col49" class="data row5 col49">14.3</td>
<td id="T_532a6_row5_col50" class="data row5 col50">21.0</td>
<td id="T_532a6_row5_col51" class="data row5 col51">82.4</td>
<td id="T_532a6_row5_col52" class="data row5 col52">102.1</td>
<td id="T_532a6_row5_col53" class="data row5 col53">15.2</td>
<td id="T_532a6_row5_col54" class="data row5 col54">15.2</td>
<td id="T_532a6_row5_col55" class="data row5 col55">21.2</td>
<td id="T_532a6_row5_col56" class="data row5 col56">21.5</td>
<td id="T_532a6_row5_col57" class="data row5 col57">9.1</td>
<td id="T_532a6_row5_col58" class="data row5 col58">0.0</td>
<td id="T_532a6_row5_col59" class="data row5 col59">9.0</td>
<td id="T_532a6_row5_col60" class="data row5 col60">52.4</td>
<td id="T_532a6_row5_col61" class="data row5 col61">1.4</td>
<td id="T_532a6_row5_col62" class="data row5 col62">1.4</td>
<td id="T_532a6_row5_col63" class="data row5 col63">45.7</td>
<td id="T_532a6_row5_col64" class="data row5 col64">59.7</td>
<td id="T_532a6_row5_col65" class="data row5 col65">225.8</td>
<td id="T_532a6_row5_col66" class="data row5 col66">342.6</td>
<td id="T_532a6_row5_col67" class="data row5 col67">48.1</td>
<td id="T_532a6_row5_col68" class="data row5 col68">48.8</td>
<td id="T_532a6_row5_col69" class="data row5 col69">47.0</td>
<td id="T_532a6_row5_col70" class="data row5 col70">48.6</td>
<td id="T_532a6_row5_col71" class="data row5 col71">22.2</td>
<td id="T_532a6_row5_col72" class="data row5 col72">20.9</td>
<td id="T_532a6_row5_col73" class="data row5 col73">18.1</td>
</tr>
<tr class="odd">
<td id="T_532a6_level0_row6" class="row_heading level0 row6" data-quarto-table-cell-role="th">75%</td>
<td id="T_532a6_row6_col0" class="data row6 col0">210.8</td>
<td id="T_532a6_row6_col1" class="data row6 col1">93328.0</td>
<td id="T_532a6_row6_col2" class="data row6 col2">46503256.0</td>
<td id="T_532a6_row6_col3" class="data row6 col3">2.4</td>
<td id="T_532a6_row6_col4" class="data row6 col4">16.2</td>
<td id="T_532a6_row6_col5" class="data row6 col5">217.8</td>
<td id="T_532a6_row6_col6" class="data row6 col6">1031.4</td>
<td id="T_532a6_row6_col7" class="data row6 col7">2.2</td>
<td id="T_532a6_row6_col8" class="data row6 col8">2.5</td>
<td id="T_532a6_row6_col9" class="data row6 col9">17.7</td>
<td id="T_532a6_row6_col10" class="data row6 col10">14.4</td>
<td id="T_532a6_row6_col11" class="data row6 col11">193.3</td>
<td id="T_532a6_row6_col12" class="data row6 col12">243.3</td>
<td id="T_532a6_row6_col13" class="data row6 col13">871.1</td>
<td id="T_532a6_row6_col14" class="data row6 col14">1257.8</td>
<td id="T_532a6_row6_col15" class="data row6 col15">180.2</td>
<td id="T_532a6_row6_col16" class="data row6 col16">183.4</td>
<td id="T_532a6_row6_col17" class="data row6 col17">220.8</td>
<td id="T_532a6_row6_col18" class="data row6 col18">112.7</td>
<td id="T_532a6_row6_col19" class="data row6 col19">162.1</td>
<td id="T_532a6_row6_col20" class="data row6 col20">152.4</td>
<td id="T_532a6_row6_col21" class="data row6 col21">155.2</td>
<td id="T_532a6_row6_col22" class="data row6 col22">181.7</td>
<td id="T_532a6_row6_col23" class="data row6 col23">182.8</td>
<td id="T_532a6_row6_col24" class="data row6 col24">94.8</td>
<td id="T_532a6_row6_col25" class="data row6 col25">127.7</td>
<td id="T_532a6_row6_col26" class="data row6 col26">218.1</td>
<td id="T_532a6_row6_col27" class="data row6 col27">220.2</td>
<td id="T_532a6_row6_col28" class="data row6 col28">278.7</td>
<td id="T_532a6_row6_col29" class="data row6 col29">282.1</td>
<td id="T_532a6_row6_col30" class="data row6 col30">129.1</td>
<td id="T_532a6_row6_col31" class="data row6 col31">198.4</td>
<td id="T_532a6_row6_col32" class="data row6 col32">112.2</td>
<td id="T_532a6_row6_col33" class="data row6 col33">95.5</td>
<td id="T_532a6_row6_col34" class="data row6 col34">136.9</td>
<td id="T_532a6_row6_col35" class="data row6 col35">27.6</td>
<td id="T_532a6_row6_col36" class="data row6 col36">4.7</td>
<td id="T_532a6_row6_col37" class="data row6 col37">37.7</td>
<td id="T_532a6_row6_col38" class="data row6 col38">107.8</td>
<td id="T_532a6_row6_col39" class="data row6 col39">22.1</td>
<td id="T_532a6_row6_col40" class="data row6 col40">22.2</td>
<td id="T_532a6_row6_col41" class="data row6 col41">31.1</td>
<td id="T_532a6_row6_col42" class="data row6 col42">31.9</td>
<td id="T_532a6_row6_col43" class="data row6 col43">10.7</td>
<td id="T_532a6_row6_col44" class="data row6 col44">10.6</td>
<td id="T_532a6_row6_col45" class="data row6 col45">12.2</td>
<td id="T_532a6_row6_col46" class="data row6 col46">19.4</td>
<td id="T_532a6_row6_col47" class="data row6 col47">1.5</td>
<td id="T_532a6_row6_col48" class="data row6 col48">1.9</td>
<td id="T_532a6_row6_col49" class="data row6 col49">15.3</td>
<td id="T_532a6_row6_col50" class="data row6 col50">23.5</td>
<td id="T_532a6_row6_col51" class="data row6 col51">88.7</td>
<td id="T_532a6_row6_col52" class="data row6 col52">110.7</td>
<td id="T_532a6_row6_col53" class="data row6 col53">16.6</td>
<td id="T_532a6_row6_col54" class="data row6 col54">16.7</td>
<td id="T_532a6_row6_col55" class="data row6 col55">23.2</td>
<td id="T_532a6_row6_col56" class="data row6 col56">23.5</td>
<td id="T_532a6_row6_col57" class="data row6 col57">10.6</td>
<td id="T_532a6_row6_col58" class="data row6 col58">13.9</td>
<td id="T_532a6_row6_col59" class="data row6 col59">11.6</td>
<td id="T_532a6_row6_col60" class="data row6 col60">61.8</td>
<td id="T_532a6_row6_col61" class="data row6 col61">1.8</td>
<td id="T_532a6_row6_col62" class="data row6 col62">1.8</td>
<td id="T_532a6_row6_col63" class="data row6 col63">53.4</td>
<td id="T_532a6_row6_col64" class="data row6 col64">77.6</td>
<td id="T_532a6_row6_col65" class="data row6 col65">248.2</td>
<td id="T_532a6_row6_col66" class="data row6 col66">391.0</td>
<td id="T_532a6_row6_col67" class="data row6 col67">54.5</td>
<td id="T_532a6_row6_col68" class="data row6 col68">55.0</td>
<td id="T_532a6_row6_col69" class="data row6 col69">60.0</td>
<td id="T_532a6_row6_col70" class="data row6 col70">60.3</td>
<td id="T_532a6_row6_col71" class="data row6 col71">25.5</td>
<td id="T_532a6_row6_col72" class="data row6 col72">44.2</td>
<td id="T_532a6_row6_col73" class="data row6 col73">20.4</td>
</tr>
<tr class="even">
<td id="T_532a6_level0_row7" class="row_heading level0 row7" data-quarto-table-cell-role="th">max</td>
<td id="T_532a6_row7_col0" class="data row7 col0">254.6</td>
<td id="T_532a6_row7_col1" class="data row7 col1">393980.0</td>
<td id="T_532a6_row7_col2" class="data row7 col2">261135696.0</td>
<td id="T_532a6_row7_col3" class="data row7 col3">2.7</td>
<td id="T_532a6_row7_col4" class="data row7 col4">20.3</td>
<td id="T_532a6_row7_col5" class="data row7 col5">263.9</td>
<td id="T_532a6_row7_col6" class="data row7 col6">1110.2</td>
<td id="T_532a6_row7_col7" class="data row7 col7">2.9</td>
<td id="T_532a6_row7_col8" class="data row7 col8">3.2</td>
<td id="T_532a6_row7_col9" class="data row7 col9">22.8</td>
<td id="T_532a6_row7_col10" class="data row7 col10">19.0</td>
<td id="T_532a6_row7_col11" class="data row7 col11">233.2</td>
<td id="T_532a6_row7_col12" class="data row7 col12">310.0</td>
<td id="T_532a6_row7_col13" class="data row7 col13">916.2</td>
<td id="T_532a6_row7_col14" class="data row7 col14">1372.7</td>
<td id="T_532a6_row7_col15" class="data row7 col15">204.9</td>
<td id="T_532a6_row7_col16" class="data row7 col16">205.9</td>
<td id="T_532a6_row7_col17" class="data row7 col17">235.1</td>
<td id="T_532a6_row7_col18" class="data row7 col18">149.0</td>
<td id="T_532a6_row7_col19" class="data row7 col19">248.0</td>
<td id="T_532a6_row7_col20" class="data row7 col20">170.5</td>
<td id="T_532a6_row7_col21" class="data row7 col21">171.2</td>
<td id="T_532a6_row7_col22" class="data row7 col22">195.6</td>
<td id="T_532a6_row7_col23" class="data row7 col23">198.5</td>
<td id="T_532a6_row7_col24" class="data row7 col24">130.3</td>
<td id="T_532a6_row7_col25" class="data row7 col25">219.4</td>
<td id="T_532a6_row7_col26" class="data row7 col26">253.6</td>
<td id="T_532a6_row7_col27" class="data row7 col27">255.1</td>
<td id="T_532a6_row7_col28" class="data row7 col28">319.5</td>
<td id="T_532a6_row7_col29" class="data row7 col29">321.2</td>
<td id="T_532a6_row7_col30" class="data row7 col30">172.2</td>
<td id="T_532a6_row7_col31" class="data row7 col31">303.3</td>
<td id="T_532a6_row7_col32" class="data row7 col32">168.5</td>
<td id="T_532a6_row7_col33" class="data row7 col33">140.8</td>
<td id="T_532a6_row7_col34" class="data row7 col34">202.3</td>
<td id="T_532a6_row7_col35" class="data row7 col35">31.8</td>
<td id="T_532a6_row7_col36" class="data row7 col36">5.6</td>
<td id="T_532a6_row7_col37" class="data row7 col37">56.6</td>
<td id="T_532a6_row7_col38" class="data row7 col38">129.6</td>
<td id="T_532a6_row7_col39" class="data row7 col39">24.0</td>
<td id="T_532a6_row7_col40" class="data row7 col40">25.5</td>
<td id="T_532a6_row7_col41" class="data row7 col41">34.7</td>
<td id="T_532a6_row7_col42" class="data row7 col42">35.0</td>
<td id="T_532a6_row7_col43" class="data row7 col43">15.8</td>
<td id="T_532a6_row7_col44" class="data row7 col44">27.4</td>
<td id="T_532a6_row7_col45" class="data row7 col45">18.2</td>
<td id="T_532a6_row7_col46" class="data row7 col46">24.4</td>
<td id="T_532a6_row7_col47" class="data row7 col47">2.0</td>
<td id="T_532a6_row7_col48" class="data row7 col48">3.0</td>
<td id="T_532a6_row7_col49" class="data row7 col49">21.9</td>
<td id="T_532a6_row7_col50" class="data row7 col50">34.1</td>
<td id="T_532a6_row7_col51" class="data row7 col51">99.8</td>
<td id="T_532a6_row7_col52" class="data row7 col52">124.6</td>
<td id="T_532a6_row7_col53" class="data row7 col53">19.1</td>
<td id="T_532a6_row7_col54" class="data row7 col54">19.2</td>
<td id="T_532a6_row7_col55" class="data row7 col55">26.7</td>
<td id="T_532a6_row7_col56" class="data row7 col56">27.2</td>
<td id="T_532a6_row7_col57" class="data row7 col57">18.0</td>
<td id="T_532a6_row7_col58" class="data row7 col58">34.7</td>
<td id="T_532a6_row7_col59" class="data row7 col59">18.0</td>
<td id="T_532a6_row7_col60" class="data row7 col60">81.3</td>
<td id="T_532a6_row7_col61" class="data row7 col61">2.9</td>
<td id="T_532a6_row7_col62" class="data row7 col62">3.1</td>
<td id="T_532a6_row7_col63" class="data row7 col63">77.1</td>
<td id="T_532a6_row7_col64" class="data row7 col64">112.6</td>
<td id="T_532a6_row7_col65" class="data row7 col65">298.3</td>
<td id="T_532a6_row7_col66" class="data row7 col66">519.1</td>
<td id="T_532a6_row7_col67" class="data row7 col67">71.5</td>
<td id="T_532a6_row7_col68" class="data row7 col68">71.9</td>
<td id="T_532a6_row7_col69" class="data row7 col69">73.2</td>
<td id="T_532a6_row7_col70" class="data row7 col70">73.6</td>
<td id="T_532a6_row7_col71" class="data row7 col71">33.9</td>
<td id="T_532a6_row7_col72" class="data row7 col72">87.5</td>
<td id="T_532a6_row7_col73" class="data row7 col73">35.2</td>
</tr>
</tbody>
</table>
</div>
</div>
</section>
<section id="effect-of-population" class="level3">
<h3 class="anchored" data-anchor-id="effect-of-population">Effect of Population</h3>
<p>In the state demographics data, we saw a strong dependency between some of the variables and state population. We would also expect there to be a pretty strong dependency between the total number of cancer deaths and the total state population. Let’s see if that is the case:</p>
<div id="be4ea6ec" class="cell" data-execution_count="38">
<div class="sourceCode cell-code" id="cb39"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb39-1"><a href="#cb39-1" aria-hidden="true" tabindex="-1"></a>cancer.plot(</span>
<span id="cb39-2"><a href="#cb39-2" aria-hidden="true" tabindex="-1"></a>    kind<span class="op">=</span><span class="st">"scatter"</span>,</span>
<span id="cb39-3"><a href="#cb39-3" aria-hidden="true" tabindex="-1"></a>    x<span class="op">=</span><span class="st">"Total.Population"</span>,</span>
<span id="cb39-4"><a href="#cb39-4" aria-hidden="true" tabindex="-1"></a>    y<span class="op">=</span><span class="st">"Total.Number"</span>,</span>
<span id="cb39-5"><a href="#cb39-5" aria-hidden="true" tabindex="-1"></a>    loglog<span class="op">=</span><span class="va">True</span>,</span>
<span id="cb39-6"><a href="#cb39-6" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="exploratory_data_analysis_files/figure-html/cell-39-output-1.png" class="img-fluid figure-img"></p>
</figure>
</div>
</div>
</div>
<p>Just to make it super clear, let’s do the same plot, but this time use the rate of cancer deaths per 100k people rather than the raw totals. (I bet you can guess how it will look!)</p>
<div id="49f5acb3" class="cell" data-execution_count="39">
<div class="sourceCode cell-code" id="cb40"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb40-1"><a href="#cb40-1" aria-hidden="true" tabindex="-1"></a>cancer.plot(</span>
<span id="cb40-2"><a href="#cb40-2" aria-hidden="true" tabindex="-1"></a>    kind<span class="op">=</span><span class="st">"scatter"</span>,</span>
<span id="cb40-3"><a href="#cb40-3" aria-hidden="true" tabindex="-1"></a>    x<span class="op">=</span><span class="st">"Total.Population"</span>,</span>
<span id="cb40-4"><a href="#cb40-4" aria-hidden="true" tabindex="-1"></a>    y<span class="op">=</span><span class="st">"Total.Rate"</span>,</span>
<span id="cb40-5"><a href="#cb40-5" aria-hidden="true" tabindex="-1"></a>    logx<span class="op">=</span><span class="va">True</span>,</span>
<span id="cb40-6"><a href="#cb40-6" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="exploratory_data_analysis_files/figure-html/cell-40-output-1.png" class="img-fluid figure-img"></p>
</figure>
</div>
</div>
</div>
<p>Because of this, we will use the rates per 100k people rather than total numbers for this section.</p>
</section>
<section id="comparing-states" class="level3">
<h3 class="anchored" data-anchor-id="comparing-states">Comparing States</h3>
<p>Let’s see if there are any high-level differences between individual states and rates of cancer deaths.</p>
<div id="317aca06" class="cell" data-execution_count="40">
<div class="sourceCode cell-code" id="cb41"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb41-1"><a href="#cb41-1" aria-hidden="true" tabindex="-1"></a>(</span>
<span id="cb41-2"><a href="#cb41-2" aria-hidden="true" tabindex="-1"></a>    cancer</span>
<span id="cb41-3"><a href="#cb41-3" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Sort the values by the rate of cancer deaths</span></span>
<span id="cb41-4"><a href="#cb41-4" aria-hidden="true" tabindex="-1"></a>    .sort_values(<span class="st">"Total.Rate"</span>).plot(</span>
<span id="cb41-5"><a href="#cb41-5" aria-hidden="true" tabindex="-1"></a>        <span class="co"># Make a horizontal bar chart</span></span>
<span id="cb41-6"><a href="#cb41-6" aria-hidden="true" tabindex="-1"></a>        kind<span class="op">=</span><span class="st">"barh"</span>,</span>
<span id="cb41-7"><a href="#cb41-7" aria-hidden="true" tabindex="-1"></a>        x<span class="op">=</span><span class="st">"State"</span>,</span>
<span id="cb41-8"><a href="#cb41-8" aria-hidden="true" tabindex="-1"></a>        y<span class="op">=</span><span class="st">"Total.Rate"</span>,</span>
<span id="cb41-9"><a href="#cb41-9" aria-hidden="true" tabindex="-1"></a>        <span class="co"># Adjust the figure size so the labels print nicely</span></span>
<span id="cb41-10"><a href="#cb41-10" aria-hidden="true" tabindex="-1"></a>        figsize<span class="op">=</span>(<span class="dv">5</span>, <span class="dv">8</span>),</span>
<span id="cb41-11"><a href="#cb41-11" aria-hidden="true" tabindex="-1"></a>        <span class="co"># Give an informative x-axis label</span></span>
<span id="cb41-12"><a href="#cb41-12" aria-hidden="true" tabindex="-1"></a>        xlabel<span class="op">=</span><span class="st">"Cancer Rate (per 100k people)"</span>,</span>
<span id="cb41-13"><a href="#cb41-13" aria-hidden="true" tabindex="-1"></a>        <span class="co"># Don't bother with the legend as we only have one data series to plot</span></span>
<span id="cb41-14"><a href="#cb41-14" aria-hidden="true" tabindex="-1"></a>        legend<span class="op">=</span><span class="va">False</span>,</span>
<span id="cb41-15"><a href="#cb41-15" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb41-16"><a href="#cb41-16" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="exploratory_data_analysis_files/figure-html/cell-41-output-1.png" class="img-fluid figure-img"></p>
</figure>
</div>
</div>
</div>
<p>There is about a 2.5 times difference between the state with the highest rate of cancer deaths (West Virginia) as compared to the state with the lowest (Utah).</p>
<p>Let’s make a boxplot to see the spread of the data.</p>
<div id="af42200f" class="cell" data-execution_count="41">
<div class="sourceCode cell-code" id="cb42"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb42-1"><a href="#cb42-1" aria-hidden="true" tabindex="-1"></a>cancer.plot(kind<span class="op">=</span><span class="st">"box"</span>, y<span class="op">=</span><span class="st">"Total.Rate"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="exploratory_data_analysis_files/figure-html/cell-42-output-1.png" class="img-fluid figure-img"></p>
</figure>
</div>
</div>
</div>
<p>Cool, so we see some variation in the rate of cancer deaths across states. Let’s try and find out if there are any variables in the state demographics data that are correlated with death rates for different types of cancer.</p>
</section>
<section id="cancer-deaths-and-demographics" class="level3">
<h3 class="anchored" data-anchor-id="cancer-deaths-and-demographics">Cancer Deaths and Demographics</h3>
<p>This dataset has data for three types of cancer, breast cancer, colorectal cancer, and lung cancer, so we will want to pull out those columns.</p>
<div id="2c7e71b9" class="cell" data-execution_count="42">
<div class="sourceCode cell-code" id="cb43"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb43-1"><a href="#cb43-1" aria-hidden="true" tabindex="-1"></a>cancer_death_rates <span class="op">=</span> cancer[</span>
<span id="cb43-2"><a href="#cb43-2" aria-hidden="true" tabindex="-1"></a>    [<span class="st">"State"</span>, <span class="st">"Types.Breast.Total"</span>, <span class="st">"Types.Colorectal.Total"</span>, <span class="st">"Types.Lung.Total"</span>]</span>
<span id="cb43-3"><a href="#cb43-3" aria-hidden="true" tabindex="-1"></a>]</span>
<span id="cb43-4"><a href="#cb43-4" aria-hidden="true" tabindex="-1"></a>cancer_death_rates.head()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="42">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">State</th>
<th data-quarto-table-cell-role="th">Types.Breast.Total</th>
<th data-quarto-table-cell-role="th">Types.Colorectal.Total</th>
<th data-quarto-table-cell-role="th">Types.Lung.Total</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>Alabama</td>
<td>27.4</td>
<td>19.4</td>
<td>66.4</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>Alaska</td>
<td>17.8</td>
<td>11.9</td>
<td>36.6</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2</td>
<td>Arizona</td>
<td>23.3</td>
<td>14.9</td>
<td>42.3</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">3</td>
<td>Arkansas</td>
<td>27.9</td>
<td>21.2</td>
<td>73.3</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">4</td>
<td>California</td>
<td>23.0</td>
<td>14.0</td>
<td>34.5</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<p>We want to include the normalized state demographic data in with the cancer data, but we don’t want all the columns. Earlier, we saw that we can use <code>filter()</code> to select columns using regular expressions. We will do that again here to select only the categories of variables that we are interested in.</p>
<div id="19bb0074" class="cell" data-execution_count="43">
<div class="sourceCode cell-code" id="cb44"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb44-1"><a href="#cb44-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Create a filtered version of normalized_state_demographics data frame containing:</span></span>
<span id="cb44-2"><a href="#cb44-2" aria-hidden="true" tabindex="-1"></a><span class="co"># - State column</span></span>
<span id="cb44-3"><a href="#cb44-3" aria-hidden="true" tabindex="-1"></a><span class="co"># - Columns starting with "Age"</span></span>
<span id="cb44-4"><a href="#cb44-4" aria-hidden="true" tabindex="-1"></a><span class="co"># - Columns starting with "Education"</span></span>
<span id="cb44-5"><a href="#cb44-5" aria-hidden="true" tabindex="-1"></a><span class="co"># - Columns starting with "Ethnicities"</span></span>
<span id="cb44-6"><a href="#cb44-6" aria-hidden="true" tabindex="-1"></a><span class="co"># - Columns starting with "Housing"</span></span>
<span id="cb44-7"><a href="#cb44-7" aria-hidden="true" tabindex="-1"></a><span class="co"># - Columns starting with "Income"</span></span>
<span id="cb44-8"><a href="#cb44-8" aria-hidden="true" tabindex="-1"></a><span class="co"># This uses regex patterns with filter() to select columns,</span></span>
<span id="cb44-9"><a href="#cb44-9" aria-hidden="true" tabindex="-1"></a><span class="co"># then combines them using pd.concat()</span></span>
<span id="cb44-10"><a href="#cb44-10" aria-hidden="true" tabindex="-1"></a>filtered_normalized_state_demographics <span class="op">=</span> pd.concat(</span>
<span id="cb44-11"><a href="#cb44-11" aria-hidden="true" tabindex="-1"></a>    [</span>
<span id="cb44-12"><a href="#cb44-12" aria-hidden="true" tabindex="-1"></a>        normalized_state_demographics.<span class="bu">filter</span>([<span class="st">"State"</span>]),</span>
<span id="cb44-13"><a href="#cb44-13" aria-hidden="true" tabindex="-1"></a>        normalized_state_demographics.<span class="bu">filter</span>(regex<span class="op">=</span><span class="vs">r"^Age"</span>),</span>
<span id="cb44-14"><a href="#cb44-14" aria-hidden="true" tabindex="-1"></a>        normalized_state_demographics.<span class="bu">filter</span>(regex<span class="op">=</span><span class="vs">r"^Education"</span>),</span>
<span id="cb44-15"><a href="#cb44-15" aria-hidden="true" tabindex="-1"></a>        normalized_state_demographics.<span class="bu">filter</span>(regex<span class="op">=</span><span class="vs">r"^Ethnicities"</span>),</span>
<span id="cb44-16"><a href="#cb44-16" aria-hidden="true" tabindex="-1"></a>        normalized_state_demographics.<span class="bu">filter</span>(regex<span class="op">=</span><span class="vs">r"^Housing"</span>),</span>
<span id="cb44-17"><a href="#cb44-17" aria-hidden="true" tabindex="-1"></a>        normalized_state_demographics.<span class="bu">filter</span>(regex<span class="op">=</span><span class="vs">r"^Income"</span>),</span>
<span id="cb44-18"><a href="#cb44-18" aria-hidden="true" tabindex="-1"></a>    ],</span>
<span id="cb44-19"><a href="#cb44-19" aria-hidden="true" tabindex="-1"></a>    axis<span class="op">=</span><span class="st">"columns"</span>,</span>
<span id="cb44-20"><a href="#cb44-20" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb44-21"><a href="#cb44-21" aria-hidden="true" tabindex="-1"></a>filtered_normalized_state_demographics.head()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="43">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">State</th>
<th data-quarto-table-cell-role="th">Age.Percent Under 5 Years</th>
<th data-quarto-table-cell-role="th">Age.Percent Under 18 Years</th>
<th data-quarto-table-cell-role="th">Age.Percent 65 and Older</th>
<th data-quarto-table-cell-role="th">Education.High School or Higher</th>
<th data-quarto-table-cell-role="th">Education.Bachelor's Degree or Higher</th>
<th data-quarto-table-cell-role="th">Ethnicities.White Alone</th>
<th data-quarto-table-cell-role="th">Ethnicities.Black Alone</th>
<th data-quarto-table-cell-role="th">Ethnicities.American Indian and Alaska Native Alone</th>
<th data-quarto-table-cell-role="th">Ethnicities.Asian Alone</th>
<th data-quarto-table-cell-role="th">...</th>
<th data-quarto-table-cell-role="th">Housing.Housing Units</th>
<th data-quarto-table-cell-role="th">Housing.Homeownership Rate</th>
<th data-quarto-table-cell-role="th">Housing.Median Value of Owner-Occupied Units</th>
<th data-quarto-table-cell-role="th">Housing.Households</th>
<th data-quarto-table-cell-role="th">Housing.Persons per Household</th>
<th data-quarto-table-cell-role="th">Housing.Households with a computer</th>
<th data-quarto-table-cell-role="th">Housing.Households with a Internet</th>
<th data-quarto-table-cell-role="th">Income.Median Houseold Income</th>
<th data-quarto-table-cell-role="th">Income.Per Capita Income</th>
<th data-quarto-table-cell-role="th">Income.Persons Below Poverty Level</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>Connecticut</td>
<td>5.1</td>
<td>20.4</td>
<td>17.7</td>
<td>90.6</td>
<td>39.3</td>
<td>79.7</td>
<td>12.2</td>
<td>0.6</td>
<td>5.0</td>
<td>...</td>
<td>4266.789625</td>
<td>66.1</td>
<td>275400</td>
<td>3835.223275</td>
<td>2.53</td>
<td>90.8</td>
<td>85.5</td>
<td>78444</td>
<td>44496</td>
<td>10.0</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>Delaware</td>
<td>5.6</td>
<td>20.9</td>
<td>19.4</td>
<td>90.0</td>
<td>32.0</td>
<td>69.2</td>
<td>23.2</td>
<td>0.7</td>
<td>4.1</td>
<td>...</td>
<td>4942.245198</td>
<td>71.2</td>
<td>251100</td>
<td>4046.199387</td>
<td>2.57</td>
<td>91.6</td>
<td>85.0</td>
<td>68287</td>
<td>35450</td>
<td>11.3</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2</td>
<td>District of Columbia</td>
<td>6.4</td>
<td>18.2</td>
<td>12.4</td>
<td>90.9</td>
<td>58.5</td>
<td>46.0</td>
<td>46.0</td>
<td>0.6</td>
<td>4.5</td>
<td>...</td>
<td>5364.478340</td>
<td>41.6</td>
<td>601500</td>
<td>4726.194611</td>
<td>2.30</td>
<td>91.8</td>
<td>82.6</td>
<td>86420</td>
<td>56147</td>
<td>13.5</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">3</td>
<td>Florida</td>
<td>5.3</td>
<td>19.7</td>
<td>20.9</td>
<td>88.2</td>
<td>29.9</td>
<td>77.3</td>
<td>16.9</td>
<td>0.5</td>
<td>3.0</td>
<td>...</td>
<td>5145.217009</td>
<td>65.4</td>
<td>215300</td>
<td>4114.772322</td>
<td>2.65</td>
<td>91.5</td>
<td>83.0</td>
<td>55660</td>
<td>31619</td>
<td>12.7</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">4</td>
<td>Georgia</td>
<td>6.2</td>
<td>23.6</td>
<td>14.3</td>
<td>87.1</td>
<td>31.3</td>
<td>60.2</td>
<td>32.6</td>
<td>0.5</td>
<td>4.4</td>
<td>...</td>
<td>4519.558039</td>
<td>63.3</td>
<td>176000</td>
<td>3879.988270</td>
<td>2.70</td>
<td>90.2</td>
<td>81.3</td>
<td>58700</td>
<td>31067</td>
<td>13.3</td>
</tr>
</tbody>
</table>

<p>5 rows × 24 columns</p>
</div>
</div>
</div>
<p>Now, we can merge the data:</p>
<div id="4540985b" class="cell" data-execution_count="44">
<div class="sourceCode cell-code" id="cb45"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb45-1"><a href="#cb45-1" aria-hidden="true" tabindex="-1"></a>cancer_demographics <span class="op">=</span> cancer_death_rates.merge(</span>
<span id="cb45-2"><a href="#cb45-2" aria-hidden="true" tabindex="-1"></a>    filtered_normalized_state_demographics, on<span class="op">=</span><span class="st">"State"</span>, how<span class="op">=</span><span class="st">"inner"</span></span>
<span id="cb45-3"><a href="#cb45-3" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb45-4"><a href="#cb45-4" aria-hidden="true" tabindex="-1"></a>cancer_demographics.head()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="44">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">State</th>
<th data-quarto-table-cell-role="th">Types.Breast.Total</th>
<th data-quarto-table-cell-role="th">Types.Colorectal.Total</th>
<th data-quarto-table-cell-role="th">Types.Lung.Total</th>
<th data-quarto-table-cell-role="th">Age.Percent Under 5 Years</th>
<th data-quarto-table-cell-role="th">Age.Percent Under 18 Years</th>
<th data-quarto-table-cell-role="th">Age.Percent 65 and Older</th>
<th data-quarto-table-cell-role="th">Education.High School or Higher</th>
<th data-quarto-table-cell-role="th">Education.Bachelor's Degree or Higher</th>
<th data-quarto-table-cell-role="th">Ethnicities.White Alone</th>
<th data-quarto-table-cell-role="th">...</th>
<th data-quarto-table-cell-role="th">Housing.Housing Units</th>
<th data-quarto-table-cell-role="th">Housing.Homeownership Rate</th>
<th data-quarto-table-cell-role="th">Housing.Median Value of Owner-Occupied Units</th>
<th data-quarto-table-cell-role="th">Housing.Households</th>
<th data-quarto-table-cell-role="th">Housing.Persons per Household</th>
<th data-quarto-table-cell-role="th">Housing.Households with a computer</th>
<th data-quarto-table-cell-role="th">Housing.Households with a Internet</th>
<th data-quarto-table-cell-role="th">Income.Median Houseold Income</th>
<th data-quarto-table-cell-role="th">Income.Per Capita Income</th>
<th data-quarto-table-cell-role="th">Income.Persons Below Poverty Level</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>Alabama</td>
<td>27.4</td>
<td>19.4</td>
<td>66.4</td>
<td>6.0</td>
<td>22.2</td>
<td>17.3</td>
<td>86.2</td>
<td>25.5</td>
<td>69.1</td>
<td>...</td>
<td>4780.278660</td>
<td>68.8</td>
<td>142700</td>
<td>3907.941778</td>
<td>2.55</td>
<td>85.5</td>
<td>76.4</td>
<td>50536</td>
<td>27928</td>
<td>15.5</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>Alaska</td>
<td>17.8</td>
<td>11.9</td>
<td>36.6</td>
<td>7.0</td>
<td>24.6</td>
<td>12.5</td>
<td>92.8</td>
<td>29.6</td>
<td>65.3</td>
<td>...</td>
<td>4503.520686</td>
<td>64.3</td>
<td>270400</td>
<td>3567.092960</td>
<td>2.80</td>
<td>94.1</td>
<td>85.5</td>
<td>77640</td>
<td>36787</td>
<td>10.1</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2</td>
<td>Arizona</td>
<td>23.3</td>
<td>14.9</td>
<td>42.3</td>
<td>5.9</td>
<td>22.5</td>
<td>18.0</td>
<td>87.1</td>
<td>29.5</td>
<td>82.6</td>
<td>...</td>
<td>4812.222809</td>
<td>64.4</td>
<td>225500</td>
<td>4022.623845</td>
<td>2.68</td>
<td>91.7</td>
<td>84.1</td>
<td>58945</td>
<td>30694</td>
<td>13.5</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">3</td>
<td>Arkansas</td>
<td>27.9</td>
<td>21.2</td>
<td>73.3</td>
<td>6.2</td>
<td>23.2</td>
<td>17.4</td>
<td>86.6</td>
<td>23.0</td>
<td>79.0</td>
<td>...</td>
<td>4763.950838</td>
<td>65.6</td>
<td>127800</td>
<td>3971.548583</td>
<td>2.52</td>
<td>86.2</td>
<td>73.0</td>
<td>47597</td>
<td>26577</td>
<td>16.2</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">4</td>
<td>California</td>
<td>23.0</td>
<td>14.0</td>
<td>34.5</td>
<td>6.0</td>
<td>22.5</td>
<td>14.8</td>
<td>83.3</td>
<td>33.9</td>
<td>71.9</td>
<td>...</td>
<td>3856.324950</td>
<td>54.8</td>
<td>505000</td>
<td>3501.444518</td>
<td>2.95</td>
<td>93.0</td>
<td>86.7</td>
<td>75235</td>
<td>36955</td>
<td>11.8</td>
</tr>
</tbody>
</table>

<p>5 rows × 27 columns</p>
</div>
</div>
</div>
<p>Let’s do another correlation matrix:</p>
<div id="da35a202" class="cell" data-execution_count="45">
<div class="sourceCode cell-code" id="cb46"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb46-1"><a href="#cb46-1" aria-hidden="true" tabindex="-1"></a>cancer_demographics_full_correlation_matrix <span class="op">=</span> cancer_demographics.corr(</span>
<span id="cb46-2"><a href="#cb46-2" aria-hidden="true" tabindex="-1"></a>    numeric_only<span class="op">=</span><span class="va">True</span></span>
<span id="cb46-3"><a href="#cb46-3" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb46-4"><a href="#cb46-4" aria-hidden="true" tabindex="-1"></a>cancer_demographics_full_correlation_matrix</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="45">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">Types.Breast.Total</th>
<th data-quarto-table-cell-role="th">Types.Colorectal.Total</th>
<th data-quarto-table-cell-role="th">Types.Lung.Total</th>
<th data-quarto-table-cell-role="th">Age.Percent Under 5 Years</th>
<th data-quarto-table-cell-role="th">Age.Percent Under 18 Years</th>
<th data-quarto-table-cell-role="th">Age.Percent 65 and Older</th>
<th data-quarto-table-cell-role="th">Education.High School or Higher</th>
<th data-quarto-table-cell-role="th">Education.Bachelor's Degree or Higher</th>
<th data-quarto-table-cell-role="th">Ethnicities.White Alone</th>
<th data-quarto-table-cell-role="th">Ethnicities.Black Alone</th>
<th data-quarto-table-cell-role="th">...</th>
<th data-quarto-table-cell-role="th">Housing.Housing Units</th>
<th data-quarto-table-cell-role="th">Housing.Homeownership Rate</th>
<th data-quarto-table-cell-role="th">Housing.Median Value of Owner-Occupied Units</th>
<th data-quarto-table-cell-role="th">Housing.Households</th>
<th data-quarto-table-cell-role="th">Housing.Persons per Household</th>
<th data-quarto-table-cell-role="th">Housing.Households with a computer</th>
<th data-quarto-table-cell-role="th">Housing.Households with a Internet</th>
<th data-quarto-table-cell-role="th">Income.Median Houseold Income</th>
<th data-quarto-table-cell-role="th">Income.Per Capita Income</th>
<th data-quarto-table-cell-role="th">Income.Persons Below Poverty Level</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">Types.Breast.Total</td>
<td>1.000000</td>
<td>0.820604</td>
<td>0.738585</td>
<td>-0.388781</td>
<td>-0.498962</td>
<td>0.451119</td>
<td>-0.131677</td>
<td>-0.019331</td>
<td>0.051875</td>
<td>0.419682</td>
<td>...</td>
<td>0.262656</td>
<td>0.042882</td>
<td>-0.288228</td>
<td>0.375702</td>
<td>-0.654101</td>
<td>-0.541995</td>
<td>-0.398493</td>
<td>-0.275447</td>
<td>0.054492</td>
<td>0.331260</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">Types.Colorectal.Total</td>
<td>0.820604</td>
<td>1.000000</td>
<td>0.861898</td>
<td>-0.314083</td>
<td>-0.381218</td>
<td>0.600918</td>
<td>-0.158118</td>
<td>-0.361382</td>
<td>0.097213</td>
<td>0.156050</td>
<td>...</td>
<td>0.280906</td>
<td>0.186077</td>
<td>-0.418381</td>
<td>0.264358</td>
<td>-0.618531</td>
<td>-0.753502</td>
<td>-0.612936</td>
<td>-0.502661</td>
<td>-0.269516</td>
<td>0.443643</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">Types.Lung.Total</td>
<td>0.738585</td>
<td>0.861898</td>
<td>1.000000</td>
<td>-0.435992</td>
<td>-0.411047</td>
<td>0.609561</td>
<td>-0.216806</td>
<td>-0.437903</td>
<td>0.146942</td>
<td>0.188569</td>
<td>...</td>
<td>0.303359</td>
<td>0.331816</td>
<td>-0.530434</td>
<td>0.203042</td>
<td>-0.571173</td>
<td>-0.706384</td>
<td>-0.577125</td>
<td>-0.574831</td>
<td>-0.363581</td>
<td>0.450317</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">Age.Percent Under 5 Years</td>
<td>-0.388781</td>
<td>-0.314083</td>
<td>-0.435992</td>
<td>1.000000</td>
<td>0.879837</td>
<td>-0.753746</td>
<td>-0.070116</td>
<td>-0.171279</td>
<td>-0.169575</td>
<td>0.064308</td>
<td>...</td>
<td>-0.205294</td>
<td>-0.165581</td>
<td>-0.069280</td>
<td>-0.084758</td>
<td>0.401366</td>
<td>0.095203</td>
<td>-0.098394</td>
<td>-0.037176</td>
<td>-0.190507</td>
<td>0.113660</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">Age.Percent Under 18 Years</td>
<td>-0.498962</td>
<td>-0.381218</td>
<td>-0.411047</td>
<td>0.879837</td>
<td>1.000000</td>
<td>-0.617604</td>
<td>-0.128687</td>
<td>-0.408223</td>
<td>0.064120</td>
<td>-0.122481</td>
<td>...</td>
<td>-0.343985</td>
<td>0.172119</td>
<td>-0.309091</td>
<td>-0.300107</td>
<td>0.515735</td>
<td>0.062107</td>
<td>-0.115255</td>
<td>-0.207411</td>
<td>-0.458687</td>
<td>0.107673</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">Housing.Households with a computer</td>
<td>-0.541995</td>
<td>-0.753502</td>
<td>-0.706384</td>
<td>0.095203</td>
<td>0.062107</td>
<td>-0.364809</td>
<td>0.471508</td>
<td>0.575901</td>
<td>-0.000697</td>
<td>-0.280283</td>
<td>...</td>
<td>-0.127756</td>
<td>-0.264749</td>
<td>0.589177</td>
<td>-0.010558</td>
<td>0.370020</td>
<td>1.000000</td>
<td>0.923669</td>
<td>0.749979</td>
<td>0.565945</td>
<td>-0.791368</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">Housing.Households with a Internet</td>
<td>-0.398493</td>
<td>-0.612936</td>
<td>-0.577125</td>
<td>-0.098394</td>
<td>-0.115255</td>
<td>-0.201042</td>
<td>0.516615</td>
<td>0.637379</td>
<td>0.045414</td>
<td>-0.323449</td>
<td>...</td>
<td>-0.215326</td>
<td>-0.206746</td>
<td>0.602584</td>
<td>-0.039747</td>
<td>0.257074</td>
<td>0.923669</td>
<td>1.000000</td>
<td>0.820815</td>
<td>0.656077</td>
<td>-0.878474</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">Income.Median Houseold Income</td>
<td>-0.275447</td>
<td>-0.502661</td>
<td>-0.574831</td>
<td>-0.037176</td>
<td>-0.207411</td>
<td>-0.332490</td>
<td>0.433715</td>
<td>0.825304</td>
<td>-0.311793</td>
<td>-0.017949</td>
<td>...</td>
<td>-0.301793</td>
<td>-0.429184</td>
<td>0.799816</td>
<td>-0.114904</td>
<td>0.247522</td>
<td>0.749979</td>
<td>0.820815</td>
<td>1.000000</td>
<td>0.895940</td>
<td>-0.755590</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">Income.Per Capita Income</td>
<td>0.054492</td>
<td>-0.269516</td>
<td>-0.363581</td>
<td>-0.190507</td>
<td>-0.458687</td>
<td>-0.233495</td>
<td>0.384923</td>
<td>0.925678</td>
<td>-0.274597</td>
<td>0.169388</td>
<td>...</td>
<td>-0.059754</td>
<td>-0.547328</td>
<td>0.734335</td>
<td>0.185974</td>
<td>-0.099105</td>
<td>0.565945</td>
<td>0.656077</td>
<td>0.895940</td>
<td>1.000000</td>
<td>-0.586132</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">Income.Persons Below Poverty Level</td>
<td>0.331260</td>
<td>0.443643</td>
<td>0.450317</td>
<td>0.113660</td>
<td>0.107673</td>
<td>0.068212</td>
<td>-0.743634</td>
<td>-0.566515</td>
<td>-0.176359</td>
<td>0.434675</td>
<td>...</td>
<td>0.074541</td>
<td>-0.024846</td>
<td>-0.435180</td>
<td>-0.057847</td>
<td>-0.051614</td>
<td>-0.791368</td>
<td>-0.878474</td>
<td>-0.755590</td>
<td>-0.586132</td>
<td>1.000000</td>
</tr>
</tbody>
</table>

<p>26 rows × 26 columns</p>
</div>
</div>
</div>
<p>This will give every variable against all other variables, but in this case we don’t want to plot all that. We just want to see the correlation of the state demographic data to the cancer death data, and not the state demographic data with itself again.</p>
<p>So, let’s filter out the rows and columns that we don’t need.</p>
<div id="f77eff70" class="cell" data-execution_count="46">
<div class="sourceCode cell-code" id="cb47"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb47-1"><a href="#cb47-1" aria-hidden="true" tabindex="-1"></a>cancer_columns <span class="op">=</span> [<span class="st">"Types.Breast.Total"</span>, <span class="st">"Types.Colorectal.Total"</span>, <span class="st">"Types.Lung.Total"</span>]</span>
<span id="cb47-2"><a href="#cb47-2" aria-hidden="true" tabindex="-1"></a>cancer_demographics_correlation_matrix <span class="op">=</span> cancer_demographics_full_correlation_matrix[</span>
<span id="cb47-3"><a href="#cb47-3" aria-hidden="true" tabindex="-1"></a>    cancer_columns</span>
<span id="cb47-4"><a href="#cb47-4" aria-hidden="true" tabindex="-1"></a>].drop(cancer_columns, axis<span class="op">=</span><span class="st">"rows"</span>)</span>
<span id="cb47-5"><a href="#cb47-5" aria-hidden="true" tabindex="-1"></a>cancer_demographics_correlation_matrix</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="46">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">Types.Breast.Total</th>
<th data-quarto-table-cell-role="th">Types.Colorectal.Total</th>
<th data-quarto-table-cell-role="th">Types.Lung.Total</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">Age.Percent Under 5 Years</td>
<td>-0.388781</td>
<td>-0.314083</td>
<td>-0.435992</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">Age.Percent Under 18 Years</td>
<td>-0.498962</td>
<td>-0.381218</td>
<td>-0.411047</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">Age.Percent 65 and Older</td>
<td>0.451119</td>
<td>0.600918</td>
<td>0.609561</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">Education.High School or Higher</td>
<td>-0.131677</td>
<td>-0.158118</td>
<td>-0.216806</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">Education.Bachelor's Degree or Higher</td>
<td>-0.019331</td>
<td>-0.361382</td>
<td>-0.437903</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">...</td>
<td>...</td>
<td>...</td>
<td>...</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">Housing.Households with a computer</td>
<td>-0.541995</td>
<td>-0.753502</td>
<td>-0.706384</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">Housing.Households with a Internet</td>
<td>-0.398493</td>
<td>-0.612936</td>
<td>-0.577125</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">Income.Median Houseold Income</td>
<td>-0.275447</td>
<td>-0.502661</td>
<td>-0.574831</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">Income.Per Capita Income</td>
<td>0.054492</td>
<td>-0.269516</td>
<td>-0.363581</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">Income.Persons Below Poverty Level</td>
<td>0.331260</td>
<td>0.443643</td>
<td>0.450317</td>
</tr>
</tbody>
</table>

<p>23 rows × 3 columns</p>
</div>
</div>
</div>
<p>And now we can generate another heatmap.</p>
<div id="30f07153" class="cell" data-execution_count="47">
<div class="sourceCode cell-code" id="cb48"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb48-1"><a href="#cb48-1" aria-hidden="true" tabindex="-1"></a>sns.clustermap(</span>
<span id="cb48-2"><a href="#cb48-2" aria-hidden="true" tabindex="-1"></a>    cancer_demographics_correlation_matrix,</span>
<span id="cb48-3"><a href="#cb48-3" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Specify the complete linkage for calculating clusters</span></span>
<span id="cb48-4"><a href="#cb48-4" aria-hidden="true" tabindex="-1"></a>    method<span class="op">=</span><span class="st">"complete"</span>,</span>
<span id="cb48-5"><a href="#cb48-5" aria-hidden="true" tabindex="-1"></a>    <span class="co"># The relative space the dendrograms will occupy</span></span>
<span id="cb48-6"><a href="#cb48-6" aria-hidden="true" tabindex="-1"></a>    dendrogram_ratio<span class="op">=</span><span class="fl">0.15</span>,</span>
<span id="cb48-7"><a href="#cb48-7" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Use the "icefire" diverging palette</span></span>
<span id="cb48-8"><a href="#cb48-8" aria-hidden="true" tabindex="-1"></a>    cmap<span class="op">=</span><span class="st">"icefire"</span>,</span>
<span id="cb48-9"><a href="#cb48-9" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Make sure the min color value occurs at -1</span></span>
<span id="cb48-10"><a href="#cb48-10" aria-hidden="true" tabindex="-1"></a>    vmin<span class="op">=-</span><span class="dv">1</span>,</span>
<span id="cb48-11"><a href="#cb48-11" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Make sure the max color value occurs at 1</span></span>
<span id="cb48-12"><a href="#cb48-12" aria-hidden="true" tabindex="-1"></a>    vmax<span class="op">=</span><span class="dv">1</span>,</span>
<span id="cb48-13"><a href="#cb48-13" aria-hidden="true" tabindex="-1"></a>    <span class="co"># figsize=(12, 12),</span></span>
<span id="cb48-14"><a href="#cb48-14" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Remove the x-axis tick labels</span></span>
<span id="cb48-15"><a href="#cb48-15" aria-hidden="true" tabindex="-1"></a>    xticklabels<span class="op">=</span><span class="va">True</span>,</span>
<span id="cb48-16"><a href="#cb48-16" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Remove the y-axis tick labels</span></span>
<span id="cb48-17"><a href="#cb48-17" aria-hidden="true" tabindex="-1"></a>    yticklabels<span class="op">=</span><span class="va">True</span>,</span>
<span id="cb48-18"><a href="#cb48-18" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Set the options for the color palette legend</span></span>
<span id="cb48-19"><a href="#cb48-19" aria-hidden="true" tabindex="-1"></a>    cbar_kws<span class="op">=</span>{</span>
<span id="cb48-20"><a href="#cb48-20" aria-hidden="true" tabindex="-1"></a>        <span class="st">"label"</span>: <span class="st">"Correlation"</span>,  <span class="co"># Set the label for the color palette legend</span></span>
<span id="cb48-21"><a href="#cb48-21" aria-hidden="true" tabindex="-1"></a>        <span class="st">"location"</span>: <span class="st">"bottom"</span>,  <span class="co"># Set the location of the color palette legend</span></span>
<span id="cb48-22"><a href="#cb48-22" aria-hidden="true" tabindex="-1"></a>    },</span>
<span id="cb48-23"><a href="#cb48-23" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Set the location for the color palette legend</span></span>
<span id="cb48-24"><a href="#cb48-24" aria-hidden="true" tabindex="-1"></a>    <span class="co"># This is for top left</span></span>
<span id="cb48-25"><a href="#cb48-25" aria-hidden="true" tabindex="-1"></a>    cbar_pos<span class="op">=</span>(</span>
<span id="cb48-26"><a href="#cb48-26" aria-hidden="true" tabindex="-1"></a>        <span class="fl">0.03</span>,  <span class="co"># Distance from the left</span></span>
<span id="cb48-27"><a href="#cb48-27" aria-hidden="true" tabindex="-1"></a>        <span class="fl">0.92</span>,  <span class="co"># Distance from the bottom</span></span>
<span id="cb48-28"><a href="#cb48-28" aria-hidden="true" tabindex="-1"></a>        <span class="fl">0.10</span>,  <span class="co"># Width</span></span>
<span id="cb48-29"><a href="#cb48-29" aria-hidden="true" tabindex="-1"></a>        <span class="fl">0.05</span>,  <span class="co"># Height</span></span>
<span id="cb48-30"><a href="#cb48-30" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="cb48-31"><a href="#cb48-31" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="exploratory_data_analysis_files/figure-html/cell-48-output-1.png" class="img-fluid figure-img"></p>
</figure>
</div>
</div>
</div>
<p>We can definitely see some patterns emerging. The groups most highly correlated with cancer deaths were people 65 and older, followed by people below the poverty line. In contrast, groups that were least correlated with cancer deaths included those who lived in households with a computer and fewer people per household.</p>
<p>There are also some interesting patterns related to ethnicity. For example, there is almost no correlation between ethnicity and colorectal or lung cancer death for Pacific Islanders, but a negative correlation for breast cancer. Meanwhile, there is a higher correlation between breast cancer deaths and ethnicity for Black people than for colorectal or lung cancer, which are both close to zero.</p>
<p>These patterns bring up some interesting questions. Are Pacific Islanders less likely to develop breast cancer than Black people? Or do the two groups tend to develop different types of breast cancer? Or are there social determinants or biases in healthcare that make breast cancer more deadly for Black people?</p>
<p>Exploratory data analysis, as you’ve seen, will show trends, but it is up to scientists and other domain experts to interpret the data and to determine causes.</p>
</section>
<section id="cancer-data-wrap-up" class="level3">
<h3 class="anchored" data-anchor-id="cancer-data-wrap-up">Cancer Data Wrap-Up</h3>
<p>In this section we learned some tricks about how to combine multiple datasets, and how to look for interesting data trends by including more metadata into our analysis.</p>
<p>You may have noticed that there are a lot more variables in the cancer dataset. You could definitely imagine doing a lot more with this data!</p>
</section>
</section>
<section id="public-health-data" class="level2">
<h2 class="anchored" data-anchor-id="public-health-data">Public Health Data</h2>
<p>Let’s check out some public health data next. This data is a bit different in that it has data for the states over many years, and it includes multiple diseases. This makes it a neat resource to learn a few more Pandas tricks!</p>
<section id="basics" class="level3">
<h3 class="anchored" data-anchor-id="basics">Basics</h3>
<p>We start by importing the data.</p>
<div id="693ec280" class="cell" data-execution_count="48">
<div class="sourceCode cell-code" id="cb49"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb49-1"><a href="#cb49-1" aria-hidden="true" tabindex="-1"></a>disease <span class="op">=</span> pd.read_csv(<span class="st">"./_data/health.csv"</span>)</span>
<span id="cb49-2"><a href="#cb49-2" aria-hidden="true" tabindex="-1"></a>disease.head()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="48">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">disease</th>
<th data-quarto-table-cell-role="th">increase</th>
<th data-quarto-table-cell-role="th">loc</th>
<th data-quarto-table-cell-role="th">number</th>
<th data-quarto-table-cell-role="th">population</th>
<th data-quarto-table-cell-role="th">year</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>MEASLES</td>
<td>334.99</td>
<td>ALABAMA</td>
<td>8843</td>
<td>2640000</td>
<td>1928</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>MEASLES</td>
<td>200.75</td>
<td>ARIZONA</td>
<td>847</td>
<td>422000</td>
<td>1928</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2</td>
<td>MEASLES</td>
<td>481.77</td>
<td>ARKANSAS</td>
<td>8899</td>
<td>1847000</td>
<td>1928</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">3</td>
<td>MEASLES</td>
<td>69.22</td>
<td>CALIFORNIA</td>
<td>3698</td>
<td>5344000</td>
<td>1928</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">4</td>
<td>MEASLES</td>
<td>206.98</td>
<td>COLORADO</td>
<td>2099</td>
<td>1014000</td>
<td>1928</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<p>The first thing I want to do is clean it up a little bit. I like columns to use title case and to avoid abbreviations that aren’t in common usage. Additionally, the other datasets we looked at didn’t have entries in all caps, so I would like to fix that as well.</p>
<div id="fe86b99b" class="cell" data-execution_count="49">
<div class="sourceCode cell-code" id="cb50"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb50-1"><a href="#cb50-1" aria-hidden="true" tabindex="-1"></a>disease <span class="op">=</span> (</span>
<span id="cb50-2"><a href="#cb50-2" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Start with the disease DataFrame</span></span>
<span id="cb50-3"><a href="#cb50-3" aria-hidden="true" tabindex="-1"></a>    disease</span>
<span id="cb50-4"><a href="#cb50-4" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Rename the columns to more readable format with capital letters</span></span>
<span id="cb50-5"><a href="#cb50-5" aria-hidden="true" tabindex="-1"></a>    .rename(</span>
<span id="cb50-6"><a href="#cb50-6" aria-hidden="true" tabindex="-1"></a>        columns<span class="op">=</span>{</span>
<span id="cb50-7"><a href="#cb50-7" aria-hidden="true" tabindex="-1"></a>            <span class="co"># Change 'disease' to 'Disease'</span></span>
<span id="cb50-8"><a href="#cb50-8" aria-hidden="true" tabindex="-1"></a>            <span class="st">"disease"</span>: <span class="st">"Disease"</span>,</span>
<span id="cb50-9"><a href="#cb50-9" aria-hidden="true" tabindex="-1"></a>            <span class="co"># Change 'increase' to 'Increase'</span></span>
<span id="cb50-10"><a href="#cb50-10" aria-hidden="true" tabindex="-1"></a>            <span class="st">"increase"</span>: <span class="st">"Increase"</span>,</span>
<span id="cb50-11"><a href="#cb50-11" aria-hidden="true" tabindex="-1"></a>            <span class="co"># Change 'loc' to 'State'</span></span>
<span id="cb50-12"><a href="#cb50-12" aria-hidden="true" tabindex="-1"></a>            <span class="st">"loc"</span>: <span class="st">"State"</span>,</span>
<span id="cb50-13"><a href="#cb50-13" aria-hidden="true" tabindex="-1"></a>            <span class="co"># Change 'number' to 'Cases'</span></span>
<span id="cb50-14"><a href="#cb50-14" aria-hidden="true" tabindex="-1"></a>            <span class="st">"number"</span>: <span class="st">"Cases"</span>,</span>
<span id="cb50-15"><a href="#cb50-15" aria-hidden="true" tabindex="-1"></a>            <span class="co"># Change 'population' as 'Population'</span></span>
<span id="cb50-16"><a href="#cb50-16" aria-hidden="true" tabindex="-1"></a>            <span class="st">"population"</span>: <span class="st">"Population"</span>,</span>
<span id="cb50-17"><a href="#cb50-17" aria-hidden="true" tabindex="-1"></a>            <span class="co"># Change 'year' to 'Year'</span></span>
<span id="cb50-18"><a href="#cb50-18" aria-hidden="true" tabindex="-1"></a>            <span class="st">"year"</span>: <span class="st">"Year"</span>,</span>
<span id="cb50-19"><a href="#cb50-19" aria-hidden="true" tabindex="-1"></a>        }</span>
<span id="cb50-20"><a href="#cb50-20" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb50-21"><a href="#cb50-21" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Use assign() to create or modify columns without modifying the original</span></span>
<span id="cb50-22"><a href="#cb50-22" aria-hidden="true" tabindex="-1"></a>    <span class="co"># DataFrame</span></span>
<span id="cb50-23"><a href="#cb50-23" aria-hidden="true" tabindex="-1"></a>    .assign(</span>
<span id="cb50-24"><a href="#cb50-24" aria-hidden="true" tabindex="-1"></a>        <span class="co"># Convert the Disease column text to title case</span></span>
<span id="cb50-25"><a href="#cb50-25" aria-hidden="true" tabindex="-1"></a>        <span class="co"># (first letter of each word capitalized)</span></span>
<span id="cb50-26"><a href="#cb50-26" aria-hidden="true" tabindex="-1"></a>        Disease<span class="op">=</span><span class="kw">lambda</span> df: df[<span class="st">"Disease"</span>].<span class="bu">str</span>.title(),</span>
<span id="cb50-27"><a href="#cb50-27" aria-hidden="true" tabindex="-1"></a>        <span class="co"># Convert the State column text to title case</span></span>
<span id="cb50-28"><a href="#cb50-28" aria-hidden="true" tabindex="-1"></a>        <span class="co"># (first letter of each word capitalized)</span></span>
<span id="cb50-29"><a href="#cb50-29" aria-hidden="true" tabindex="-1"></a>        State<span class="op">=</span><span class="kw">lambda</span> df: df[<span class="st">"State"</span>].<span class="bu">str</span>.title(),</span>
<span id="cb50-30"><a href="#cb50-30" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb50-31"><a href="#cb50-31" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb50-32"><a href="#cb50-32" aria-hidden="true" tabindex="-1"></a>disease</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="49">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">Disease</th>
<th data-quarto-table-cell-role="th">Increase</th>
<th data-quarto-table-cell-role="th">State</th>
<th data-quarto-table-cell-role="th">Cases</th>
<th data-quarto-table-cell-role="th">Population</th>
<th data-quarto-table-cell-role="th">Year</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>Measles</td>
<td>334.99</td>
<td>Alabama</td>
<td>8843</td>
<td>2640000</td>
<td>1928</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>Measles</td>
<td>200.75</td>
<td>Arizona</td>
<td>847</td>
<td>422000</td>
<td>1928</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2</td>
<td>Measles</td>
<td>481.77</td>
<td>Arkansas</td>
<td>8899</td>
<td>1847000</td>
<td>1928</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">3</td>
<td>Measles</td>
<td>69.22</td>
<td>California</td>
<td>3698</td>
<td>5344000</td>
<td>1928</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">4</td>
<td>Measles</td>
<td>206.98</td>
<td>Colorado</td>
<td>2099</td>
<td>1014000</td>
<td>1928</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">14260</td>
<td>Pertussis</td>
<td>2.06</td>
<td>Virginia</td>
<td>171</td>
<td>8096604</td>
<td>2011</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">14261</td>
<td>Pertussis</td>
<td>10.68</td>
<td>Washington</td>
<td>731</td>
<td>6830038</td>
<td>2011</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">14262</td>
<td>Pertussis</td>
<td>1.99</td>
<td>West Virginia</td>
<td>37</td>
<td>1855364</td>
<td>2011</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">14263</td>
<td>Pertussis</td>
<td>6.20</td>
<td>Wisconsin</td>
<td>351</td>
<td>5711767</td>
<td>2011</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">14264</td>
<td>Pertussis</td>
<td>1.25</td>
<td>Wyoming</td>
<td>7</td>
<td>568158</td>
<td>2011</td>
</tr>
</tbody>
</table>

<p>14265 rows × 6 columns</p>
</div>
</div>
</div>
<p>We use the method chaining style again: each method returns a DataFrame that the next method operates on.</p>
<p>That <code>lambda</code> usage in <code>assign()</code> might be a bit obscure. Let’s break it down.</p>
<div class="sourceCode" id="cb51"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb51-1"><a href="#cb51-1" aria-hidden="true" tabindex="-1"></a>.assign(</span>
<span id="cb51-2"><a href="#cb51-2" aria-hidden="true" tabindex="-1"></a>    Disease<span class="op">=</span><span class="kw">lambda</span> df: df[<span class="st">"Disease"</span>].<span class="bu">str</span>.title()</span>
<span id="cb51-3"><a href="#cb51-3" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<ul>
<li><code>Disease</code> will be the column that holds the result of the evaluation of the <code>lambda</code> function</li>
<li><code>lambda df:</code>
<ul>
<li>This creates a small anonymous function that takes a <code>DataFrame</code> named <code>df</code> as input.</li>
<li>Which data frame? Well, it’s the data frame that we are currently working on. If that is too mind-bending, just roll with it for now.</li>
</ul></li>
<li><code>df["Disease"]</code> selects just the Disease column from the data frame <code>df</code></li>
<li><code>.str.title()</code> is a Pandas string method that converts text to “Title Case” (capitalizes the first letter of each word).</li>
</ul>
<p>So when you see <code>Disease=lambda df: df["Disease"].str.title()</code> in the <code>assign()</code> method, it means “create a new Disease column by taking the values from the existing Disease column and converting each value to title case.”</p>
<p><em>Note: Pandas has a special way of working with string data. To learn more, check out the <a href="https://pandas.pydata.org/docs/user_guide/text.html">working with text data</a> docs.</em></p>
</section>
<section id="disease-rates" class="level3">
<h3 class="anchored" data-anchor-id="disease-rates">Disease Rates</h3>
<p>Similar to the other datasets, we will want to look at disease rates and not raw numbers since we don’t want the state population to influence our results. This time, let’s modify the existing data frame directly. We could have used <code>assign()</code> again, but I want to give you a little variety, in case you see something similar in the wild.</p>
<div id="a77f5de9" class="cell" data-execution_count="50">
<div class="sourceCode cell-code" id="cb52"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb52-1"><a href="#cb52-1" aria-hidden="true" tabindex="-1"></a>disease[<span class="st">"CasesPer100k"</span>] <span class="op">=</span> disease[<span class="st">"Cases"</span>] <span class="op">/</span> disease[<span class="st">"Population"</span>] <span class="op">*</span> <span class="dv">100_000</span></span>
<span id="cb52-2"><a href="#cb52-2" aria-hidden="true" tabindex="-1"></a>disease.head()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="50">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">Disease</th>
<th data-quarto-table-cell-role="th">Increase</th>
<th data-quarto-table-cell-role="th">State</th>
<th data-quarto-table-cell-role="th">Cases</th>
<th data-quarto-table-cell-role="th">Population</th>
<th data-quarto-table-cell-role="th">Year</th>
<th data-quarto-table-cell-role="th">CasesPer100k</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>Measles</td>
<td>334.99</td>
<td>Alabama</td>
<td>8843</td>
<td>2640000</td>
<td>1928</td>
<td>334.962121</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>Measles</td>
<td>200.75</td>
<td>Arizona</td>
<td>847</td>
<td>422000</td>
<td>1928</td>
<td>200.710900</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2</td>
<td>Measles</td>
<td>481.77</td>
<td>Arkansas</td>
<td>8899</td>
<td>1847000</td>
<td>1928</td>
<td>481.808338</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">3</td>
<td>Measles</td>
<td>69.22</td>
<td>California</td>
<td>3698</td>
<td>5344000</td>
<td>1928</td>
<td>69.199102</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">4</td>
<td>Measles</td>
<td>206.98</td>
<td>Colorado</td>
<td>2099</td>
<td>1014000</td>
<td>1928</td>
<td>207.001972</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<p>Some of these columns are no longer needed, so let’s drop them.</p>
<div id="9f661696" class="cell" data-execution_count="51">
<div class="sourceCode cell-code" id="cb53"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb53-1"><a href="#cb53-1" aria-hidden="true" tabindex="-1"></a>disease <span class="op">=</span> disease.drop(columns<span class="op">=</span>[<span class="st">"Increase"</span>, <span class="st">"Population"</span>])</span>
<span id="cb53-2"><a href="#cb53-2" aria-hidden="true" tabindex="-1"></a>disease</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="51">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">Disease</th>
<th data-quarto-table-cell-role="th">State</th>
<th data-quarto-table-cell-role="th">Cases</th>
<th data-quarto-table-cell-role="th">Year</th>
<th data-quarto-table-cell-role="th">CasesPer100k</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>Measles</td>
<td>Alabama</td>
<td>8843</td>
<td>1928</td>
<td>334.962121</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>Measles</td>
<td>Arizona</td>
<td>847</td>
<td>1928</td>
<td>200.710900</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2</td>
<td>Measles</td>
<td>Arkansas</td>
<td>8899</td>
<td>1928</td>
<td>481.808338</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">3</td>
<td>Measles</td>
<td>California</td>
<td>3698</td>
<td>1928</td>
<td>69.199102</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">4</td>
<td>Measles</td>
<td>Colorado</td>
<td>2099</td>
<td>1928</td>
<td>207.001972</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">14260</td>
<td>Pertussis</td>
<td>Virginia</td>
<td>171</td>
<td>2011</td>
<td>2.111997</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">14261</td>
<td>Pertussis</td>
<td>Washington</td>
<td>731</td>
<td>2011</td>
<td>10.702722</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">14262</td>
<td>Pertussis</td>
<td>West Virginia</td>
<td>37</td>
<td>2011</td>
<td>1.994218</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">14263</td>
<td>Pertussis</td>
<td>Wisconsin</td>
<td>351</td>
<td>2011</td>
<td>6.145209</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">14264</td>
<td>Pertussis</td>
<td>Wyoming</td>
<td>7</td>
<td>2011</td>
<td>1.232052</td>
</tr>
</tbody>
</table>

<p>14265 rows × 5 columns</p>
</div>
</div>
</div>
</section>
<section id="grouping-data" class="level3">
<h3 class="anchored" data-anchor-id="grouping-data">Grouping Data</h3>
<p>Now that we have cleaned things up a little, let’s summarize the data.</p>
<div id="ae731c4e" class="cell" data-execution_count="52">
<div class="sourceCode cell-code" id="cb54"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb54-1"><a href="#cb54-1" aria-hidden="true" tabindex="-1"></a>disease.describe()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="52">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">Cases</th>
<th data-quarto-table-cell-role="th">Year</th>
<th data-quarto-table-cell-role="th">CasesPer100k</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">count</td>
<td>14265.000000</td>
<td>14265.000000</td>
<td>14265.000000</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">mean</td>
<td>1680.833719</td>
<td>1969.932983</td>
<td>57.365462</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">std</td>
<td>6219.396618</td>
<td>23.050123</td>
<td>165.211789</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">min</td>
<td>0.000000</td>
<td>1928.000000</td>
<td>0.000000</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">25%</td>
<td>17.000000</td>
<td>1948.000000</td>
<td>0.718467</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">50%</td>
<td>109.000000</td>
<td>1973.000000</td>
<td>3.928048</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">75%</td>
<td>677.000000</td>
<td>1989.000000</td>
<td>25.368169</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">max</td>
<td>132342.000000</td>
<td>2011.000000</td>
<td>2974.789916</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<p>Huh, that really didn’t give us useful information did it? The way this data is structured means that multiple columns are needed to identify unique observations. In this case a single observation is uniquely identified by a combination of state-year-disease. When we use describe, or other summarizing methods which we will see in a bit, we will first need to group the observations by subsets of the columns that uniquely identify them.</p>
<p>For example, to see averages for diseases per year across all states, we would group by <code>Year</code> and <code>Disease</code>:</p>
<div id="3499e685" class="cell" data-execution_count="53">
<div class="sourceCode cell-code" id="cb55"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb55-1"><a href="#cb55-1" aria-hidden="true" tabindex="-1"></a>disease.groupby(by<span class="op">=</span>[<span class="st">"Year"</span>, <span class="st">"Disease"</span>]).describe()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="53">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th colspan="8" data-quarto-table-cell-role="th" data-halign="left">Cases</th>
<th colspan="8" data-quarto-table-cell-role="th" data-halign="left">CasesPer100k</th>
</tr>
<tr class="even">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">count</th>
<th data-quarto-table-cell-role="th">mean</th>
<th data-quarto-table-cell-role="th">std</th>
<th data-quarto-table-cell-role="th">min</th>
<th data-quarto-table-cell-role="th">25%</th>
<th data-quarto-table-cell-role="th">50%</th>
<th data-quarto-table-cell-role="th">75%</th>
<th data-quarto-table-cell-role="th">max</th>
<th data-quarto-table-cell-role="th">count</th>
<th data-quarto-table-cell-role="th">mean</th>
<th data-quarto-table-cell-role="th">std</th>
<th data-quarto-table-cell-role="th">min</th>
<th data-quarto-table-cell-role="th">25%</th>
<th data-quarto-table-cell-role="th">50%</th>
<th data-quarto-table-cell-role="th">75%</th>
<th data-quarto-table-cell-role="th">max</th>
</tr>
<tr class="header">
<th data-quarto-table-cell-role="th">Year</th>
<th data-quarto-table-cell-role="th">Disease</th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td rowspan="3" data-quarto-table-cell-role="th" data-valign="top">1928</td>
<td data-quarto-table-cell-role="th">Measles</td>
<td>47.0</td>
<td>10283.765957</td>
<td>16529.355868</td>
<td>0.0</td>
<td>1236.50</td>
<td>3698.0</td>
<td>8656.50</td>
<td>75391.0</td>
<td>47.0</td>
<td>360.119785</td>
<td>355.941940</td>
<td>0.000000</td>
<td>130.758467</td>
<td>256.223176</td>
<td>508.753856</td>
<td>1823.718365</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">Polio</td>
<td>48.0</td>
<td>99.083333</td>
<td>155.322154</td>
<td>6.0</td>
<td>24.00</td>
<td>45.0</td>
<td>89.75</td>
<td>947.0</td>
<td>48.0</td>
<td>4.816878</td>
<td>4.951962</td>
<td>0.413365</td>
<td>1.563007</td>
<td>2.666954</td>
<td>6.917508</td>
<td>20.760799</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">Smallpox</td>
<td>49.0</td>
<td>744.285714</td>
<td>924.561878</td>
<td>0.0</td>
<td>83.00</td>
<td>341.0</td>
<td>1285.00</td>
<td>3917.0</td>
<td>49.0</td>
<td>41.261417</td>
<td>49.954931</td>
<td>0.000000</td>
<td>2.793296</td>
<td>18.525449</td>
<td>73.181818</td>
<td>204.166667</td>
</tr>
<tr class="even">
<td rowspan="2" data-quarto-table-cell-role="th" data-valign="top">1929</td>
<td data-quarto-table-cell-role="th">Measles</td>
<td>46.0</td>
<td>7370.891304</td>
<td>11334.755452</td>
<td>211.0</td>
<td>1102.50</td>
<td>2164.5</td>
<td>7100.75</td>
<td>47605.0</td>
<td>46.0</td>
<td>262.191202</td>
<td>233.787770</td>
<td>12.133410</td>
<td>73.116765</td>
<td>182.629793</td>
<td>370.208359</td>
<td>1016.530334</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">Polio</td>
<td>48.0</td>
<td>57.208333</td>
<td>91.662879</td>
<td>3.0</td>
<td>9.00</td>
<td>20.5</td>
<td>63.25</td>
<td>530.0</td>
<td>48.0</td>
<td>2.040845</td>
<td>1.718013</td>
<td>0.215983</td>
<td>0.839060</td>
<td>1.532462</td>
<td>2.824737</td>
<td>9.938144</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">...</td>
<td data-quarto-table-cell-role="th">...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2009</td>
<td data-quarto-table-cell-role="th">Pertussis</td>
<td>51.0</td>
<td>175.294118</td>
<td>208.747244</td>
<td>1.0</td>
<td>54.50</td>
<td>109.0</td>
<td>194.00</td>
<td>1081.0</td>
<td>51.0</td>
<td>3.254531</td>
<td>2.049602</td>
<td>0.166762</td>
<td>1.685645</td>
<td>2.778082</td>
<td>4.144554</td>
<td>10.021862</td>
</tr>
<tr class="even">
<td rowspan="2" data-quarto-table-cell-role="th" data-valign="top">2010</td>
<td data-quarto-table-cell-role="th">Hepatitis A</td>
<td>50.0</td>
<td>81.200000</td>
<td>396.252599</td>
<td>0.0</td>
<td>4.75</td>
<td>12.5</td>
<td>30.50</td>
<td>2815.0</td>
<td>50.0</td>
<td>0.667417</td>
<td>1.991235</td>
<td>0.000000</td>
<td>0.244203</td>
<td>0.397353</td>
<td>0.514911</td>
<td>14.378582</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">Pertussis</td>
<td>51.0</td>
<td>276.705882</td>
<td>373.632830</td>
<td>6.0</td>
<td>43.00</td>
<td>132.0</td>
<td>326.00</td>
<td>1810.0</td>
<td>51.0</td>
<td>4.811068</td>
<td>4.255464</td>
<td>0.095149</td>
<td>1.927061</td>
<td>3.394460</td>
<td>5.986279</td>
<td>20.872745</td>
</tr>
<tr class="even">
<td rowspan="2" data-quarto-table-cell-role="th" data-valign="top">2011</td>
<td data-quarto-table-cell-role="th">Hepatitis A</td>
<td>48.0</td>
<td>22.958333</td>
<td>34.008108</td>
<td>0.0</td>
<td>4.00</td>
<td>8.5</td>
<td>28.00</td>
<td>176.0</td>
<td>48.0</td>
<td>0.289574</td>
<td>0.169517</td>
<td>0.000000</td>
<td>0.168690</td>
<td>0.278355</td>
<td>0.404930</td>
<td>0.798173</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">Pertussis</td>
<td>51.0</td>
<td>217.647059</td>
<td>261.697522</td>
<td>5.0</td>
<td>46.50</td>
<td>111.0</td>
<td>275.00</td>
<td>1145.0</td>
<td>51.0</td>
<td>4.099466</td>
<td>3.043221</td>
<td>0.306022</td>
<td>1.679363</td>
<td>3.037787</td>
<td>6.325108</td>
<td>11.821290</td>
</tr>
</tbody>
</table>

<p>315 rows × 16 columns</p>
</div>
</div>
</div>
<p>Or, to see averages for diseases per state across all years, we would group by <code>State</code> and <code>Disease</code>:</p>
<div id="1b03acd3" class="cell" data-execution_count="54">
<div class="sourceCode cell-code" id="cb56"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb56-1"><a href="#cb56-1" aria-hidden="true" tabindex="-1"></a>disease.groupby(by<span class="op">=</span>[<span class="st">"State"</span>, <span class="st">"Disease"</span>]).describe()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="54">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th colspan="8" data-quarto-table-cell-role="th" data-halign="left">Cases</th>
<th colspan="5" data-quarto-table-cell-role="th" data-halign="left">Year</th>
<th colspan="8" data-quarto-table-cell-role="th" data-halign="left">CasesPer100k</th>
</tr>
<tr class="even">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">count</th>
<th data-quarto-table-cell-role="th">mean</th>
<th data-quarto-table-cell-role="th">std</th>
<th data-quarto-table-cell-role="th">min</th>
<th data-quarto-table-cell-role="th">25%</th>
<th data-quarto-table-cell-role="th">50%</th>
<th data-quarto-table-cell-role="th">75%</th>
<th data-quarto-table-cell-role="th">max</th>
<th data-quarto-table-cell-role="th">count</th>
<th data-quarto-table-cell-role="th">mean</th>
<th data-quarto-table-cell-role="th">...</th>
<th data-quarto-table-cell-role="th">75%</th>
<th data-quarto-table-cell-role="th">max</th>
<th data-quarto-table-cell-role="th">count</th>
<th data-quarto-table-cell-role="th">mean</th>
<th data-quarto-table-cell-role="th">std</th>
<th data-quarto-table-cell-role="th">min</th>
<th data-quarto-table-cell-role="th">25%</th>
<th data-quarto-table-cell-role="th">50%</th>
<th data-quarto-table-cell-role="th">75%</th>
<th data-quarto-table-cell-role="th">max</th>
</tr>
<tr class="header">
<th data-quarto-table-cell-role="th">State</th>
<th data-quarto-table-cell-role="th">Disease</th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td rowspan="5" data-quarto-table-cell-role="th" data-valign="top">Alabama</td>
<td data-quarto-table-cell-role="th">Hepatitis A</td>
<td>46.0</td>
<td>136.913043</td>
<td>130.868182</td>
<td>6.0</td>
<td>35.50</td>
<td>73.5</td>
<td>216.50</td>
<td>467.0</td>
<td>46.0</td>
<td>1988.500000</td>
<td>...</td>
<td>1999.75</td>
<td>2011.0</td>
<td>46.0</td>
<td>3.648793</td>
<td>3.729064</td>
<td>0.132973</td>
<td>0.860860</td>
<td>1.717768</td>
<td>5.708617</td>
<td>12.877434</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">Measles</td>
<td>66.0</td>
<td>3175.484848</td>
<td>4196.365912</td>
<td>0.0</td>
<td>23.50</td>
<td>1774.0</td>
<td>3784.75</td>
<td>18118.0</td>
<td>66.0</td>
<td>1961.166667</td>
<td>...</td>
<td>1977.75</td>
<td>2002.0</td>
<td>66.0</td>
<td>107.593367</td>
<td>143.192331</td>
<td>0.000000</td>
<td>0.600964</td>
<td>53.786844</td>
<td>129.980033</td>
<td>590.279330</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">Mumps</td>
<td>34.0</td>
<td>185.735294</td>
<td>285.659185</td>
<td>1.0</td>
<td>7.25</td>
<td>19.0</td>
<td>363.75</td>
<td>1025.0</td>
<td>34.0</td>
<td>1984.529412</td>
<td>...</td>
<td>1992.75</td>
<td>2002.0</td>
<td>34.0</td>
<td>5.102450</td>
<td>7.967464</td>
<td>0.025053</td>
<td>0.167004</td>
<td>0.476587</td>
<td>9.596426</td>
<td>28.959711</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">Pertussis</td>
<td>55.0</td>
<td>464.163636</td>
<td>679.201295</td>
<td>1.0</td>
<td>24.00</td>
<td>65.0</td>
<td>996.50</td>
<td>2249.0</td>
<td>55.0</td>
<td>1977.654545</td>
<td>...</td>
<td>1997.50</td>
<td>2011.0</td>
<td>55.0</td>
<td>15.573160</td>
<td>23.568290</td>
<td>0.025173</td>
<td>0.587737</td>
<td>1.552425</td>
<td>33.401600</td>
<td>76.444596</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">Polio</td>
<td>39.0</td>
<td>155.230769</td>
<td>186.117176</td>
<td>0.0</td>
<td>50.50</td>
<td>67.0</td>
<td>188.50</td>
<td>796.0</td>
<td>39.0</td>
<td>1947.076923</td>
<td>...</td>
<td>1956.50</td>
<td>1968.0</td>
<td>39.0</td>
<td>5.265726</td>
<td>6.262218</td>
<td>0.000000</td>
<td>1.685470</td>
<td>2.348485</td>
<td>6.273355</td>
<td>27.429359</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">...</td>
<td data-quarto-table-cell-role="th">...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
</tr>
<tr class="odd">
<td rowspan="5" data-quarto-table-cell-role="th" data-valign="top">Wyoming</td>
<td data-quarto-table-cell-role="th">Mumps</td>
<td>28.0</td>
<td>61.750000</td>
<td>142.390861</td>
<td>0.0</td>
<td>2.00</td>
<td>3.5</td>
<td>7.25</td>
<td>436.0</td>
<td>28.0</td>
<td>1983.821429</td>
<td>...</td>
<td>1992.25</td>
<td>2001.0</td>
<td>28.0</td>
<td>17.632509</td>
<td>41.088007</td>
<td>0.000000</td>
<td>0.402704</td>
<td>0.726743</td>
<td>1.753256</td>
<td>123.148148</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">Pertussis</td>
<td>50.0</td>
<td>98.660000</td>
<td>148.652534</td>
<td>0.0</td>
<td>4.00</td>
<td>12.0</td>
<td>154.50</td>
<td>559.0</td>
<td>50.0</td>
<td>1977.120000</td>
<td>...</td>
<td>1998.75</td>
<td>2011.0</td>
<td>50.0</td>
<td>36.635964</td>
<td>58.913155</td>
<td>0.000000</td>
<td>0.846719</td>
<td>2.319264</td>
<td>55.790924</td>
<td>227.235772</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">Polio</td>
<td>36.0</td>
<td>41.805556</td>
<td>60.885757</td>
<td>1.0</td>
<td>6.75</td>
<td>19.0</td>
<td>42.00</td>
<td>273.0</td>
<td>36.0</td>
<td>1945.527778</td>
<td>...</td>
<td>1954.25</td>
<td>1964.0</td>
<td>36.0</td>
<td>15.125636</td>
<td>20.958616</td>
<td>0.296736</td>
<td>2.869318</td>
<td>6.709717</td>
<td>15.650277</td>
<td>93.174061</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">Rubella</td>
<td>21.0</td>
<td>66.714286</td>
<td>191.147624</td>
<td>1.0</td>
<td>2.00</td>
<td>6.0</td>
<td>12.00</td>
<td>861.0</td>
<td>21.0</td>
<td>1978.095238</td>
<td>...</td>
<td>1984.00</td>
<td>1995.0</td>
<td>21.0</td>
<td>19.367791</td>
<td>55.357490</td>
<td>0.203371</td>
<td>0.440929</td>
<td>1.242236</td>
<td>2.547296</td>
<td>247.880350</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">Smallpox</td>
<td>24.0</td>
<td>74.250000</td>
<td>105.328162</td>
<td>1.0</td>
<td>2.00</td>
<td>9.5</td>
<td>119.00</td>
<td>334.0</td>
<td>24.0</td>
<td>1939.625000</td>
<td>...</td>
<td>1945.25</td>
<td>1952.0</td>
<td>24.0</td>
<td>31.957904</td>
<td>45.915825</td>
<td>0.341297</td>
<td>0.779701</td>
<td>3.886957</td>
<td>50.388562</td>
<td>149.775785</td>
</tr>
</tbody>
</table>

<p>355 rows × 24 columns</p>
</div>
</div>
</div>
<p>And so on, with any combination required.</p>
<p><em>Note: We didn’t show it here, but you can also group by single columns, too.</em></p>
<p>You may have noticed that there is too much data to really get a sense of it in the interactive Quarto prompt. The quickest way around this is to use the <a href="https://pandas.pydata.org/docs/reference/api/pandas.DataFrame.to_clipboard.html#pandas.DataFrame.to_clipboard">to_clipboard()</a> method, and then paste the data into your favorite spreadsheet program and you can get a better look.</p>
<div id="755258fc" class="cell" data-execution_count="55">
<div class="sourceCode cell-code" id="cb57"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb57-1"><a href="#cb57-1" aria-hidden="true" tabindex="-1"></a>disease.groupby(by<span class="op">=</span>[<span class="st">"State"</span>, <span class="st">"Disease"</span>]).describe().to_clipboard()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>The <code>to_clipboard()</code> function can be very handy!</p>
</section>
<section id="plotting-the-data" class="level3">
<h3 class="anchored" data-anchor-id="plotting-the-data">Plotting the Data</h3>
<p>Having gotten ourselves acquainted with the data, we should make some plots! Let’s see how common the diseases were across all states and all years for which we have data.</p>
<div id="3cf00ebe" class="cell" data-execution_count="56">
<div class="sourceCode cell-code" id="cb58"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb58-1"><a href="#cb58-1" aria-hidden="true" tabindex="-1"></a>(</span>
<span id="cb58-2"><a href="#cb58-2" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Select only the columns we need for this chart</span></span>
<span id="cb58-3"><a href="#cb58-3" aria-hidden="true" tabindex="-1"></a>    disease[[<span class="st">"Disease"</span>, <span class="st">"Cases"</span>]]</span>
<span id="cb58-4"><a href="#cb58-4" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Group the data by disease</span></span>
<span id="cb58-5"><a href="#cb58-5" aria-hidden="true" tabindex="-1"></a>    .groupby(by<span class="op">=</span><span class="st">"Disease"</span>)</span>
<span id="cb58-6"><a href="#cb58-6" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Take the sum of the cases</span></span>
<span id="cb58-7"><a href="#cb58-7" aria-hidden="true" tabindex="-1"></a>    .agg({<span class="st">"Cases"</span>: <span class="st">"sum"</span>})</span>
<span id="cb58-8"><a href="#cb58-8" aria-hidden="true" tabindex="-1"></a>    <span class="co"># The groupby() operation will make Disease the row names,</span></span>
<span id="cb58-9"><a href="#cb58-9" aria-hidden="true" tabindex="-1"></a>    <span class="co"># but we want them as a column.</span></span>
<span id="cb58-10"><a href="#cb58-10" aria-hidden="true" tabindex="-1"></a>    .reset_index(<span class="st">"Disease"</span>)</span>
<span id="cb58-11"><a href="#cb58-11" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Sort the rows by number of cases</span></span>
<span id="cb58-12"><a href="#cb58-12" aria-hidden="true" tabindex="-1"></a>    .sort_values(<span class="st">"Cases"</span>, ascending<span class="op">=</span><span class="va">False</span>)</span>
<span id="cb58-13"><a href="#cb58-13" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Plot the data</span></span>
<span id="cb58-14"><a href="#cb58-14" aria-hidden="true" tabindex="-1"></a>    .plot(</span>
<span id="cb58-15"><a href="#cb58-15" aria-hidden="true" tabindex="-1"></a>        <span class="co"># Do a bar chart</span></span>
<span id="cb58-16"><a href="#cb58-16" aria-hidden="true" tabindex="-1"></a>        kind<span class="op">=</span><span class="st">"bar"</span>,</span>
<span id="cb58-17"><a href="#cb58-17" aria-hidden="true" tabindex="-1"></a>        <span class="co"># The x-axis is disease name</span></span>
<span id="cb58-18"><a href="#cb58-18" aria-hidden="true" tabindex="-1"></a>        x<span class="op">=</span><span class="st">"Disease"</span>,</span>
<span id="cb58-19"><a href="#cb58-19" aria-hidden="true" tabindex="-1"></a>        <span class="co"># The y-axis is the number of cases</span></span>
<span id="cb58-20"><a href="#cb58-20" aria-hidden="true" tabindex="-1"></a>        y<span class="op">=</span><span class="st">"Cases"</span>,</span>
<span id="cb58-21"><a href="#cb58-21" aria-hidden="true" tabindex="-1"></a>        <span class="co"># We want to log transform the y-axis</span></span>
<span id="cb58-22"><a href="#cb58-22" aria-hidden="true" tabindex="-1"></a>        logy<span class="op">=</span><span class="va">True</span>,</span>
<span id="cb58-23"><a href="#cb58-23" aria-hidden="true" tabindex="-1"></a>        <span class="co"># Drop the legend since we only have a single series of data to plot</span></span>
<span id="cb58-24"><a href="#cb58-24" aria-hidden="true" tabindex="-1"></a>        legend<span class="op">=</span><span class="va">False</span>,</span>
<span id="cb58-25"><a href="#cb58-25" aria-hidden="true" tabindex="-1"></a>        <span class="co"># Give the y-axis a label</span></span>
<span id="cb58-26"><a href="#cb58-26" aria-hidden="true" tabindex="-1"></a>        ylabel<span class="op">=</span><span class="st">"Cases"</span>,</span>
<span id="cb58-27"><a href="#cb58-27" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb58-28"><a href="#cb58-28" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="exploratory_data_analysis_files/figure-html/cell-57-output-1.png" class="img-fluid figure-img"></p>
</figure>
</div>
</div>
</div>
<p>Measles is by far the most common disease in the dataset. Let’s see if the prevalence of different diseases changes over time.</p>
<div id="b96803ab" class="cell" data-execution_count="57">
<div class="sourceCode cell-code" id="cb59"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb59-1"><a href="#cb59-1" aria-hidden="true" tabindex="-1"></a>plot_data <span class="op">=</span> (</span>
<span id="cb59-2"><a href="#cb59-2" aria-hidden="true" tabindex="-1"></a>    disease[[<span class="st">"Disease"</span>, <span class="st">"Year"</span>, <span class="st">"Cases"</span>]]</span>
<span id="cb59-3"><a href="#cb59-3" aria-hidden="true" tabindex="-1"></a>    .groupby(by<span class="op">=</span>[<span class="st">"Disease"</span>, <span class="st">"Year"</span>])</span>
<span id="cb59-4"><a href="#cb59-4" aria-hidden="true" tabindex="-1"></a>    .agg({<span class="st">"Cases"</span>: <span class="st">"sum"</span>})</span>
<span id="cb59-5"><a href="#cb59-5" aria-hidden="true" tabindex="-1"></a>    .reset_index([<span class="st">"Disease"</span>, <span class="st">"Year"</span>])</span>
<span id="cb59-6"><a href="#cb59-6" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb59-7"><a href="#cb59-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-8"><a href="#cb59-8" aria-hidden="true" tabindex="-1"></a>plot_data.plot(</span>
<span id="cb59-9"><a href="#cb59-9" aria-hidden="true" tabindex="-1"></a>    kind<span class="op">=</span><span class="st">"line"</span>,</span>
<span id="cb59-10"><a href="#cb59-10" aria-hidden="true" tabindex="-1"></a>    x<span class="op">=</span><span class="st">"Year"</span>,</span>
<span id="cb59-11"><a href="#cb59-11" aria-hidden="true" tabindex="-1"></a>    y<span class="op">=</span><span class="st">"Cases"</span>,</span>
<span id="cb59-12"><a href="#cb59-12" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="exploratory_data_analysis_files/figure-html/cell-58-output-1.png" class="img-fluid figure-img"></p>
</figure>
</div>
</div>
</div>
<p>Oops! That’s not what we want. Pandas uses <a href="https://matplotlib.org/">matplotlib</a> under the hood, and by default, it works more naturally with a slightly different data format. For reference, here is the data we just tried to plot:</p>
<div id="5183e2fd" class="cell" data-execution_count="58">
<div class="sourceCode cell-code" id="cb60"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb60-1"><a href="#cb60-1" aria-hidden="true" tabindex="-1"></a>plot_data</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="58">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">Disease</th>
<th data-quarto-table-cell-role="th">Year</th>
<th data-quarto-table-cell-role="th">Cases</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>Hepatitis A</td>
<td>1966</td>
<td>32416</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>Hepatitis A</td>
<td>1967</td>
<td>38280</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2</td>
<td>Hepatitis A</td>
<td>1968</td>
<td>45204</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">3</td>
<td>Hepatitis A</td>
<td>1969</td>
<td>46012</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">4</td>
<td>Hepatitis A</td>
<td>1970</td>
<td>55188</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">...</td>
<td>...</td>
<td>...</td>
<td>...</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">310</td>
<td>Smallpox</td>
<td>1948</td>
<td>446</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">311</td>
<td>Smallpox</td>
<td>1949</td>
<td>67</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">312</td>
<td>Smallpox</td>
<td>1950</td>
<td>42</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">313</td>
<td>Smallpox</td>
<td>1951</td>
<td>19</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">314</td>
<td>Smallpox</td>
<td>1952</td>
<td>16</td>
</tr>
</tbody>
</table>

<p>315 rows × 3 columns</p>
</div>
</div>
</div>
<p>Let’s adjust the format to one that works better for the plotting function:</p>
<div id="44e4a648" class="cell" data-execution_count="59">
<div class="sourceCode cell-code" id="cb61"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb61-1"><a href="#cb61-1" aria-hidden="true" tabindex="-1"></a>plot_data <span class="op">=</span> (</span>
<span id="cb61-2"><a href="#cb61-2" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Select the columns we need</span></span>
<span id="cb61-3"><a href="#cb61-3" aria-hidden="true" tabindex="-1"></a>    disease[[<span class="st">"Disease"</span>, <span class="st">"Year"</span>, <span class="st">"Cases"</span>]]</span>
<span id="cb61-4"><a href="#cb61-4" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Group by disease-year pairs</span></span>
<span id="cb61-5"><a href="#cb61-5" aria-hidden="true" tabindex="-1"></a>    .groupby(by<span class="op">=</span>[<span class="st">"Disease"</span>, <span class="st">"Year"</span>])</span>
<span id="cb61-6"><a href="#cb61-6" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Get the sum of the cases across the grouping variables</span></span>
<span id="cb61-7"><a href="#cb61-7" aria-hidden="true" tabindex="-1"></a>    .agg({<span class="st">"Cases"</span>: <span class="st">"sum"</span>})</span>
<span id="cb61-8"><a href="#cb61-8" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Convert the row names back to columns</span></span>
<span id="cb61-9"><a href="#cb61-9" aria-hidden="true" tabindex="-1"></a>    .reset_index([<span class="st">"Disease"</span>, <span class="st">"Year"</span>])</span>
<span id="cb61-10"><a href="#cb61-10" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Pivot! (See below for an explanation)</span></span>
<span id="cb61-11"><a href="#cb61-11" aria-hidden="true" tabindex="-1"></a>    .pivot(</span>
<span id="cb61-12"><a href="#cb61-12" aria-hidden="true" tabindex="-1"></a>        <span class="co"># Set the Year column to be the row index of the resulting table</span></span>
<span id="cb61-13"><a href="#cb61-13" aria-hidden="true" tabindex="-1"></a>        index<span class="op">=</span><span class="st">"Year"</span>,</span>
<span id="cb61-14"><a href="#cb61-14" aria-hidden="true" tabindex="-1"></a>        <span class="co"># Take the new columns from the unique values in the Disease column</span></span>
<span id="cb61-15"><a href="#cb61-15" aria-hidden="true" tabindex="-1"></a>        columns<span class="op">=</span><span class="st">"Disease"</span>,</span>
<span id="cb61-16"><a href="#cb61-16" aria-hidden="true" tabindex="-1"></a>        <span class="co"># Take the values for the new columns from the data in the Cases column</span></span>
<span id="cb61-17"><a href="#cb61-17" aria-hidden="true" tabindex="-1"></a>        values<span class="op">=</span><span class="st">"Cases"</span>,</span>
<span id="cb61-18"><a href="#cb61-18" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb61-19"><a href="#cb61-19" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Pivoting sets Year as the row names, so convert it back to a column</span></span>
<span id="cb61-20"><a href="#cb61-20" aria-hidden="true" tabindex="-1"></a>    .reset_index(<span class="st">"Year"</span>)</span>
<span id="cb61-21"><a href="#cb61-21" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb61-22"><a href="#cb61-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb61-23"><a href="#cb61-23" aria-hidden="true" tabindex="-1"></a><span class="co"># Don't worry about this--it's just to make the data print in a nicer way.</span></span>
<span id="cb61-24"><a href="#cb61-24" aria-hidden="true" tabindex="-1"></a>plot_data.columns.name <span class="op">=</span> <span class="va">None</span></span>
<span id="cb61-25"><a href="#cb61-25" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb61-26"><a href="#cb61-26" aria-hidden="true" tabindex="-1"></a>plot_data</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="59">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">Year</th>
<th data-quarto-table-cell-role="th">Hepatitis A</th>
<th data-quarto-table-cell-role="th">Measles</th>
<th data-quarto-table-cell-role="th">Mumps</th>
<th data-quarto-table-cell-role="th">Pertussis</th>
<th data-quarto-table-cell-role="th">Polio</th>
<th data-quarto-table-cell-role="th">Rubella</th>
<th data-quarto-table-cell-role="th">Smallpox</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>1928</td>
<td>NaN</td>
<td>483337.0</td>
<td>NaN</td>
<td>NaN</td>
<td>4756.0</td>
<td>NaN</td>
<td>36470.0</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>1929</td>
<td>NaN</td>
<td>339061.0</td>
<td>NaN</td>
<td>NaN</td>
<td>2746.0</td>
<td>NaN</td>
<td>38389.0</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2</td>
<td>1930</td>
<td>NaN</td>
<td>384597.0</td>
<td>NaN</td>
<td>NaN</td>
<td>8964.0</td>
<td>NaN</td>
<td>45728.0</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">3</td>
<td>1931</td>
<td>NaN</td>
<td>438435.0</td>
<td>NaN</td>
<td>NaN</td>
<td>15743.0</td>
<td>NaN</td>
<td>28708.0</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">4</td>
<td>1932</td>
<td>NaN</td>
<td>390114.0</td>
<td>NaN</td>
<td>NaN</td>
<td>3829.0</td>
<td>NaN</td>
<td>10740.0</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">79</td>
<td>2007</td>
<td>2243.0</td>
<td>NaN</td>
<td>NaN</td>
<td>6999.0</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">80</td>
<td>2008</td>
<td>2030.0</td>
<td>NaN</td>
<td>NaN</td>
<td>6754.0</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">81</td>
<td>2009</td>
<td>1580.0</td>
<td>NaN</td>
<td>NaN</td>
<td>8940.0</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">82</td>
<td>2010</td>
<td>4060.0</td>
<td>NaN</td>
<td>NaN</td>
<td>14112.0</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">83</td>
<td>2011</td>
<td>1102.0</td>
<td>NaN</td>
<td>NaN</td>
<td>11100.0</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
</tr>
</tbody>
</table>

<p>84 rows × 8 columns</p>
</div>
</div>
</div>
<p>As you can see, we’ve taken the original data and made it wider. <em>(If you’re familiar with R’s <a href="https://www.tidyverse.org/">Tidyverse</a>, you may recognize this operation as taking <a href="https://cran.r-project.org/web/packages/tidyr/vignettes/tidy-data.html">tidy data</a> and turning into so-called “messy” data.)</em></p>
<p>The only new thing here is the <a href="https://pandas.pydata.org/docs/reference/api/pandas.DataFrame.pivot.html#pandas.DataFrame.pivot">pivot()</a> function. Pivoting data can be a little tricky to get used to. The basic operation is taking unique values from a column and using each of those unique values to create a new column. (It’s actually more flexible than that, but that’s the general idea.)</p>
<p>In this case, we want to make new columns from the unique values in the <code>Disease</code> column (e.g., Measles, Mumps, and Rubella). The values of those new columns will be taken from the <code>Cases</code> column.</p>
<p>Now we can plot it!</p>
<div id="5a8a872b" class="cell" data-execution_count="60">
<div class="sourceCode cell-code" id="cb62"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb62-1"><a href="#cb62-1" aria-hidden="true" tabindex="-1"></a>disease_by_year_plot <span class="op">=</span> plot_data.plot(</span>
<span id="cb62-2"><a href="#cb62-2" aria-hidden="true" tabindex="-1"></a>    <span class="co"># We want a line chart</span></span>
<span id="cb62-3"><a href="#cb62-3" aria-hidden="true" tabindex="-1"></a>    kind<span class="op">=</span><span class="st">"line"</span>,</span>
<span id="cb62-4"><a href="#cb62-4" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Put Year on the x-axis</span></span>
<span id="cb62-5"><a href="#cb62-5" aria-hidden="true" tabindex="-1"></a>    <span class="co"># (The y-axis is set implicitly as the other columns)</span></span>
<span id="cb62-6"><a href="#cb62-6" aria-hidden="true" tabindex="-1"></a>    x<span class="op">=</span><span class="st">"Year"</span>,</span>
<span id="cb62-7"><a href="#cb62-7" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Log transform the y-axis</span></span>
<span id="cb62-8"><a href="#cb62-8" aria-hidden="true" tabindex="-1"></a>    logy<span class="op">=</span><span class="va">True</span>,</span>
<span id="cb62-9"><a href="#cb62-9" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Give the y-axis a label</span></span>
<span id="cb62-10"><a href="#cb62-10" aria-hidden="true" tabindex="-1"></a>    ylabel<span class="op">=</span><span class="st">"Cases"</span>,</span>
<span id="cb62-11"><a href="#cb62-11" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="exploratory_data_analysis_files/figure-html/cell-61-output-1.png" class="img-fluid figure-img"></p>
</figure>
</div>
</div>
</div>
<p>What do you notice about this data? Let me list out some of the questions/observations that might come to mind when first looking at this plot:</p>
<ul>
<li>Why do many of the diseases have sharp declines and eventually drop out of the plot after a while?</li>
<li>Why is there a gap in the Pertussis (whooping cough) data?</li>
<li>Why is Pertussis the only one that has been on a steady increase since the 1970s?</li>
<li>What’s with the big spike in measles cases in the 1980s?</li>
<li>Why don’t all the diseases have data going back to the earliest years in the dataset?</li>
<li>Are there any state-by-state trends, or do they mainly follow the national trends?</li>
<li>Hang on, these are all diseases that we have good vaccination programs for….</li>
</ul>
<p><em>Note: The corgis page with this data doesn’t provide much info, but I think it’s fairly safe to assume that when there are no cases reported for a given disease in a given year, that probably means there were no observed cases of that disease in that year.</em></p>
<p>Once you get to that last point, a lot of the other questions are probably pretty easy to explain! Let’s see if the introduction of the vaccine for these diseases corresponds with the decline in cases.</p>
<p>The polio vaccine was tested in 1954 and introduced in 1955 by Jonas Salk, becoming a significant breakthrough in the fight against polio. Let’s draw a little vertical dashed line at the year 1955 and see what it looks like.</p>
<div id="6a3d8aad" class="cell" data-execution_count="61">
<div class="sourceCode cell-code" id="cb63"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb63-1"><a href="#cb63-1" aria-hidden="true" tabindex="-1"></a>plot_data.plot(kind<span class="op">=</span><span class="st">"line"</span>, x<span class="op">=</span><span class="st">"Year"</span>, logy<span class="op">=</span><span class="va">True</span>, ylabel<span class="op">=</span><span class="st">"Cases"</span>)</span>
<span id="cb63-2"><a href="#cb63-2" aria-hidden="true" tabindex="-1"></a><span class="co"># Draw a gray, dashed, vertical line at year 1955</span></span>
<span id="cb63-3"><a href="#cb63-3" aria-hidden="true" tabindex="-1"></a>plt.axvline(x<span class="op">=</span><span class="dv">1955</span>, color<span class="op">=</span><span class="st">"#999999"</span>, linestyle<span class="op">=</span><span class="st">"--"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="exploratory_data_analysis_files/figure-html/cell-62-output-1.png" class="img-fluid figure-img"></p>
</figure>
</div>
</div>
</div>
<p>Yep! As you might have guessed, the polio cases really start a sharp decline after the introduction of the vaccine.</p>
<p>What about smallpox? The history of smallpox vaccination is a bit more circuitous than polio, but two key dates I found were 1939, which saw the start of egg-based smallpox vaccine production by the Texas Department of Health, and 1948, which was when they began to be used in vaccination campaigns (see Wikipedia’s <a href="https://en.wikipedia.org/wiki/Smallpox_vaccine">Smallpox vaccine</a> article). So let’s draw the plot again with those two dates highlighted.</p>
<div id="da1bb41b" class="cell" data-execution_count="62">
<div class="sourceCode cell-code" id="cb64"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb64-1"><a href="#cb64-1" aria-hidden="true" tabindex="-1"></a>plot_data.plot(kind<span class="op">=</span><span class="st">"line"</span>, x<span class="op">=</span><span class="st">"Year"</span>, logy<span class="op">=</span><span class="va">True</span>, ylabel<span class="op">=</span><span class="st">"Cases"</span>)</span>
<span id="cb64-2"><a href="#cb64-2" aria-hidden="true" tabindex="-1"></a>plt.axvline(x<span class="op">=</span><span class="dv">1939</span>, color<span class="op">=</span><span class="st">"#999999"</span>, linestyle<span class="op">=</span><span class="st">"--"</span>)</span>
<span id="cb64-3"><a href="#cb64-3" aria-hidden="true" tabindex="-1"></a>plt.axvline(x<span class="op">=</span><span class="dv">1948</span>, color<span class="op">=</span><span class="st">"#999999"</span>, linestyle<span class="op">=</span><span class="st">"--"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="exploratory_data_analysis_files/figure-html/cell-63-output-1.png" class="img-fluid figure-img"></p>
</figure>
</div>
</div>
</div>
<p>Again, that sharp decline we see lines up pretty well with those key dates in the history of the smallpox vaccination program.</p>
<p>So, we have now gotten a pretty solid working hypothesis that the drop offs in cases for these diseases are probably due to the introduction of vaccination programs! But what about the interesting variability shown in the measles and pertussis data? I will leave that as an exercise for the reader….</p>
</section>
<section id="public-health-data-wrap-up" class="level3">
<h3 class="anchored" data-anchor-id="public-health-data-wrap-up">Public Health Data Wrap-Up</h3>
<p>By examining public health data, we’ve gained experience working with time series data. We’ve also seen how the patterns we observe in this data can help direct our research questions and approaches.</p>
</section>
</section>
<section id="pandas-tour" class="level2">
<h2 class="anchored" data-anchor-id="pandas-tour">Pandas Tour</h2>
<p>To wrap up, let’s summarize everything by giving you a “little” reference that you can use for guidance.</p>
<p>For this, we can use the classic coffee data.</p>
<div id="8a2f4deb" class="cell" data-execution_count="63">
<div class="sourceCode cell-code" id="cb65"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb65-1"><a href="#cb65-1" aria-hidden="true" tabindex="-1"></a>coffee <span class="op">=</span> pd.read_csv(<span class="st">"./_data/coffee_small.csv"</span>)</span>
<span id="cb65-2"><a href="#cb65-2" aria-hidden="true" tabindex="-1"></a>coffee</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="63">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">Country</th>
<th data-quarto-table-cell-role="th">Year</th>
<th data-quarto-table-cell-role="th">Score.Aroma</th>
<th data-quarto-table-cell-role="th">Score.Flavor</th>
<th data-quarto-table-cell-role="th">Score.Aftertaste</th>
<th data-quarto-table-cell-role="th">Score.Acidity</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>Colombia</td>
<td>2012</td>
<td>7.83</td>
<td>8.00</td>
<td>7.75</td>
<td>7.75</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>Colombia</td>
<td>2012</td>
<td>7.75</td>
<td>7.92</td>
<td>7.83</td>
<td>7.75</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2</td>
<td>Colombia</td>
<td>2012</td>
<td>7.67</td>
<td>7.83</td>
<td>7.83</td>
<td>8.00</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">3</td>
<td>Colombia</td>
<td>2012</td>
<td>7.42</td>
<td>7.67</td>
<td>7.75</td>
<td>7.75</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">4</td>
<td>Colombia</td>
<td>2012</td>
<td>7.75</td>
<td>7.75</td>
<td>7.75</td>
<td>7.75</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">410</td>
<td>Guatemala</td>
<td>2015</td>
<td>7.50</td>
<td>7.25</td>
<td>7.00</td>
<td>7.25</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">411</td>
<td>Guatemala</td>
<td>2015</td>
<td>7.50</td>
<td>7.33</td>
<td>7.00</td>
<td>7.42</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">412</td>
<td>Guatemala</td>
<td>2015</td>
<td>7.25</td>
<td>7.17</td>
<td>6.75</td>
<td>7.25</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">413</td>
<td>Mexico</td>
<td>2015</td>
<td>7.75</td>
<td>7.67</td>
<td>7.42</td>
<td>7.42</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">414</td>
<td>Mexico</td>
<td>2015</td>
<td>7.58</td>
<td>7.50</td>
<td>7.33</td>
<td>7.50</td>
</tr>
</tbody>
</table>

<p>415 rows × 6 columns</p>
</div>
</div>
</div>
<section id="creating-data-frames" class="level3">
<h3 class="anchored" data-anchor-id="creating-data-frames">Creating Data Frames</h3>
<p>There are a ton of ways to create data frames in Pandas. (E.g., check out the docs for <a href="https://pandas.pydata.org/docs/reference/api/pandas.DataFrame.html#pandas.DataFrame">DataFrame</a> and the pages linked from that page.) However, to keep it simple, we will stick with <a href="https://pandas.pydata.org/docs/reference/api/pandas.read_csv.html#pandas.read_csv">read_csv()</a> and creating data frames from Python dictionaries.</p>
<p>Reading from a CSV file:</p>
<div class="sourceCode" id="cb66"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb66-1"><a href="#cb66-1" aria-hidden="true" tabindex="-1"></a>df <span class="op">=</span> read_csv(<span class="st">"/path/to/data.csv"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Using a dictionary to specify columns:</p>
<div id="c5a6dac4" class="cell" data-execution_count="64">
<div class="sourceCode cell-code" id="cb67"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb67-1"><a href="#cb67-1" aria-hidden="true" tabindex="-1"></a>df <span class="op">=</span> pd.DataFrame(</span>
<span id="cb67-2"><a href="#cb67-2" aria-hidden="true" tabindex="-1"></a>    {</span>
<span id="cb67-3"><a href="#cb67-3" aria-hidden="true" tabindex="-1"></a>        <span class="st">"Gene"</span>: [<span class="st">"gene_1"</span>, <span class="st">"gene_2"</span>, <span class="st">"gene_3"</span>],</span>
<span id="cb67-4"><a href="#cb67-4" aria-hidden="true" tabindex="-1"></a>        <span class="st">"Sequence"</span>: [<span class="st">"ACTG"</span>, <span class="st">"AAGT"</span>, <span class="st">"GGCT"</span>],</span>
<span id="cb67-5"><a href="#cb67-5" aria-hidden="true" tabindex="-1"></a>        <span class="st">"Sample"</span>: [<span class="st">"Sample 1"</span>, <span class="st">"Sample 2"</span>, <span class="st">"Sample 2"</span>],</span>
<span id="cb67-6"><a href="#cb67-6" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb67-7"><a href="#cb67-7" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb67-8"><a href="#cb67-8" aria-hidden="true" tabindex="-1"></a>df</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="64">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">Gene</th>
<th data-quarto-table-cell-role="th">Sequence</th>
<th data-quarto-table-cell-role="th">Sample</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>gene_1</td>
<td>ACTG</td>
<td>Sample 1</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>gene_2</td>
<td>AAGT</td>
<td>Sample 2</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2</td>
<td>gene_3</td>
<td>GGCT</td>
<td>Sample 2</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
</section>
<section id="subsetting-and-filtering-rows-and-columns" class="level3">
<h3 class="anchored" data-anchor-id="subsetting-and-filtering-rows-and-columns">Subsetting and Filtering Rows and Columns</h3>
<section id="selecting-columns" class="level4">
<h4 class="anchored" data-anchor-id="selecting-columns">Selecting Columns</h4>
<p>To get individual columns, use the bracket notation.</p>
<div id="5b3e9220" class="cell" data-execution_count="65">
<div class="sourceCode cell-code" id="cb68"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb68-1"><a href="#cb68-1" aria-hidden="true" tabindex="-1"></a>coffee[<span class="st">"Country"</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="65">
<pre><code>0       Colombia
1       Colombia
2       Colombia
3       Colombia
4       Colombia
         ...    
410    Guatemala
411    Guatemala
412    Guatemala
413       Mexico
414       Mexico
Name: Country, Length: 415, dtype: object</code></pre>
</div>
</div>
<p>To select multiple columns, use the bracket notation, but pass in a list of column names rather than a single value.</p>
<div id="afd8bb7d" class="cell" data-execution_count="66">
<div class="sourceCode cell-code" id="cb70"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb70-1"><a href="#cb70-1" aria-hidden="true" tabindex="-1"></a>coffee[[<span class="st">"Country"</span>, <span class="st">"Year"</span>]]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="66">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">Country</th>
<th data-quarto-table-cell-role="th">Year</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>Colombia</td>
<td>2012</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>Colombia</td>
<td>2012</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2</td>
<td>Colombia</td>
<td>2012</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">3</td>
<td>Colombia</td>
<td>2012</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">4</td>
<td>Colombia</td>
<td>2012</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">...</td>
<td>...</td>
<td>...</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">410</td>
<td>Guatemala</td>
<td>2015</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">411</td>
<td>Guatemala</td>
<td>2015</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">412</td>
<td>Guatemala</td>
<td>2015</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">413</td>
<td>Mexico</td>
<td>2015</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">414</td>
<td>Mexico</td>
<td>2015</td>
</tr>
</tbody>
</table>

<p>415 rows × 2 columns</p>
</div>
</div>
</div>
<p>It is often a good idea to save the columns that you want to get in a list, and pass that instead. This can help keep things clear and neat, especially if you have a ton of columns that you’re selecting. Additionally, it can be useful if you build up the list of columns to subset programmatically.</p>
<div id="e64f9efe" class="cell" data-execution_count="67">
<div class="sourceCode cell-code" id="cb71"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb71-1"><a href="#cb71-1" aria-hidden="true" tabindex="-1"></a>columns <span class="op">=</span> [<span class="st">"Country"</span>, <span class="st">"Year"</span>]</span>
<span id="cb71-2"><a href="#cb71-2" aria-hidden="true" tabindex="-1"></a>coffee[columns]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="67">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">Country</th>
<th data-quarto-table-cell-role="th">Year</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>Colombia</td>
<td>2012</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>Colombia</td>
<td>2012</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2</td>
<td>Colombia</td>
<td>2012</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">3</td>
<td>Colombia</td>
<td>2012</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">4</td>
<td>Colombia</td>
<td>2012</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">...</td>
<td>...</td>
<td>...</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">410</td>
<td>Guatemala</td>
<td>2015</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">411</td>
<td>Guatemala</td>
<td>2015</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">412</td>
<td>Guatemala</td>
<td>2015</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">413</td>
<td>Mexico</td>
<td>2015</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">414</td>
<td>Mexico</td>
<td>2015</td>
</tr>
</tbody>
</table>

<p>415 rows × 2 columns</p>
</div>
</div>
</div>
<p>Sometimes, you may only want a single row, but you want the output to be a <code>DataFrame</code> rather than a <code>Series</code>.</p>
<div id="5a0bbec1" class="cell" data-execution_count="68">
<div class="sourceCode cell-code" id="cb72"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb72-1"><a href="#cb72-1" aria-hidden="true" tabindex="-1"></a>coffee[[<span class="st">"Country"</span>]]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="68">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">Country</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>Colombia</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>Colombia</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2</td>
<td>Colombia</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">3</td>
<td>Colombia</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">4</td>
<td>Colombia</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">...</td>
<td>...</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">410</td>
<td>Guatemala</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">411</td>
<td>Guatemala</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">412</td>
<td>Guatemala</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">413</td>
<td>Mexico</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">414</td>
<td>Mexico</td>
</tr>
</tbody>
</table>

<p>415 rows × 1 columns</p>
</div>
</div>
</div>
<p>Sometimes you want to select columns based on patterns. For example, to take all the columns that start with <code>Score</code>, we can use <code>filter()</code>:</p>
<div id="24742d27" class="cell" data-execution_count="69">
<div class="sourceCode cell-code" id="cb73"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb73-1"><a href="#cb73-1" aria-hidden="true" tabindex="-1"></a>coffee.<span class="bu">filter</span>(regex<span class="op">=</span><span class="vs">r"^Score"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="69">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">Score.Aroma</th>
<th data-quarto-table-cell-role="th">Score.Flavor</th>
<th data-quarto-table-cell-role="th">Score.Aftertaste</th>
<th data-quarto-table-cell-role="th">Score.Acidity</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>7.83</td>
<td>8.00</td>
<td>7.75</td>
<td>7.75</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>7.75</td>
<td>7.92</td>
<td>7.83</td>
<td>7.75</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2</td>
<td>7.67</td>
<td>7.83</td>
<td>7.83</td>
<td>8.00</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">3</td>
<td>7.42</td>
<td>7.67</td>
<td>7.75</td>
<td>7.75</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">4</td>
<td>7.75</td>
<td>7.75</td>
<td>7.75</td>
<td>7.75</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">410</td>
<td>7.50</td>
<td>7.25</td>
<td>7.00</td>
<td>7.25</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">411</td>
<td>7.50</td>
<td>7.33</td>
<td>7.00</td>
<td>7.42</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">412</td>
<td>7.25</td>
<td>7.17</td>
<td>6.75</td>
<td>7.25</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">413</td>
<td>7.75</td>
<td>7.67</td>
<td>7.42</td>
<td>7.42</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">414</td>
<td>7.58</td>
<td>7.50</td>
<td>7.33</td>
<td>7.50</td>
</tr>
</tbody>
</table>

<p>415 rows × 4 columns</p>
</div>
</div>
</div>
<p>That is using a regular expression (regex) to specify matching any column whose name starts with <code>Score</code>. (If you need an introduction to regular expressions see <a href="regex.html" class="quarto-xref"><span>Appendix I</span></a>.)</p>
<p>You can also use a substring matching version:</p>
<div id="d882b418" class="cell" data-execution_count="70">
<div class="sourceCode cell-code" id="cb74"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb74-1"><a href="#cb74-1" aria-hidden="true" tabindex="-1"></a>coffee.<span class="bu">filter</span>(like<span class="op">=</span><span class="st">"Score"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="70">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">Score.Aroma</th>
<th data-quarto-table-cell-role="th">Score.Flavor</th>
<th data-quarto-table-cell-role="th">Score.Aftertaste</th>
<th data-quarto-table-cell-role="th">Score.Acidity</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>7.83</td>
<td>8.00</td>
<td>7.75</td>
<td>7.75</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>7.75</td>
<td>7.92</td>
<td>7.83</td>
<td>7.75</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2</td>
<td>7.67</td>
<td>7.83</td>
<td>7.83</td>
<td>8.00</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">3</td>
<td>7.42</td>
<td>7.67</td>
<td>7.75</td>
<td>7.75</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">4</td>
<td>7.75</td>
<td>7.75</td>
<td>7.75</td>
<td>7.75</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">410</td>
<td>7.50</td>
<td>7.25</td>
<td>7.00</td>
<td>7.25</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">411</td>
<td>7.50</td>
<td>7.33</td>
<td>7.00</td>
<td>7.42</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">412</td>
<td>7.25</td>
<td>7.17</td>
<td>6.75</td>
<td>7.25</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">413</td>
<td>7.75</td>
<td>7.67</td>
<td>7.42</td>
<td>7.42</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">414</td>
<td>7.58</td>
<td>7.50</td>
<td>7.33</td>
<td>7.50</td>
</tr>
</tbody>
</table>

<p>415 rows × 4 columns</p>
</div>
</div>
</div>
</section>
<section id="filtering-data" class="level4">
<h4 class="anchored" data-anchor-id="filtering-data">Filtering Data</h4>
<p>A common operation is to keep or reject rows of data based on their values in certain columns. For example, to keep study participants aged 65 and over, or to reject any counties with median income greater than $35,000. We can do this using <code>query()</code>.</p>
<p>Here are some examples with the coffee data.</p>
<p>Select rows where the country is Mexico:</p>
<div id="23e9e211" class="cell" data-execution_count="71">
<div class="sourceCode cell-code" id="cb75"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb75-1"><a href="#cb75-1" aria-hidden="true" tabindex="-1"></a>coffee.query(<span class="st">"Country == 'Mexico'"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="71">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">Country</th>
<th data-quarto-table-cell-role="th">Year</th>
<th data-quarto-table-cell-role="th">Score.Aroma</th>
<th data-quarto-table-cell-role="th">Score.Flavor</th>
<th data-quarto-table-cell-role="th">Score.Aftertaste</th>
<th data-quarto-table-cell-role="th">Score.Acidity</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">74</td>
<td>Mexico</td>
<td>2012</td>
<td>8.17</td>
<td>8.25</td>
<td>8.17</td>
<td>8.00</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">75</td>
<td>Mexico</td>
<td>2012</td>
<td>7.75</td>
<td>8.00</td>
<td>7.75</td>
<td>7.83</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">76</td>
<td>Mexico</td>
<td>2012</td>
<td>7.83</td>
<td>7.58</td>
<td>7.67</td>
<td>7.92</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">77</td>
<td>Mexico</td>
<td>2012</td>
<td>8.00</td>
<td>7.92</td>
<td>7.42</td>
<td>8.08</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">78</td>
<td>Mexico</td>
<td>2012</td>
<td>7.92</td>
<td>7.83</td>
<td>7.75</td>
<td>7.75</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">381</td>
<td>Mexico</td>
<td>2014</td>
<td>7.58</td>
<td>7.75</td>
<td>7.42</td>
<td>7.50</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">382</td>
<td>Mexico</td>
<td>2014</td>
<td>7.08</td>
<td>7.08</td>
<td>6.92</td>
<td>7.08</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">383</td>
<td>Mexico</td>
<td>2014</td>
<td>6.92</td>
<td>7.00</td>
<td>6.83</td>
<td>6.92</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">413</td>
<td>Mexico</td>
<td>2015</td>
<td>7.75</td>
<td>7.67</td>
<td>7.42</td>
<td>7.42</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">414</td>
<td>Mexico</td>
<td>2015</td>
<td>7.58</td>
<td>7.50</td>
<td>7.33</td>
<td>7.50</td>
</tr>
</tbody>
</table>

<p>195 rows × 6 columns</p>
</div>
</div>
</div>
<p>Select rows where the country is Colombia and the year is 2014:</p>
<div id="ae910073" class="cell" data-execution_count="72">
<div class="sourceCode cell-code" id="cb76"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb76-1"><a href="#cb76-1" aria-hidden="true" tabindex="-1"></a>coffee.query(<span class="st">"Country == 'Colombia' and Year == 2014"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="72">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">Country</th>
<th data-quarto-table-cell-role="th">Year</th>
<th data-quarto-table-cell-role="th">Score.Aroma</th>
<th data-quarto-table-cell-role="th">Score.Flavor</th>
<th data-quarto-table-cell-role="th">Score.Aftertaste</th>
<th data-quarto-table-cell-role="th">Score.Acidity</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">327</td>
<td>Colombia</td>
<td>2014</td>
<td>7.92</td>
<td>7.75</td>
<td>7.67</td>
<td>7.92</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">328</td>
<td>Colombia</td>
<td>2014</td>
<td>7.92</td>
<td>7.75</td>
<td>7.67</td>
<td>7.75</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">329</td>
<td>Colombia</td>
<td>2014</td>
<td>7.67</td>
<td>7.75</td>
<td>7.67</td>
<td>7.67</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">330</td>
<td>Colombia</td>
<td>2014</td>
<td>7.67</td>
<td>7.67</td>
<td>7.50</td>
<td>7.50</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">331</td>
<td>Colombia</td>
<td>2014</td>
<td>7.83</td>
<td>7.75</td>
<td>7.58</td>
<td>7.58</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">337</td>
<td>Colombia</td>
<td>2014</td>
<td>7.58</td>
<td>7.50</td>
<td>7.50</td>
<td>7.67</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">338</td>
<td>Colombia</td>
<td>2014</td>
<td>7.58</td>
<td>7.75</td>
<td>7.50</td>
<td>7.58</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">339</td>
<td>Colombia</td>
<td>2014</td>
<td>7.83</td>
<td>7.67</td>
<td>7.50</td>
<td>7.58</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">340</td>
<td>Colombia</td>
<td>2014</td>
<td>7.50</td>
<td>7.58</td>
<td>7.58</td>
<td>7.75</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">341</td>
<td>Colombia</td>
<td>2014</td>
<td>7.67</td>
<td>7.42</td>
<td>7.42</td>
<td>7.58</td>
</tr>
</tbody>
</table>

<p>15 rows × 6 columns</p>
</div>
</div>
</div>
<p>Select rows where the aroma and flavor scores are both at least 8:</p>
<div id="0bd5d29c" class="cell" data-execution_count="73">
<div class="sourceCode cell-code" id="cb77"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb77-1"><a href="#cb77-1" aria-hidden="true" tabindex="-1"></a>coffee.query(<span class="st">"`Score.Aroma` &gt;= 8 and `Score.Aroma` &gt;= 8"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="73">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">Country</th>
<th data-quarto-table-cell-role="th">Year</th>
<th data-quarto-table-cell-role="th">Score.Aroma</th>
<th data-quarto-table-cell-role="th">Score.Flavor</th>
<th data-quarto-table-cell-role="th">Score.Aftertaste</th>
<th data-quarto-table-cell-role="th">Score.Acidity</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">31</td>
<td>Guatemala</td>
<td>2012</td>
<td>8.00</td>
<td>8.00</td>
<td>7.83</td>
<td>8.33</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">32</td>
<td>Guatemala</td>
<td>2012</td>
<td>8.25</td>
<td>8.00</td>
<td>7.67</td>
<td>7.92</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">33</td>
<td>Guatemala</td>
<td>2012</td>
<td>8.00</td>
<td>7.83</td>
<td>7.67</td>
<td>7.83</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">38</td>
<td>Guatemala</td>
<td>2012</td>
<td>8.17</td>
<td>8.17</td>
<td>7.83</td>
<td>7.67</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">74</td>
<td>Mexico</td>
<td>2012</td>
<td>8.17</td>
<td>8.25</td>
<td>8.17</td>
<td>8.00</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">344</td>
<td>Guatemala</td>
<td>2014</td>
<td>8.00</td>
<td>7.92</td>
<td>7.67</td>
<td>7.58</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">350</td>
<td>Guatemala</td>
<td>2014</td>
<td>8.00</td>
<td>7.50</td>
<td>7.33</td>
<td>8.00</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">384</td>
<td>Colombia</td>
<td>2015</td>
<td>8.17</td>
<td>7.92</td>
<td>7.83</td>
<td>8.00</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">385</td>
<td>Colombia</td>
<td>2015</td>
<td>8.17</td>
<td>7.83</td>
<td>7.58</td>
<td>8.08</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">391</td>
<td>Colombia</td>
<td>2015</td>
<td>8.00</td>
<td>7.50</td>
<td>7.50</td>
<td>7.67</td>
</tr>
</tbody>
</table>

<p>20 rows × 6 columns</p>
</div>
</div>
</div>
<p>Do you see how we put backticks around the column names? This is because it had a dot (<code>.</code>) in the name. Whenever you have special characters, like dot or spaces, you will need to use backticks around the variable name.</p>
<p>Select rows where the aftertaste score was at least 8 and the acidity was below 7:</p>
<div id="b64cb89e" class="cell" data-execution_count="74">
<div class="sourceCode cell-code" id="cb78"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb78-1"><a href="#cb78-1" aria-hidden="true" tabindex="-1"></a>coffee.query(<span class="st">"`Score.Aftertaste` &gt;= 8 or `Score.Acidity` &lt; 7"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="74">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">Country</th>
<th data-quarto-table-cell-role="th">Year</th>
<th data-quarto-table-cell-role="th">Score.Aroma</th>
<th data-quarto-table-cell-role="th">Score.Flavor</th>
<th data-quarto-table-cell-role="th">Score.Aftertaste</th>
<th data-quarto-table-cell-role="th">Score.Acidity</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">30</td>
<td>Guatemala</td>
<td>2012</td>
<td>7.83</td>
<td>8.00</td>
<td>8.00</td>
<td>8.17</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">74</td>
<td>Mexico</td>
<td>2012</td>
<td>8.17</td>
<td>8.25</td>
<td>8.17</td>
<td>8.00</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">109</td>
<td>Mexico</td>
<td>2012</td>
<td>8.08</td>
<td>8.17</td>
<td>8.00</td>
<td>8.00</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">193</td>
<td>Mexico</td>
<td>2012</td>
<td>7.33</td>
<td>7.17</td>
<td>7.00</td>
<td>6.75</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">214</td>
<td>Mexico</td>
<td>2012</td>
<td>7.25</td>
<td>7.17</td>
<td>7.00</td>
<td>6.83</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">230</td>
<td>Mexico</td>
<td>2012</td>
<td>7.00</td>
<td>6.58</td>
<td>6.67</td>
<td>6.83</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">233</td>
<td>Mexico</td>
<td>2012</td>
<td>6.92</td>
<td>6.92</td>
<td>6.92</td>
<td>6.92</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">237</td>
<td>Colombia</td>
<td>2013</td>
<td>8.00</td>
<td>8.00</td>
<td>8.00</td>
<td>8.17</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">383</td>
<td>Mexico</td>
<td>2014</td>
<td>6.92</td>
<td>7.00</td>
<td>6.83</td>
<td>6.92</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">387</td>
<td>Colombia</td>
<td>2015</td>
<td>7.75</td>
<td>7.67</td>
<td>8.00</td>
<td>7.67</td>
</tr>
</tbody>
</table>

<p>13 rows × 6 columns</p>
</div>
</div>
</div>
<p>Select rows where the year is prior to 2015, or the Flavor and the Aftertaste are above 7.75.</p>
<div id="546714bc" class="cell" data-execution_count="75">
<div class="sourceCode cell-code" id="cb79"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb79-1"><a href="#cb79-1" aria-hidden="true" tabindex="-1"></a>coffee.query(<span class="st">"Year &lt; 2015 or (`Score.Flavor` &gt; 7.75 and `Score.Aftertaste` &gt; 7.75)"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="75">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">Country</th>
<th data-quarto-table-cell-role="th">Year</th>
<th data-quarto-table-cell-role="th">Score.Aroma</th>
<th data-quarto-table-cell-role="th">Score.Flavor</th>
<th data-quarto-table-cell-role="th">Score.Aftertaste</th>
<th data-quarto-table-cell-role="th">Score.Acidity</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>Colombia</td>
<td>2012</td>
<td>7.83</td>
<td>8.00</td>
<td>7.75</td>
<td>7.75</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>Colombia</td>
<td>2012</td>
<td>7.75</td>
<td>7.92</td>
<td>7.83</td>
<td>7.75</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2</td>
<td>Colombia</td>
<td>2012</td>
<td>7.67</td>
<td>7.83</td>
<td>7.83</td>
<td>8.00</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">3</td>
<td>Colombia</td>
<td>2012</td>
<td>7.42</td>
<td>7.67</td>
<td>7.75</td>
<td>7.75</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">4</td>
<td>Colombia</td>
<td>2012</td>
<td>7.75</td>
<td>7.75</td>
<td>7.75</td>
<td>7.75</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">380</td>
<td>Mexico</td>
<td>2014</td>
<td>7.25</td>
<td>7.17</td>
<td>7.17</td>
<td>7.25</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">381</td>
<td>Mexico</td>
<td>2014</td>
<td>7.58</td>
<td>7.75</td>
<td>7.42</td>
<td>7.50</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">382</td>
<td>Mexico</td>
<td>2014</td>
<td>7.08</td>
<td>7.08</td>
<td>6.92</td>
<td>7.08</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">383</td>
<td>Mexico</td>
<td>2014</td>
<td>6.92</td>
<td>7.00</td>
<td>6.83</td>
<td>6.92</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">384</td>
<td>Colombia</td>
<td>2015</td>
<td>8.17</td>
<td>7.92</td>
<td>7.83</td>
<td>8.00</td>
</tr>
</tbody>
</table>

<p>385 rows × 6 columns</p>
</div>
</div>
</div>
<p>You can also use the bracket notation for filtering data:</p>
<div id="8e56ed30" class="cell" data-execution_count="76">
<div class="sourceCode cell-code" id="cb80"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb80-1"><a href="#cb80-1" aria-hidden="true" tabindex="-1"></a>coffee[coffee[<span class="st">"Year"</span>] <span class="op">&gt;=</span> <span class="dv">2014</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="76">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">Country</th>
<th data-quarto-table-cell-role="th">Year</th>
<th data-quarto-table-cell-role="th">Score.Aroma</th>
<th data-quarto-table-cell-role="th">Score.Flavor</th>
<th data-quarto-table-cell-role="th">Score.Aftertaste</th>
<th data-quarto-table-cell-role="th">Score.Acidity</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">327</td>
<td>Colombia</td>
<td>2014</td>
<td>7.92</td>
<td>7.75</td>
<td>7.67</td>
<td>7.92</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">328</td>
<td>Colombia</td>
<td>2014</td>
<td>7.92</td>
<td>7.75</td>
<td>7.67</td>
<td>7.75</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">329</td>
<td>Colombia</td>
<td>2014</td>
<td>7.67</td>
<td>7.75</td>
<td>7.67</td>
<td>7.67</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">330</td>
<td>Colombia</td>
<td>2014</td>
<td>7.67</td>
<td>7.67</td>
<td>7.50</td>
<td>7.50</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">331</td>
<td>Colombia</td>
<td>2014</td>
<td>7.83</td>
<td>7.75</td>
<td>7.58</td>
<td>7.58</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">410</td>
<td>Guatemala</td>
<td>2015</td>
<td>7.50</td>
<td>7.25</td>
<td>7.00</td>
<td>7.25</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">411</td>
<td>Guatemala</td>
<td>2015</td>
<td>7.50</td>
<td>7.33</td>
<td>7.00</td>
<td>7.42</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">412</td>
<td>Guatemala</td>
<td>2015</td>
<td>7.25</td>
<td>7.17</td>
<td>6.75</td>
<td>7.25</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">413</td>
<td>Mexico</td>
<td>2015</td>
<td>7.75</td>
<td>7.67</td>
<td>7.42</td>
<td>7.42</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">414</td>
<td>Mexico</td>
<td>2015</td>
<td>7.58</td>
<td>7.50</td>
<td>7.33</td>
<td>7.50</td>
</tr>
</tbody>
</table>

<p>88 rows × 6 columns</p>
</div>
</div>
</div>
<p>You will find that Pandas has many ways to achieve the same thing. While this flexibility can be helpful especially if you are doing some exploratory analysis for your research, it is often a good idea to stick to one way of doing things, especially within a single script or data pipeline.</p>
</section>
<section id="selecting-rows-and-columns" class="level4">
<h4 class="anchored" data-anchor-id="selecting-rows-and-columns">Selecting Rows and Columns</h4>
<p>Sometimes, you may need to select rows and columns at the same time. For this, you can use <code>loc()</code> and <code>iloc()</code>. These tend to feel more natural in situations in which you have a row index. Our data does not, so let’s use this little data frame instead to illustrate what I mean.</p>
<div id="539676e6" class="cell" data-execution_count="77">
<div class="sourceCode cell-code" id="cb81"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb81-1"><a href="#cb81-1" aria-hidden="true" tabindex="-1"></a>df <span class="op">=</span> pd.DataFrame(</span>
<span id="cb81-2"><a href="#cb81-2" aria-hidden="true" tabindex="-1"></a>    {<span class="st">"A"</span>: [<span class="dv">1</span>, <span class="dv">3</span>, <span class="dv">5</span>, <span class="dv">6</span>], <span class="st">"B"</span>: [<span class="dv">2</span>, <span class="dv">1</span>, <span class="dv">4</span>, <span class="dv">7</span>], <span class="st">"C"</span>: [<span class="dv">4</span>, <span class="dv">3</span>, <span class="dv">3</span>, <span class="dv">1</span>], <span class="st">"D"</span>: [<span class="dv">9</span>, <span class="dv">7</span>, <span class="dv">4</span>, <span class="dv">2</span>]},</span>
<span id="cb81-3"><a href="#cb81-3" aria-hidden="true" tabindex="-1"></a>    index<span class="op">=</span>[<span class="st">"Patient 1"</span>, <span class="st">"Patient 2"</span>, <span class="st">"Patient 3"</span>, <span class="st">"Patient 4"</span>],</span>
<span id="cb81-4"><a href="#cb81-4" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb81-5"><a href="#cb81-5" aria-hidden="true" tabindex="-1"></a>df</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="77">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">A</th>
<th data-quarto-table-cell-role="th">B</th>
<th data-quarto-table-cell-role="th">C</th>
<th data-quarto-table-cell-role="th">D</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">Patient 1</td>
<td>1</td>
<td>2</td>
<td>4</td>
<td>9</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">Patient 2</td>
<td>3</td>
<td>1</td>
<td>3</td>
<td>7</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">Patient 3</td>
<td>5</td>
<td>4</td>
<td>3</td>
<td>4</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">Patient 4</td>
<td>6</td>
<td>7</td>
<td>1</td>
<td>2</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<p>In this data frame, row names are “Patient 1” to “Patient 4” and the column names are A-D.</p>
<p>Getting a single value:</p>
<div id="d9783bb3" class="cell" data-execution_count="78">
<div class="sourceCode cell-code" id="cb82"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb82-1"><a href="#cb82-1" aria-hidden="true" tabindex="-1"></a>df.loc[<span class="st">"Patient 2"</span>, <span class="st">"C"</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="78">
<pre><code>np.int64(3)</code></pre>
</div>
</div>
<p>Getting the values for a single row as a series:</p>
<div id="9669cec0" class="cell" data-execution_count="79">
<div class="sourceCode cell-code" id="cb84"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb84-1"><a href="#cb84-1" aria-hidden="true" tabindex="-1"></a>df.loc[<span class="st">"Patient 4"</span>, :]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="79">
<pre><code>A    6
B    7
C    1
D    2
Name: Patient 4, dtype: int64</code></pre>
</div>
</div>
<p>Getting a single column as a series:</p>
<div id="e4438d0f" class="cell" data-execution_count="80">
<div class="sourceCode cell-code" id="cb86"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb86-1"><a href="#cb86-1" aria-hidden="true" tabindex="-1"></a>df.loc[:, <span class="st">"A"</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="80">
<pre><code>Patient 1    1
Patient 2    3
Patient 3    5
Patient 4    6
Name: A, dtype: int64</code></pre>
</div>
</div>
<p>Getting multiple rows for a single column:</p>
<div id="d04b0fdd" class="cell" data-execution_count="81">
<div class="sourceCode cell-code" id="cb88"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb88-1"><a href="#cb88-1" aria-hidden="true" tabindex="-1"></a>df.loc[[<span class="st">"Patient 1"</span>, <span class="st">"Patient 3"</span>], <span class="st">"B"</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="81">
<pre><code>Patient 1    2
Patient 3    4
Name: B, dtype: int64</code></pre>
</div>
</div>
<p>Getting multiple contiguous rows for a single column. (We can use Python’s slice notation for this. Just be aware that the end of the slice is included in the output when you use <code>loc()</code>, unlike the usual Python slicing.)</p>
<div id="4ee79e95" class="cell" data-execution_count="82">
<div class="sourceCode cell-code" id="cb90"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb90-1"><a href="#cb90-1" aria-hidden="true" tabindex="-1"></a>df.loc[<span class="st">"Patient 1"</span>:<span class="st">"Patient 3"</span>, <span class="st">"B"</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="82">
<pre><code>Patient 1    2
Patient 2    1
Patient 3    4
Name: B, dtype: int64</code></pre>
</div>
</div>
<p>Getting multiple columns for a single row:</p>
<div id="62917086" class="cell" data-execution_count="83">
<div class="sourceCode cell-code" id="cb92"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb92-1"><a href="#cb92-1" aria-hidden="true" tabindex="-1"></a>df.loc[<span class="st">"Patient 2"</span>, [<span class="st">"B"</span>, <span class="st">"D"</span>]]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="83">
<pre><code>B    1
D    7
Name: Patient 2, dtype: int64</code></pre>
</div>
</div>
<p>Getting multiple contiguous columns for a single row using slicing.</p>
<div id="9355c7d6" class="cell" data-execution_count="84">
<div class="sourceCode cell-code" id="cb94"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb94-1"><a href="#cb94-1" aria-hidden="true" tabindex="-1"></a>df.loc[<span class="st">"Patient 2"</span>, <span class="st">"B"</span>:<span class="st">"D"</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="84">
<pre><code>B    1
C    3
D    7
Name: Patient 2, dtype: int64</code></pre>
</div>
</div>
<p>Getting multiple rows and multiple columns:</p>
<div id="f8800b8b" class="cell" data-execution_count="85">
<div class="sourceCode cell-code" id="cb96"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb96-1"><a href="#cb96-1" aria-hidden="true" tabindex="-1"></a>df.loc[[<span class="st">"Patient 1"</span>, <span class="st">"Patient 4"</span>], [<span class="st">"B"</span>, <span class="st">"D"</span>]]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="85">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">B</th>
<th data-quarto-table-cell-role="th">D</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">Patient 1</td>
<td>2</td>
<td>9</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">Patient 4</td>
<td>7</td>
<td>2</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<p>And of course, you can mix and match slicing as required to get exactly the data you need:</p>
<div id="c7d06bef" class="cell" data-execution_count="86">
<div class="sourceCode cell-code" id="cb97"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb97-1"><a href="#cb97-1" aria-hidden="true" tabindex="-1"></a>df.loc[<span class="st">"Patient 1"</span>:<span class="st">"Patient 3"</span>, [<span class="st">"A"</span>, <span class="st">"C"</span>]]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="86">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">A</th>
<th data-quarto-table-cell-role="th">C</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">Patient 1</td>
<td>1</td>
<td>4</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">Patient 2</td>
<td>3</td>
<td>3</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">Patient 3</td>
<td>5</td>
<td>3</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
</section>
<section id="subsetting-rows" class="level4">
<h4 class="anchored" data-anchor-id="subsetting-rows">Subsetting Rows</h4>
<p>There are a few nice functions for sampling and downsizing your data frames. This can be helpful if you’re working with huge data, or if you just want to get a better handle on things before working on the full data.</p>
<p>Get the first few rows of a table:</p>
<div id="b27a9a78" class="cell" data-execution_count="87">
<div class="sourceCode cell-code" id="cb98"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb98-1"><a href="#cb98-1" aria-hidden="true" tabindex="-1"></a>coffee.head()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="87">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">Country</th>
<th data-quarto-table-cell-role="th">Year</th>
<th data-quarto-table-cell-role="th">Score.Aroma</th>
<th data-quarto-table-cell-role="th">Score.Flavor</th>
<th data-quarto-table-cell-role="th">Score.Aftertaste</th>
<th data-quarto-table-cell-role="th">Score.Acidity</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>Colombia</td>
<td>2012</td>
<td>7.83</td>
<td>8.00</td>
<td>7.75</td>
<td>7.75</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>Colombia</td>
<td>2012</td>
<td>7.75</td>
<td>7.92</td>
<td>7.83</td>
<td>7.75</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2</td>
<td>Colombia</td>
<td>2012</td>
<td>7.67</td>
<td>7.83</td>
<td>7.83</td>
<td>8.00</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">3</td>
<td>Colombia</td>
<td>2012</td>
<td>7.42</td>
<td>7.67</td>
<td>7.75</td>
<td>7.75</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">4</td>
<td>Colombia</td>
<td>2012</td>
<td>7.75</td>
<td>7.75</td>
<td>7.75</td>
<td>7.75</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<p>Get the last few rows of a table:</p>
<div id="993ebd09" class="cell" data-execution_count="88">
<div class="sourceCode cell-code" id="cb99"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb99-1"><a href="#cb99-1" aria-hidden="true" tabindex="-1"></a>coffee.tail()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="88">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">Country</th>
<th data-quarto-table-cell-role="th">Year</th>
<th data-quarto-table-cell-role="th">Score.Aroma</th>
<th data-quarto-table-cell-role="th">Score.Flavor</th>
<th data-quarto-table-cell-role="th">Score.Aftertaste</th>
<th data-quarto-table-cell-role="th">Score.Acidity</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">410</td>
<td>Guatemala</td>
<td>2015</td>
<td>7.50</td>
<td>7.25</td>
<td>7.00</td>
<td>7.25</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">411</td>
<td>Guatemala</td>
<td>2015</td>
<td>7.50</td>
<td>7.33</td>
<td>7.00</td>
<td>7.42</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">412</td>
<td>Guatemala</td>
<td>2015</td>
<td>7.25</td>
<td>7.17</td>
<td>6.75</td>
<td>7.25</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">413</td>
<td>Mexico</td>
<td>2015</td>
<td>7.75</td>
<td>7.67</td>
<td>7.42</td>
<td>7.42</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">414</td>
<td>Mexico</td>
<td>2015</td>
<td>7.58</td>
<td>7.50</td>
<td>7.33</td>
<td>7.50</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<p>Sample 5% of the rows of a table:</p>
<div id="81fccc68" class="cell" data-execution_count="89">
<div class="sourceCode cell-code" id="cb100"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb100-1"><a href="#cb100-1" aria-hidden="true" tabindex="-1"></a>coffee.sample(frac<span class="op">=</span><span class="fl">0.05</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="89">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">Country</th>
<th data-quarto-table-cell-role="th">Year</th>
<th data-quarto-table-cell-role="th">Score.Aroma</th>
<th data-quarto-table-cell-role="th">Score.Flavor</th>
<th data-quarto-table-cell-role="th">Score.Aftertaste</th>
<th data-quarto-table-cell-role="th">Score.Acidity</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">105</td>
<td>Mexico</td>
<td>2012</td>
<td>7.58</td>
<td>7.67</td>
<td>7.50</td>
<td>7.58</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">406</td>
<td>Guatemala</td>
<td>2015</td>
<td>7.83</td>
<td>7.67</td>
<td>7.25</td>
<td>7.67</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">204</td>
<td>Mexico</td>
<td>2012</td>
<td>7.33</td>
<td>7.00</td>
<td>6.92</td>
<td>7.25</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">291</td>
<td>Guatemala</td>
<td>2013</td>
<td>7.83</td>
<td>7.67</td>
<td>7.33</td>
<td>7.33</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">137</td>
<td>Mexico</td>
<td>2012</td>
<td>7.67</td>
<td>7.33</td>
<td>7.25</td>
<td>7.50</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">246</td>
<td>Colombia</td>
<td>2013</td>
<td>7.67</td>
<td>7.67</td>
<td>7.67</td>
<td>7.67</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">51</td>
<td>Guatemala</td>
<td>2012</td>
<td>7.67</td>
<td>7.50</td>
<td>7.33</td>
<td>7.67</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">289</td>
<td>Guatemala</td>
<td>2013</td>
<td>7.50</td>
<td>7.50</td>
<td>7.50</td>
<td>7.67</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">194</td>
<td>Mexico</td>
<td>2012</td>
<td>6.92</td>
<td>7.17</td>
<td>7.17</td>
<td>7.17</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">300</td>
<td>Guatemala</td>
<td>2013</td>
<td>7.50</td>
<td>7.00</td>
<td>6.83</td>
<td>7.08</td>
</tr>
</tbody>
</table>

<p>21 rows × 6 columns</p>
</div>
</div>
</div>
<p>Randomly select 10 rows from a table:</p>
<div id="48250034" class="cell" data-execution_count="90">
<div class="sourceCode cell-code" id="cb101"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb101-1"><a href="#cb101-1" aria-hidden="true" tabindex="-1"></a>coffee.sample(n<span class="op">=</span><span class="dv">10</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="90">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">Country</th>
<th data-quarto-table-cell-role="th">Year</th>
<th data-quarto-table-cell-role="th">Score.Aroma</th>
<th data-quarto-table-cell-role="th">Score.Flavor</th>
<th data-quarto-table-cell-role="th">Score.Aftertaste</th>
<th data-quarto-table-cell-role="th">Score.Acidity</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">161</td>
<td>Mexico</td>
<td>2012</td>
<td>7.58</td>
<td>7.42</td>
<td>7.25</td>
<td>7.33</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">63</td>
<td>Guatemala</td>
<td>2012</td>
<td>7.58</td>
<td>7.33</td>
<td>7.50</td>
<td>7.33</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">357</td>
<td>Guatemala</td>
<td>2014</td>
<td>7.67</td>
<td>7.67</td>
<td>7.75</td>
<td>7.67</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">316</td>
<td>Mexico</td>
<td>2013</td>
<td>7.58</td>
<td>7.50</td>
<td>7.25</td>
<td>7.58</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">288</td>
<td>Guatemala</td>
<td>2013</td>
<td>7.83</td>
<td>7.67</td>
<td>7.17</td>
<td>7.33</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">56</td>
<td>Guatemala</td>
<td>2012</td>
<td>7.50</td>
<td>7.67</td>
<td>7.33</td>
<td>7.33</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">391</td>
<td>Colombia</td>
<td>2015</td>
<td>8.00</td>
<td>7.50</td>
<td>7.50</td>
<td>7.67</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">220</td>
<td>Mexico</td>
<td>2012</td>
<td>7.33</td>
<td>7.00</td>
<td>6.67</td>
<td>7.00</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">390</td>
<td>Colombia</td>
<td>2015</td>
<td>7.42</td>
<td>7.67</td>
<td>7.83</td>
<td>7.75</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">163</td>
<td>Mexico</td>
<td>2012</td>
<td>7.42</td>
<td>7.42</td>
<td>7.33</td>
<td>7.33</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<p>Select the top 10 highest entries for a column:</p>
<div id="47fa1838" class="cell" data-execution_count="91">
<div class="sourceCode cell-code" id="cb102"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb102-1"><a href="#cb102-1" aria-hidden="true" tabindex="-1"></a>coffee.nlargest(<span class="dv">10</span>, <span class="st">"Score.Flavor"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="91">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">Country</th>
<th data-quarto-table-cell-role="th">Year</th>
<th data-quarto-table-cell-role="th">Score.Aroma</th>
<th data-quarto-table-cell-role="th">Score.Flavor</th>
<th data-quarto-table-cell-role="th">Score.Aftertaste</th>
<th data-quarto-table-cell-role="th">Score.Acidity</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">74</td>
<td>Mexico</td>
<td>2012</td>
<td>8.17</td>
<td>8.25</td>
<td>8.17</td>
<td>8.00</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">38</td>
<td>Guatemala</td>
<td>2012</td>
<td>8.17</td>
<td>8.17</td>
<td>7.83</td>
<td>7.67</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">39</td>
<td>Guatemala</td>
<td>2012</td>
<td>7.67</td>
<td>8.17</td>
<td>7.50</td>
<td>7.42</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">109</td>
<td>Mexico</td>
<td>2012</td>
<td>8.08</td>
<td>8.17</td>
<td>8.00</td>
<td>8.00</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>Colombia</td>
<td>2012</td>
<td>7.83</td>
<td>8.00</td>
<td>7.75</td>
<td>7.75</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">29</td>
<td>Colombia</td>
<td>2012</td>
<td>7.42</td>
<td>8.00</td>
<td>7.83</td>
<td>7.75</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">30</td>
<td>Guatemala</td>
<td>2012</td>
<td>7.83</td>
<td>8.00</td>
<td>8.00</td>
<td>8.17</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">31</td>
<td>Guatemala</td>
<td>2012</td>
<td>8.00</td>
<td>8.00</td>
<td>7.83</td>
<td>8.33</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">32</td>
<td>Guatemala</td>
<td>2012</td>
<td>8.25</td>
<td>8.00</td>
<td>7.67</td>
<td>7.92</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">35</td>
<td>Guatemala</td>
<td>2012</td>
<td>7.67</td>
<td>8.00</td>
<td>7.67</td>
<td>8.00</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<p>Select the 10 smallest entries for a column:</p>
<div id="d406c974" class="cell" data-execution_count="92">
<div class="sourceCode cell-code" id="cb103"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb103-1"><a href="#cb103-1" aria-hidden="true" tabindex="-1"></a>coffee.nsmallest(<span class="dv">10</span>, <span class="st">"Score.Aroma"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="92">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">Country</th>
<th data-quarto-table-cell-role="th">Year</th>
<th data-quarto-table-cell-role="th">Score.Aroma</th>
<th data-quarto-table-cell-role="th">Score.Flavor</th>
<th data-quarto-table-cell-role="th">Score.Aftertaste</th>
<th data-quarto-table-cell-role="th">Score.Acidity</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">234</td>
<td>Mexico</td>
<td>2012</td>
<td>6.50</td>
<td>6.67</td>
<td>6.42</td>
<td>7.17</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">306</td>
<td>Guatemala</td>
<td>2013</td>
<td>6.50</td>
<td>6.33</td>
<td>6.50</td>
<td>7.50</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">70</td>
<td>Guatemala</td>
<td>2012</td>
<td>6.67</td>
<td>6.50</td>
<td>6.33</td>
<td>7.00</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">71</td>
<td>Guatemala</td>
<td>2012</td>
<td>6.75</td>
<td>6.50</td>
<td>6.17</td>
<td>7.00</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">72</td>
<td>Guatemala</td>
<td>2012</td>
<td>6.75</td>
<td>6.67</td>
<td>6.17</td>
<td>7.17</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">176</td>
<td>Mexico</td>
<td>2012</td>
<td>6.92</td>
<td>7.17</td>
<td>7.08</td>
<td>7.50</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">194</td>
<td>Mexico</td>
<td>2012</td>
<td>6.92</td>
<td>7.17</td>
<td>7.17</td>
<td>7.17</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">211</td>
<td>Mexico</td>
<td>2012</td>
<td>6.92</td>
<td>6.92</td>
<td>6.67</td>
<td>7.25</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">231</td>
<td>Mexico</td>
<td>2012</td>
<td>6.92</td>
<td>6.42</td>
<td>6.17</td>
<td>7.33</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">233</td>
<td>Mexico</td>
<td>2012</td>
<td>6.92</td>
<td>6.92</td>
<td>6.92</td>
<td>6.92</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
</section>
</section>
<section id="reshaping-data" class="level3">
<h3 class="anchored" data-anchor-id="reshaping-data">Reshaping Data</h3>
<p>You will often find yourself needing to change the layout of your data. This can include sorting, reindexing (i.e., adding or changing indices), renaming columns, concatenating, pivoting, and melting data frames.</p>
<section id="sorting-rows-and-columns" class="level4">
<h4 class="anchored" data-anchor-id="sorting-rows-and-columns">Sorting Rows and Columns</h4>
<p>Sorting a data frame by a specific column:</p>
<div id="4b7bbd9e" class="cell" data-execution_count="93">
<div class="sourceCode cell-code" id="cb104"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb104-1"><a href="#cb104-1" aria-hidden="true" tabindex="-1"></a>coffee.sort_values(<span class="st">"Score.Aftertaste"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="93">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">Country</th>
<th data-quarto-table-cell-role="th">Year</th>
<th data-quarto-table-cell-role="th">Score.Aroma</th>
<th data-quarto-table-cell-role="th">Score.Flavor</th>
<th data-quarto-table-cell-role="th">Score.Aftertaste</th>
<th data-quarto-table-cell-role="th">Score.Acidity</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">231</td>
<td>Mexico</td>
<td>2012</td>
<td>6.92</td>
<td>6.42</td>
<td>6.17</td>
<td>7.33</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">66</td>
<td>Guatemala</td>
<td>2012</td>
<td>7.17</td>
<td>6.08</td>
<td>6.17</td>
<td>7.25</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">72</td>
<td>Guatemala</td>
<td>2012</td>
<td>6.75</td>
<td>6.67</td>
<td>6.17</td>
<td>7.17</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">67</td>
<td>Guatemala</td>
<td>2012</td>
<td>7.17</td>
<td>6.17</td>
<td>6.17</td>
<td>7.08</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">71</td>
<td>Guatemala</td>
<td>2012</td>
<td>6.75</td>
<td>6.50</td>
<td>6.17</td>
<td>7.00</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">237</td>
<td>Colombia</td>
<td>2013</td>
<td>8.00</td>
<td>8.00</td>
<td>8.00</td>
<td>8.17</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">387</td>
<td>Colombia</td>
<td>2015</td>
<td>7.75</td>
<td>7.67</td>
<td>8.00</td>
<td>7.67</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">30</td>
<td>Guatemala</td>
<td>2012</td>
<td>7.83</td>
<td>8.00</td>
<td>8.00</td>
<td>8.17</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">109</td>
<td>Mexico</td>
<td>2012</td>
<td>8.08</td>
<td>8.17</td>
<td>8.00</td>
<td>8.00</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">74</td>
<td>Mexico</td>
<td>2012</td>
<td>8.17</td>
<td>8.25</td>
<td>8.17</td>
<td>8.00</td>
</tr>
</tbody>
</table>

<p>415 rows × 6 columns</p>
</div>
</div>
</div>
<p>The default sort order is ascending. If you want descending order, you must ask for it:</p>
<div id="14059823" class="cell" data-execution_count="94">
<div class="sourceCode cell-code" id="cb105"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb105-1"><a href="#cb105-1" aria-hidden="true" tabindex="-1"></a>coffee.sort_values(<span class="st">"Score.Aftertaste"</span>, ascending<span class="op">=</span><span class="va">False</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="94">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">Country</th>
<th data-quarto-table-cell-role="th">Year</th>
<th data-quarto-table-cell-role="th">Score.Aroma</th>
<th data-quarto-table-cell-role="th">Score.Flavor</th>
<th data-quarto-table-cell-role="th">Score.Aftertaste</th>
<th data-quarto-table-cell-role="th">Score.Acidity</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">74</td>
<td>Mexico</td>
<td>2012</td>
<td>8.17</td>
<td>8.25</td>
<td>8.17</td>
<td>8.00</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">237</td>
<td>Colombia</td>
<td>2013</td>
<td>8.00</td>
<td>8.00</td>
<td>8.00</td>
<td>8.17</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">30</td>
<td>Guatemala</td>
<td>2012</td>
<td>7.83</td>
<td>8.00</td>
<td>8.00</td>
<td>8.17</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">387</td>
<td>Colombia</td>
<td>2015</td>
<td>7.75</td>
<td>7.67</td>
<td>8.00</td>
<td>7.67</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">109</td>
<td>Mexico</td>
<td>2012</td>
<td>8.08</td>
<td>8.17</td>
<td>8.00</td>
<td>8.00</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">231</td>
<td>Mexico</td>
<td>2012</td>
<td>6.92</td>
<td>6.42</td>
<td>6.17</td>
<td>7.33</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">71</td>
<td>Guatemala</td>
<td>2012</td>
<td>6.75</td>
<td>6.50</td>
<td>6.17</td>
<td>7.00</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">66</td>
<td>Guatemala</td>
<td>2012</td>
<td>7.17</td>
<td>6.08</td>
<td>6.17</td>
<td>7.25</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">67</td>
<td>Guatemala</td>
<td>2012</td>
<td>7.17</td>
<td>6.17</td>
<td>6.17</td>
<td>7.08</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">72</td>
<td>Guatemala</td>
<td>2012</td>
<td>6.75</td>
<td>6.67</td>
<td>6.17</td>
<td>7.17</td>
</tr>
</tbody>
</table>

<p>415 rows × 6 columns</p>
</div>
</div>
</div>
<p>You can sort values based on multiple columns as well. In addition, you can specify multiple values to the <code>ascending</code> option so that you can have some columns sorted ascending and others sorted descending. Let’s first sort by ascending year, and then by descending flavor (that is within a year, put the best scoring coffees at the top).</p>
<div id="99dbf8ee" class="cell" data-execution_count="95">
<div class="sourceCode cell-code" id="cb106"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb106-1"><a href="#cb106-1" aria-hidden="true" tabindex="-1"></a>coffee.sort_values([<span class="st">"Year"</span>, <span class="st">"Score.Flavor"</span>], ascending<span class="op">=</span>[<span class="va">True</span>, <span class="va">False</span>])</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="95">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">Country</th>
<th data-quarto-table-cell-role="th">Year</th>
<th data-quarto-table-cell-role="th">Score.Aroma</th>
<th data-quarto-table-cell-role="th">Score.Flavor</th>
<th data-quarto-table-cell-role="th">Score.Aftertaste</th>
<th data-quarto-table-cell-role="th">Score.Acidity</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">74</td>
<td>Mexico</td>
<td>2012</td>
<td>8.17</td>
<td>8.25</td>
<td>8.17</td>
<td>8.00</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">38</td>
<td>Guatemala</td>
<td>2012</td>
<td>8.17</td>
<td>8.17</td>
<td>7.83</td>
<td>7.67</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">39</td>
<td>Guatemala</td>
<td>2012</td>
<td>7.67</td>
<td>8.17</td>
<td>7.50</td>
<td>7.42</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">109</td>
<td>Mexico</td>
<td>2012</td>
<td>8.08</td>
<td>8.17</td>
<td>8.00</td>
<td>8.00</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>Colombia</td>
<td>2012</td>
<td>7.83</td>
<td>8.00</td>
<td>7.75</td>
<td>7.75</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">414</td>
<td>Mexico</td>
<td>2015</td>
<td>7.58</td>
<td>7.50</td>
<td>7.33</td>
<td>7.50</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">408</td>
<td>Guatemala</td>
<td>2015</td>
<td>7.50</td>
<td>7.42</td>
<td>7.17</td>
<td>7.83</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">411</td>
<td>Guatemala</td>
<td>2015</td>
<td>7.50</td>
<td>7.33</td>
<td>7.00</td>
<td>7.42</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">410</td>
<td>Guatemala</td>
<td>2015</td>
<td>7.50</td>
<td>7.25</td>
<td>7.00</td>
<td>7.25</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">412</td>
<td>Guatemala</td>
<td>2015</td>
<td>7.25</td>
<td>7.17</td>
<td>6.75</td>
<td>7.25</td>
</tr>
</tbody>
</table>

<p>415 rows × 6 columns</p>
</div>
</div>
</div>
<p>Finally, you can sort based on the names of row and column indices. Here is an example that sorts by the names of the columns.</p>
<div id="78e1c926" class="cell" data-execution_count="96">
<div class="sourceCode cell-code" id="cb107"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb107-1"><a href="#cb107-1" aria-hidden="true" tabindex="-1"></a>coffee.sort_index(axis<span class="op">=</span><span class="st">"columns"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="96">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">Country</th>
<th data-quarto-table-cell-role="th">Score.Acidity</th>
<th data-quarto-table-cell-role="th">Score.Aftertaste</th>
<th data-quarto-table-cell-role="th">Score.Aroma</th>
<th data-quarto-table-cell-role="th">Score.Flavor</th>
<th data-quarto-table-cell-role="th">Year</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>Colombia</td>
<td>7.75</td>
<td>7.75</td>
<td>7.83</td>
<td>8.00</td>
<td>2012</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>Colombia</td>
<td>7.75</td>
<td>7.83</td>
<td>7.75</td>
<td>7.92</td>
<td>2012</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2</td>
<td>Colombia</td>
<td>8.00</td>
<td>7.83</td>
<td>7.67</td>
<td>7.83</td>
<td>2012</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">3</td>
<td>Colombia</td>
<td>7.75</td>
<td>7.75</td>
<td>7.42</td>
<td>7.67</td>
<td>2012</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">4</td>
<td>Colombia</td>
<td>7.75</td>
<td>7.75</td>
<td>7.75</td>
<td>7.75</td>
<td>2012</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">410</td>
<td>Guatemala</td>
<td>7.25</td>
<td>7.00</td>
<td>7.50</td>
<td>7.25</td>
<td>2015</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">411</td>
<td>Guatemala</td>
<td>7.42</td>
<td>7.00</td>
<td>7.50</td>
<td>7.33</td>
<td>2015</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">412</td>
<td>Guatemala</td>
<td>7.25</td>
<td>6.75</td>
<td>7.25</td>
<td>7.17</td>
<td>2015</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">413</td>
<td>Mexico</td>
<td>7.42</td>
<td>7.42</td>
<td>7.75</td>
<td>7.67</td>
<td>2015</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">414</td>
<td>Mexico</td>
<td>7.50</td>
<td>7.33</td>
<td>7.58</td>
<td>7.50</td>
<td>2015</td>
</tr>
</tbody>
</table>

<p>415 rows × 6 columns</p>
</div>
</div>
</div>
<p>In pandas, every row and column needs a unique identifier called an index. While pandas will automatically assign numeric indexes if none are provided, you can also specify custom row and column names to better organize and access your data.</p>
</section>
<section id="renaming-columns" class="level4">
<h4 class="anchored" data-anchor-id="renaming-columns">Renaming Columns</h4>
<p>Renaming columns is very useful for dealing with your colleague’s messy data! You will learn this one like the back of your hand.</p>
<div id="c142e38c" class="cell" data-execution_count="97">
<div class="sourceCode cell-code" id="cb108"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb108-1"><a href="#cb108-1" aria-hidden="true" tabindex="-1"></a>coffee.rename(</span>
<span id="cb108-2"><a href="#cb108-2" aria-hidden="true" tabindex="-1"></a>    columns<span class="op">=</span>{</span>
<span id="cb108-3"><a href="#cb108-3" aria-hidden="true" tabindex="-1"></a>        <span class="st">"Score.Acidity"</span>: <span class="st">"Acidity"</span>,</span>
<span id="cb108-4"><a href="#cb108-4" aria-hidden="true" tabindex="-1"></a>        <span class="st">"Score.Aftertaste"</span>: <span class="st">"Aftertaste"</span>,</span>
<span id="cb108-5"><a href="#cb108-5" aria-hidden="true" tabindex="-1"></a>        <span class="st">"Score.Aroma"</span>: <span class="st">"Aroma"</span>,</span>
<span id="cb108-6"><a href="#cb108-6" aria-hidden="true" tabindex="-1"></a>        <span class="st">"Score.Flavor"</span>: <span class="st">"Flavor"</span>,</span>
<span id="cb108-7"><a href="#cb108-7" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb108-8"><a href="#cb108-8" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="97">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">Country</th>
<th data-quarto-table-cell-role="th">Year</th>
<th data-quarto-table-cell-role="th">Aroma</th>
<th data-quarto-table-cell-role="th">Flavor</th>
<th data-quarto-table-cell-role="th">Aftertaste</th>
<th data-quarto-table-cell-role="th">Acidity</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>Colombia</td>
<td>2012</td>
<td>7.83</td>
<td>8.00</td>
<td>7.75</td>
<td>7.75</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>Colombia</td>
<td>2012</td>
<td>7.75</td>
<td>7.92</td>
<td>7.83</td>
<td>7.75</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2</td>
<td>Colombia</td>
<td>2012</td>
<td>7.67</td>
<td>7.83</td>
<td>7.83</td>
<td>8.00</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">3</td>
<td>Colombia</td>
<td>2012</td>
<td>7.42</td>
<td>7.67</td>
<td>7.75</td>
<td>7.75</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">4</td>
<td>Colombia</td>
<td>2012</td>
<td>7.75</td>
<td>7.75</td>
<td>7.75</td>
<td>7.75</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">410</td>
<td>Guatemala</td>
<td>2015</td>
<td>7.50</td>
<td>7.25</td>
<td>7.00</td>
<td>7.25</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">411</td>
<td>Guatemala</td>
<td>2015</td>
<td>7.50</td>
<td>7.33</td>
<td>7.00</td>
<td>7.42</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">412</td>
<td>Guatemala</td>
<td>2015</td>
<td>7.25</td>
<td>7.17</td>
<td>6.75</td>
<td>7.25</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">413</td>
<td>Mexico</td>
<td>2015</td>
<td>7.75</td>
<td>7.67</td>
<td>7.42</td>
<td>7.42</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">414</td>
<td>Mexico</td>
<td>2015</td>
<td>7.58</td>
<td>7.50</td>
<td>7.33</td>
<td>7.50</td>
</tr>
</tbody>
</table>

<p>415 rows × 6 columns</p>
</div>
</div>
</div>
<p>In cases like this, where there is a pattern in the column names that you want to get rid of, you can use a Python function.</p>
<div id="49f64d6a" class="cell" data-execution_count="98">
<div class="sourceCode cell-code" id="cb109"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb109-1"><a href="#cb109-1" aria-hidden="true" tabindex="-1"></a>coffee.rename(columns<span class="op">=</span><span class="kw">lambda</span> name: name.replace(<span class="st">"Score."</span>, <span class="st">""</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="98">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">Country</th>
<th data-quarto-table-cell-role="th">Year</th>
<th data-quarto-table-cell-role="th">Aroma</th>
<th data-quarto-table-cell-role="th">Flavor</th>
<th data-quarto-table-cell-role="th">Aftertaste</th>
<th data-quarto-table-cell-role="th">Acidity</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>Colombia</td>
<td>2012</td>
<td>7.83</td>
<td>8.00</td>
<td>7.75</td>
<td>7.75</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>Colombia</td>
<td>2012</td>
<td>7.75</td>
<td>7.92</td>
<td>7.83</td>
<td>7.75</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2</td>
<td>Colombia</td>
<td>2012</td>
<td>7.67</td>
<td>7.83</td>
<td>7.83</td>
<td>8.00</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">3</td>
<td>Colombia</td>
<td>2012</td>
<td>7.42</td>
<td>7.67</td>
<td>7.75</td>
<td>7.75</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">4</td>
<td>Colombia</td>
<td>2012</td>
<td>7.75</td>
<td>7.75</td>
<td>7.75</td>
<td>7.75</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">410</td>
<td>Guatemala</td>
<td>2015</td>
<td>7.50</td>
<td>7.25</td>
<td>7.00</td>
<td>7.25</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">411</td>
<td>Guatemala</td>
<td>2015</td>
<td>7.50</td>
<td>7.33</td>
<td>7.00</td>
<td>7.42</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">412</td>
<td>Guatemala</td>
<td>2015</td>
<td>7.25</td>
<td>7.17</td>
<td>6.75</td>
<td>7.25</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">413</td>
<td>Mexico</td>
<td>2015</td>
<td>7.75</td>
<td>7.67</td>
<td>7.42</td>
<td>7.42</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">414</td>
<td>Mexico</td>
<td>2015</td>
<td>7.58</td>
<td>7.50</td>
<td>7.33</td>
<td>7.50</td>
</tr>
</tbody>
</table>

<p>415 rows × 6 columns</p>
</div>
</div>
</div>
<p>Nice!</p>
</section>
<section id="dropping-columns" class="level4">
<h4 class="anchored" data-anchor-id="dropping-columns">Dropping Columns</h4>
<p>Dropping columns is easy with <code>drop()</code>:</p>
<div id="12abd179" class="cell" data-execution_count="99">
<div class="sourceCode cell-code" id="cb110"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb110-1"><a href="#cb110-1" aria-hidden="true" tabindex="-1"></a>coffee.drop(columns<span class="op">=</span>[<span class="st">"Country"</span>, <span class="st">"Year"</span>])</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="99">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">Score.Aroma</th>
<th data-quarto-table-cell-role="th">Score.Flavor</th>
<th data-quarto-table-cell-role="th">Score.Aftertaste</th>
<th data-quarto-table-cell-role="th">Score.Acidity</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>7.83</td>
<td>8.00</td>
<td>7.75</td>
<td>7.75</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>7.75</td>
<td>7.92</td>
<td>7.83</td>
<td>7.75</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2</td>
<td>7.67</td>
<td>7.83</td>
<td>7.83</td>
<td>8.00</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">3</td>
<td>7.42</td>
<td>7.67</td>
<td>7.75</td>
<td>7.75</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">4</td>
<td>7.75</td>
<td>7.75</td>
<td>7.75</td>
<td>7.75</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">410</td>
<td>7.50</td>
<td>7.25</td>
<td>7.00</td>
<td>7.25</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">411</td>
<td>7.50</td>
<td>7.33</td>
<td>7.00</td>
<td>7.42</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">412</td>
<td>7.25</td>
<td>7.17</td>
<td>6.75</td>
<td>7.25</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">413</td>
<td>7.75</td>
<td>7.67</td>
<td>7.42</td>
<td>7.42</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">414</td>
<td>7.58</td>
<td>7.50</td>
<td>7.33</td>
<td>7.50</td>
</tr>
</tbody>
</table>

<p>415 rows × 4 columns</p>
</div>
</div>
</div>
</section>
<section id="reindexing" class="level4">
<h4 class="anchored" data-anchor-id="reindexing">Reindexing</h4>
<p>“Reindexing” sounds a bit weird, but it is all about editing row and column names. A common operation involves turning row names into an explicit column, or turning a column into row names. Let’s go back to our tiny data frame again.</p>
<div id="162528e9" class="cell" data-execution_count="100">
<div class="sourceCode cell-code" id="cb111"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb111-1"><a href="#cb111-1" aria-hidden="true" tabindex="-1"></a>df <span class="op">=</span> pd.DataFrame(</span>
<span id="cb111-2"><a href="#cb111-2" aria-hidden="true" tabindex="-1"></a>    {<span class="st">"A"</span>: [<span class="dv">1</span>, <span class="dv">3</span>, <span class="dv">5</span>, <span class="dv">6</span>], <span class="st">"B"</span>: [<span class="dv">2</span>, <span class="dv">1</span>, <span class="dv">4</span>, <span class="dv">7</span>], <span class="st">"C"</span>: [<span class="dv">4</span>, <span class="dv">3</span>, <span class="dv">3</span>, <span class="dv">1</span>], <span class="st">"D"</span>: [<span class="dv">9</span>, <span class="dv">7</span>, <span class="dv">4</span>, <span class="dv">2</span>]},</span>
<span id="cb111-3"><a href="#cb111-3" aria-hidden="true" tabindex="-1"></a>    index<span class="op">=</span>[<span class="st">"Patient 1"</span>, <span class="st">"Patient 2"</span>, <span class="st">"Patient 3"</span>, <span class="st">"Patient 4"</span>],</span>
<span id="cb111-4"><a href="#cb111-4" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb111-5"><a href="#cb111-5" aria-hidden="true" tabindex="-1"></a>df</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="100">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">A</th>
<th data-quarto-table-cell-role="th">B</th>
<th data-quarto-table-cell-role="th">C</th>
<th data-quarto-table-cell-role="th">D</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">Patient 1</td>
<td>1</td>
<td>2</td>
<td>4</td>
<td>9</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">Patient 2</td>
<td>3</td>
<td>1</td>
<td>3</td>
<td>7</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">Patient 3</td>
<td>5</td>
<td>4</td>
<td>3</td>
<td>4</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">Patient 4</td>
<td>6</td>
<td>7</td>
<td>1</td>
<td>2</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<p>Currently, the row names are the patient IDs. Let’s change those to a column called <code>"PatientID"</code>:</p>
<div id="f3cab3c6" class="cell" data-execution_count="101">
<div class="sourceCode cell-code" id="cb112"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb112-1"><a href="#cb112-1" aria-hidden="true" tabindex="-1"></a>df <span class="op">=</span> df.reset_index(names<span class="op">=</span><span class="st">"PatientID"</span>)</span>
<span id="cb112-2"><a href="#cb112-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb112-3"><a href="#cb112-3" aria-hidden="true" tabindex="-1"></a>df</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="101">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">PatientID</th>
<th data-quarto-table-cell-role="th">A</th>
<th data-quarto-table-cell-role="th">B</th>
<th data-quarto-table-cell-role="th">C</th>
<th data-quarto-table-cell-role="th">D</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>Patient 1</td>
<td>1</td>
<td>2</td>
<td>4</td>
<td>9</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>Patient 2</td>
<td>3</td>
<td>1</td>
<td>3</td>
<td>7</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2</td>
<td>Patient 3</td>
<td>5</td>
<td>4</td>
<td>3</td>
<td>4</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">3</td>
<td>Patient 4</td>
<td>6</td>
<td>7</td>
<td>1</td>
<td>2</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<p>Now the row index is the numbers 0-3. If we want to turn the <code>PatientID</code> column back into the row index, we use <code>set_index()</code> like this:</p>
<div id="6ece9f8f" class="cell" data-execution_count="102">
<div class="sourceCode cell-code" id="cb113"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb113-1"><a href="#cb113-1" aria-hidden="true" tabindex="-1"></a>df <span class="op">=</span> df.set_index(<span class="st">"PatientID"</span>)</span>
<span id="cb113-2"><a href="#cb113-2" aria-hidden="true" tabindex="-1"></a>df</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="102">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">A</th>
<th data-quarto-table-cell-role="th">B</th>
<th data-quarto-table-cell-role="th">C</th>
<th data-quarto-table-cell-role="th">D</th>
</tr>
<tr class="even">
<th data-quarto-table-cell-role="th">PatientID</th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">Patient 1</td>
<td>1</td>
<td>2</td>
<td>4</td>
<td>9</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">Patient 2</td>
<td>3</td>
<td>1</td>
<td>3</td>
<td>7</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">Patient 3</td>
<td>5</td>
<td>4</td>
<td>3</td>
<td>4</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">Patient 4</td>
<td>6</td>
<td>7</td>
<td>1</td>
<td>2</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<p>There are times when having a row index can be convenient, but generally I have data as columns only as it can make for cleaner data manipulation.</p>
</section>
<section id="concatenating" class="level4">
<h4 class="anchored" data-anchor-id="concatenating">Concatenating</h4>
<p>Sometimes you have multiple data frames that you want to glue together. This can be done either by glueing rows and keeping columns the same, or by glueing columns and keeping rows the same.</p>
<p>To see it in action, let’s make two small data frames. One for group A:</p>
<div id="bd8401c0" class="cell" data-execution_count="103">
<div class="sourceCode cell-code" id="cb114"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb114-1"><a href="#cb114-1" aria-hidden="true" tabindex="-1"></a>group_a <span class="op">=</span> pd.DataFrame({<span class="st">"Treatment"</span>: [<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>], <span class="st">"Control"</span>: [<span class="dv">4</span>, <span class="dv">5</span>, <span class="dv">6</span>]})</span>
<span id="cb114-2"><a href="#cb114-2" aria-hidden="true" tabindex="-1"></a>group_a</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="103">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">Treatment</th>
<th data-quarto-table-cell-role="th">Control</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>1</td>
<td>4</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>2</td>
<td>5</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2</td>
<td>3</td>
<td>6</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<p>And one for group B:</p>
<div id="58bbb3bf" class="cell" data-execution_count="104">
<div class="sourceCode cell-code" id="cb115"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb115-1"><a href="#cb115-1" aria-hidden="true" tabindex="-1"></a>group_b <span class="op">=</span> pd.DataFrame({<span class="st">"Treatment"</span>: [<span class="dv">10</span>, <span class="dv">20</span>, <span class="dv">30</span>], <span class="st">"Control"</span>: [<span class="dv">40</span>, <span class="dv">50</span>, <span class="dv">60</span>]})</span>
<span id="cb115-2"><a href="#cb115-2" aria-hidden="true" tabindex="-1"></a>group_b</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="104">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">Treatment</th>
<th data-quarto-table-cell-role="th">Control</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>10</td>
<td>40</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>20</td>
<td>50</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2</td>
<td>30</td>
<td>60</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<section id="glue-rows" class="level5">
<h5 class="anchored" data-anchor-id="glue-rows">Glue Rows</h5>
<p>Glue the rows (this also works for more than two data frames):</p>
<div id="adb18655" class="cell" data-execution_count="105">
<div class="sourceCode cell-code" id="cb116"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb116-1"><a href="#cb116-1" aria-hidden="true" tabindex="-1"></a>pd.concat([group_a, group_b])</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="105">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">Treatment</th>
<th data-quarto-table-cell-role="th">Control</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>1</td>
<td>4</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>2</td>
<td>5</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2</td>
<td>3</td>
<td>6</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">0</td>
<td>10</td>
<td>40</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">1</td>
<td>20</td>
<td>50</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">2</td>
<td>30</td>
<td>60</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<p>That’s fine, but you probably still want the group info. You can add in the column before concatenating:</p>
<div id="8d90135c" class="cell" data-execution_count="106">
<div class="sourceCode cell-code" id="cb117"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb117-1"><a href="#cb117-1" aria-hidden="true" tabindex="-1"></a>pd.concat(</span>
<span id="cb117-2"><a href="#cb117-2" aria-hidden="true" tabindex="-1"></a>    [</span>
<span id="cb117-3"><a href="#cb117-3" aria-hidden="true" tabindex="-1"></a>        group_a.assign(Group<span class="op">=</span><span class="st">"A"</span>),</span>
<span id="cb117-4"><a href="#cb117-4" aria-hidden="true" tabindex="-1"></a>        group_b.assign(Group<span class="op">=</span><span class="st">"B"</span>),</span>
<span id="cb117-5"><a href="#cb117-5" aria-hidden="true" tabindex="-1"></a>    ]</span>
<span id="cb117-6"><a href="#cb117-6" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="106">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">Treatment</th>
<th data-quarto-table-cell-role="th">Control</th>
<th data-quarto-table-cell-role="th">Group</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>1</td>
<td>4</td>
<td>A</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>2</td>
<td>5</td>
<td>A</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2</td>
<td>3</td>
<td>6</td>
<td>A</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">0</td>
<td>10</td>
<td>40</td>
<td>B</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">1</td>
<td>20</td>
<td>50</td>
<td>B</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">2</td>
<td>30</td>
<td>60</td>
<td>B</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<p>There we go! Now we haven’t lost the info.</p>
</section>
<section id="glue-columns" class="level5">
<h5 class="anchored" data-anchor-id="glue-columns">Glue Columns</h5>
<p>Glue the columns:</p>
<div id="7393cd51" class="cell" data-execution_count="107">
<div class="sourceCode cell-code" id="cb118"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb118-1"><a href="#cb118-1" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(pd.concat([group_a, group_b], axis<span class="op">=</span><span class="st">"columns"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   Treatment  Control  Treatment  Control
0          1        4         10       40
1          2        5         20       50
2          3        6         30       60</code></pre>
</div>
</div>
<p>Now that is a little silly to glue the columns in this way since it results in duplicate column names. You might want to follow it with a rename operation. Let’s pretend that the two data frames represent two study groups, each having values for treatment and control. Then you might do something like this:</p>
<div id="c1a1e292" class="cell" data-execution_count="108">
<div class="sourceCode cell-code" id="cb120"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb120-1"><a href="#cb120-1" aria-hidden="true" tabindex="-1"></a>pd.concat(</span>
<span id="cb120-2"><a href="#cb120-2" aria-hidden="true" tabindex="-1"></a>    [</span>
<span id="cb120-3"><a href="#cb120-3" aria-hidden="true" tabindex="-1"></a>        group_a.add_prefix(<span class="st">"GroupA"</span>),</span>
<span id="cb120-4"><a href="#cb120-4" aria-hidden="true" tabindex="-1"></a>        group_b.add_prefix(<span class="st">"GroupB"</span>),</span>
<span id="cb120-5"><a href="#cb120-5" aria-hidden="true" tabindex="-1"></a>    ],</span>
<span id="cb120-6"><a href="#cb120-6" aria-hidden="true" tabindex="-1"></a>    axis<span class="op">=</span><span class="st">"columns"</span>,</span>
<span id="cb120-7"><a href="#cb120-7" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="108">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">GroupATreatment</th>
<th data-quarto-table-cell-role="th">GroupAControl</th>
<th data-quarto-table-cell-role="th">GroupBTreatment</th>
<th data-quarto-table-cell-role="th">GroupBControl</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>1</td>
<td>4</td>
<td>10</td>
<td>40</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>2</td>
<td>5</td>
<td>20</td>
<td>50</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2</td>
<td>3</td>
<td>6</td>
<td>30</td>
<td>60</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<p>Nice!</p>
</section>
</section>
<section id="pivoting-and-melting" class="level4">
<h4 class="anchored" data-anchor-id="pivoting-and-melting">Pivoting and Melting</h4>
<p>Alright, now this can get a little bit tricky. These operations are sometimes called pivot wider and pivot longer. Let’s just talk about the basics, but know that you can get pretty fancy with this if required.</p>
<p>(We will use the renamed columns so the output looks a little nicer.)</p>
<div id="9618c0be" class="cell" data-execution_count="109">
<div class="sourceCode cell-code" id="cb121"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb121-1"><a href="#cb121-1" aria-hidden="true" tabindex="-1"></a>coffee_renamed <span class="op">=</span> coffee.rename(columns<span class="op">=</span><span class="kw">lambda</span> name: name.replace(<span class="st">"Score."</span>, <span class="st">""</span>))</span>
<span id="cb121-2"><a href="#cb121-2" aria-hidden="true" tabindex="-1"></a>coffee_tidy <span class="op">=</span> coffee_renamed.melt(</span>
<span id="cb121-3"><a href="#cb121-3" aria-hidden="true" tabindex="-1"></a>    <span class="co"># These variables identify observations</span></span>
<span id="cb121-4"><a href="#cb121-4" aria-hidden="true" tabindex="-1"></a>    id_vars<span class="op">=</span>[<span class="st">"Country"</span>, <span class="st">"Year"</span>],</span>
<span id="cb121-5"><a href="#cb121-5" aria-hidden="true" tabindex="-1"></a>    <span class="co"># The column name for the variables</span></span>
<span id="cb121-6"><a href="#cb121-6" aria-hidden="true" tabindex="-1"></a>    var_name<span class="op">=</span><span class="st">"Category"</span>,</span>
<span id="cb121-7"><a href="#cb121-7" aria-hidden="true" tabindex="-1"></a>    <span class="co"># The column name for the values of those variables</span></span>
<span id="cb121-8"><a href="#cb121-8" aria-hidden="true" tabindex="-1"></a>    value_name<span class="op">=</span><span class="st">"Score"</span>,</span>
<span id="cb121-9"><a href="#cb121-9" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb121-10"><a href="#cb121-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb121-11"><a href="#cb121-11" aria-hidden="true" tabindex="-1"></a>coffee_tidy</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="109">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">Country</th>
<th data-quarto-table-cell-role="th">Year</th>
<th data-quarto-table-cell-role="th">Category</th>
<th data-quarto-table-cell-role="th">Score</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>Colombia</td>
<td>2012</td>
<td>Aroma</td>
<td>7.83</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>Colombia</td>
<td>2012</td>
<td>Aroma</td>
<td>7.75</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2</td>
<td>Colombia</td>
<td>2012</td>
<td>Aroma</td>
<td>7.67</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">3</td>
<td>Colombia</td>
<td>2012</td>
<td>Aroma</td>
<td>7.42</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">4</td>
<td>Colombia</td>
<td>2012</td>
<td>Aroma</td>
<td>7.75</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">1655</td>
<td>Guatemala</td>
<td>2015</td>
<td>Acidity</td>
<td>7.25</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1656</td>
<td>Guatemala</td>
<td>2015</td>
<td>Acidity</td>
<td>7.42</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">1657</td>
<td>Guatemala</td>
<td>2015</td>
<td>Acidity</td>
<td>7.25</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1658</td>
<td>Mexico</td>
<td>2015</td>
<td>Acidity</td>
<td>7.42</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">1659</td>
<td>Mexico</td>
<td>2015</td>
<td>Acidity</td>
<td>7.50</td>
</tr>
</tbody>
</table>

<p>1660 rows × 4 columns</p>
</div>
</div>
</div>
<p>Certain operations require <a href="https://cran.r-project.org/web/packages/tidyr/vignettes/tidy-data.html">tidy data</a> or are more natural when the data is in this format. For example, making plots using <a href="https://seaborn.pydata.org/">seaborn</a>.</p>
<div id="b331a540" class="cell" data-execution_count="110">
<div class="sourceCode cell-code" id="cb122"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb122-1"><a href="#cb122-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> seaborn <span class="im">as</span> sns</span>
<span id="cb122-2"><a href="#cb122-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb122-3"><a href="#cb122-3" aria-hidden="true" tabindex="-1"></a>sns.boxplot(coffee_tidy.sort_values(<span class="st">"Category"</span>), x<span class="op">=</span><span class="st">"Category"</span>, y<span class="op">=</span><span class="st">"Score"</span>, hue<span class="op">=</span><span class="st">"Country"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="exploratory_data_analysis_files/figure-html/cell-111-output-1.png" class="img-fluid figure-img"></p>
</figure>
</div>
</div>
</div>
<p>(Converting the <code>coffee_tidy</code> data frame back to the messy form is a bit trickier because Country-Year pairs don’t form unique pairs. So we will use a different example for this.)</p>
<div id="85148662" class="cell" data-execution_count="111">
<div class="sourceCode cell-code" id="cb123"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb123-1"><a href="#cb123-1" aria-hidden="true" tabindex="-1"></a>df <span class="op">=</span> pd.DataFrame(</span>
<span id="cb123-2"><a href="#cb123-2" aria-hidden="true" tabindex="-1"></a>    {</span>
<span id="cb123-3"><a href="#cb123-3" aria-hidden="true" tabindex="-1"></a>        <span class="st">"Group"</span>: [<span class="st">"A"</span>, <span class="st">"A"</span>, <span class="st">"A"</span>, <span class="st">"A"</span>, <span class="st">"B"</span>, <span class="st">"B"</span>, <span class="st">"B"</span>, <span class="st">"B"</span>],</span>
<span id="cb123-4"><a href="#cb123-4" aria-hidden="true" tabindex="-1"></a>        <span class="st">"Condition"</span>: [</span>
<span id="cb123-5"><a href="#cb123-5" aria-hidden="true" tabindex="-1"></a>            <span class="st">"Treatment"</span>,</span>
<span id="cb123-6"><a href="#cb123-6" aria-hidden="true" tabindex="-1"></a>            <span class="st">"Treatment"</span>,</span>
<span id="cb123-7"><a href="#cb123-7" aria-hidden="true" tabindex="-1"></a>            <span class="st">"Control"</span>,</span>
<span id="cb123-8"><a href="#cb123-8" aria-hidden="true" tabindex="-1"></a>            <span class="st">"Control"</span>,</span>
<span id="cb123-9"><a href="#cb123-9" aria-hidden="true" tabindex="-1"></a>            <span class="st">"Treatment"</span>,</span>
<span id="cb123-10"><a href="#cb123-10" aria-hidden="true" tabindex="-1"></a>            <span class="st">"Treatment"</span>,</span>
<span id="cb123-11"><a href="#cb123-11" aria-hidden="true" tabindex="-1"></a>            <span class="st">"Control"</span>,</span>
<span id="cb123-12"><a href="#cb123-12" aria-hidden="true" tabindex="-1"></a>            <span class="st">"Control"</span>,</span>
<span id="cb123-13"><a href="#cb123-13" aria-hidden="true" tabindex="-1"></a>        ],</span>
<span id="cb123-14"><a href="#cb123-14" aria-hidden="true" tabindex="-1"></a>        <span class="st">"Replicate"</span>: [<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">1</span>, <span class="dv">2</span>],</span>
<span id="cb123-15"><a href="#cb123-15" aria-hidden="true" tabindex="-1"></a>        <span class="st">"Result"</span>: [<span class="fl">53.6</span>, <span class="fl">57.2</span>, <span class="fl">66.3</span>, <span class="fl">61.4</span>, <span class="fl">48.6</span>, <span class="fl">49.2</span>, <span class="fl">63.5</span>, <span class="fl">67.8</span>],</span>
<span id="cb123-16"><a href="#cb123-16" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb123-17"><a href="#cb123-17" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb123-18"><a href="#cb123-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb123-19"><a href="#cb123-19" aria-hidden="true" tabindex="-1"></a>df</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="111">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">Group</th>
<th data-quarto-table-cell-role="th">Condition</th>
<th data-quarto-table-cell-role="th">Replicate</th>
<th data-quarto-table-cell-role="th">Result</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>A</td>
<td>Treatment</td>
<td>1</td>
<td>53.6</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>A</td>
<td>Treatment</td>
<td>2</td>
<td>57.2</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2</td>
<td>A</td>
<td>Control</td>
<td>1</td>
<td>66.3</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">3</td>
<td>A</td>
<td>Control</td>
<td>2</td>
<td>61.4</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">4</td>
<td>B</td>
<td>Treatment</td>
<td>1</td>
<td>48.6</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">5</td>
<td>B</td>
<td>Treatment</td>
<td>2</td>
<td>49.2</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">6</td>
<td>B</td>
<td>Control</td>
<td>1</td>
<td>63.5</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">7</td>
<td>B</td>
<td>Control</td>
<td>2</td>
<td>67.8</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<p>Now, we use <code>pivot()</code> to convert it back to the so-called “messy” format:</p>
<div id="653afca9" class="cell" data-execution_count="112">
<div class="sourceCode cell-code" id="cb124"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb124-1"><a href="#cb124-1" aria-hidden="true" tabindex="-1"></a>df_messy <span class="op">=</span> df.pivot(</span>
<span id="cb124-2"><a href="#cb124-2" aria-hidden="true" tabindex="-1"></a>    index<span class="op">=</span>[<span class="st">"Group"</span>, <span class="st">"Replicate"</span>],</span>
<span id="cb124-3"><a href="#cb124-3" aria-hidden="true" tabindex="-1"></a>    columns<span class="op">=</span><span class="st">"Condition"</span>,</span>
<span id="cb124-4"><a href="#cb124-4" aria-hidden="true" tabindex="-1"></a>    values<span class="op">=</span><span class="st">"Result"</span>,</span>
<span id="cb124-5"><a href="#cb124-5" aria-hidden="true" tabindex="-1"></a>).reset_index()</span>
<span id="cb124-6"><a href="#cb124-6" aria-hidden="true" tabindex="-1"></a>df_messy.columns.name <span class="op">=</span> <span class="va">None</span></span>
<span id="cb124-7"><a href="#cb124-7" aria-hidden="true" tabindex="-1"></a>df_messy</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="112">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">Group</th>
<th data-quarto-table-cell-role="th">Replicate</th>
<th data-quarto-table-cell-role="th">Control</th>
<th data-quarto-table-cell-role="th">Treatment</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>A</td>
<td>1</td>
<td>66.3</td>
<td>53.6</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>A</td>
<td>2</td>
<td>61.4</td>
<td>57.2</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2</td>
<td>B</td>
<td>1</td>
<td>63.5</td>
<td>48.6</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">3</td>
<td>B</td>
<td>2</td>
<td>67.8</td>
<td>49.2</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<p>To go back to the tidy format:</p>
<div id="a2857bcc" class="cell" data-execution_count="113">
<div class="sourceCode cell-code" id="cb125"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb125-1"><a href="#cb125-1" aria-hidden="true" tabindex="-1"></a>df_tidy <span class="op">=</span> df_messy.melt(</span>
<span id="cb125-2"><a href="#cb125-2" aria-hidden="true" tabindex="-1"></a>    id_vars<span class="op">=</span>[<span class="st">"Group"</span>, <span class="st">"Replicate"</span>],</span>
<span id="cb125-3"><a href="#cb125-3" aria-hidden="true" tabindex="-1"></a>    var_name<span class="op">=</span><span class="st">"Condition"</span>,</span>
<span id="cb125-4"><a href="#cb125-4" aria-hidden="true" tabindex="-1"></a>    value_name<span class="op">=</span><span class="st">"Result"</span>,</span>
<span id="cb125-5"><a href="#cb125-5" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb125-6"><a href="#cb125-6" aria-hidden="true" tabindex="-1"></a>df_tidy</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="113">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">Group</th>
<th data-quarto-table-cell-role="th">Replicate</th>
<th data-quarto-table-cell-role="th">Condition</th>
<th data-quarto-table-cell-role="th">Result</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>A</td>
<td>1</td>
<td>Control</td>
<td>66.3</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>A</td>
<td>2</td>
<td>Control</td>
<td>61.4</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2</td>
<td>B</td>
<td>1</td>
<td>Control</td>
<td>63.5</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">3</td>
<td>B</td>
<td>2</td>
<td>Control</td>
<td>67.8</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">4</td>
<td>A</td>
<td>1</td>
<td>Treatment</td>
<td>53.6</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">5</td>
<td>A</td>
<td>2</td>
<td>Treatment</td>
<td>57.2</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">6</td>
<td>B</td>
<td>1</td>
<td>Treatment</td>
<td>48.6</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">7</td>
<td>B</td>
<td>2</td>
<td>Treatment</td>
<td>49.2</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<p>Check it out:</p>
<div id="c37e3b00" class="cell" data-execution_count="114">
<div class="sourceCode cell-code" id="cb126"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb126-1"><a href="#cb126-1" aria-hidden="true" tabindex="-1"></a>a <span class="op">=</span> (</span>
<span id="cb126-2"><a href="#cb126-2" aria-hidden="true" tabindex="-1"></a>    df.sort_values(by<span class="op">=</span>[<span class="st">"Group"</span>, <span class="st">"Condition"</span>, <span class="st">"Replicate"</span>])</span>
<span id="cb126-3"><a href="#cb126-3" aria-hidden="true" tabindex="-1"></a>    .sort_index(axis<span class="op">=</span><span class="st">"columns"</span>)</span>
<span id="cb126-4"><a href="#cb126-4" aria-hidden="true" tabindex="-1"></a>    .reset_index(drop<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb126-5"><a href="#cb126-5" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb126-6"><a href="#cb126-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb126-7"><a href="#cb126-7" aria-hidden="true" tabindex="-1"></a>display(a)</span>
<span id="cb126-8"><a href="#cb126-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb126-9"><a href="#cb126-9" aria-hidden="true" tabindex="-1"></a>b <span class="op">=</span> (</span>
<span id="cb126-10"><a href="#cb126-10" aria-hidden="true" tabindex="-1"></a>    df_tidy.sort_values(by<span class="op">=</span>[<span class="st">"Group"</span>, <span class="st">"Condition"</span>, <span class="st">"Replicate"</span>])</span>
<span id="cb126-11"><a href="#cb126-11" aria-hidden="true" tabindex="-1"></a>    .sort_index(axis<span class="op">=</span><span class="st">"columns"</span>)</span>
<span id="cb126-12"><a href="#cb126-12" aria-hidden="true" tabindex="-1"></a>    .reset_index(drop<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb126-13"><a href="#cb126-13" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb126-14"><a href="#cb126-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb126-15"><a href="#cb126-15" aria-hidden="true" tabindex="-1"></a>display(b)</span>
<span id="cb126-16"><a href="#cb126-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb126-17"><a href="#cb126-17" aria-hidden="true" tabindex="-1"></a><span class="cf">assert</span> a.equals(b)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">Condition</th>
<th data-quarto-table-cell-role="th">Group</th>
<th data-quarto-table-cell-role="th">Replicate</th>
<th data-quarto-table-cell-role="th">Result</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>Control</td>
<td>A</td>
<td>1</td>
<td>66.3</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>Control</td>
<td>A</td>
<td>2</td>
<td>61.4</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2</td>
<td>Treatment</td>
<td>A</td>
<td>1</td>
<td>53.6</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">3</td>
<td>Treatment</td>
<td>A</td>
<td>2</td>
<td>57.2</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">4</td>
<td>Control</td>
<td>B</td>
<td>1</td>
<td>63.5</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">5</td>
<td>Control</td>
<td>B</td>
<td>2</td>
<td>67.8</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">6</td>
<td>Treatment</td>
<td>B</td>
<td>1</td>
<td>48.6</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">7</td>
<td>Treatment</td>
<td>B</td>
<td>2</td>
<td>49.2</td>
</tr>
</tbody>
</table>

</div>
</div>
<div class="cell-output cell-output-display">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">Condition</th>
<th data-quarto-table-cell-role="th">Group</th>
<th data-quarto-table-cell-role="th">Replicate</th>
<th data-quarto-table-cell-role="th">Result</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>Control</td>
<td>A</td>
<td>1</td>
<td>66.3</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>Control</td>
<td>A</td>
<td>2</td>
<td>61.4</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2</td>
<td>Treatment</td>
<td>A</td>
<td>1</td>
<td>53.6</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">3</td>
<td>Treatment</td>
<td>A</td>
<td>2</td>
<td>57.2</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">4</td>
<td>Control</td>
<td>B</td>
<td>1</td>
<td>63.5</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">5</td>
<td>Control</td>
<td>B</td>
<td>2</td>
<td>67.8</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">6</td>
<td>Treatment</td>
<td>B</td>
<td>1</td>
<td>48.6</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">7</td>
<td>Treatment</td>
<td>B</td>
<td>2</td>
<td>49.2</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<p><em>Note: we use <code>display()</code> here rather than print to get nice looking tables when we need to “print” multiple items in a single codeblock.</em></p>
<p>This is a bit of a trickier topic, but I still wanted to give you an idea of how it works for when you run into it in your own research.</p>
</section>
</section>
<section id="making-new-columns" class="level3">
<h3 class="anchored" data-anchor-id="making-new-columns">Making New Columns</h3>
<p>There are a couple of ways to make new columns in a data frame.</p>
<p>The first way is with <code>assign()</code> which creates a new data frame with the requested column added to it.</p>
<p>Let’s say that you wanted to make a score summary that is a linear combination of a few of the score columns.</p>
<div id="ace81c7a" class="cell" data-execution_count="115">
<div class="sourceCode cell-code" id="cb127"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb127-1"><a href="#cb127-1" aria-hidden="true" tabindex="-1"></a>coffee.assign(</span>
<span id="cb127-2"><a href="#cb127-2" aria-hidden="true" tabindex="-1"></a>    Score<span class="op">=</span><span class="kw">lambda</span> df: <span class="fl">1.5</span> <span class="op">*</span> df[<span class="st">"Score.Aroma"</span>]</span>
<span id="cb127-3"><a href="#cb127-3" aria-hidden="true" tabindex="-1"></a>    <span class="op">+</span> <span class="dv">2</span> <span class="op">*</span> df[<span class="st">"Score.Flavor"</span>]</span>
<span id="cb127-4"><a href="#cb127-4" aria-hidden="true" tabindex="-1"></a>    <span class="op">+</span> <span class="fl">0.75</span> <span class="op">*</span> df[<span class="st">"Score.Aftertaste"</span>]</span>
<span id="cb127-5"><a href="#cb127-5" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="115">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">Country</th>
<th data-quarto-table-cell-role="th">Year</th>
<th data-quarto-table-cell-role="th">Score.Aroma</th>
<th data-quarto-table-cell-role="th">Score.Flavor</th>
<th data-quarto-table-cell-role="th">Score.Aftertaste</th>
<th data-quarto-table-cell-role="th">Score.Acidity</th>
<th data-quarto-table-cell-role="th">Score</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>Colombia</td>
<td>2012</td>
<td>7.83</td>
<td>8.00</td>
<td>7.75</td>
<td>7.75</td>
<td>33.5575</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>Colombia</td>
<td>2012</td>
<td>7.75</td>
<td>7.92</td>
<td>7.83</td>
<td>7.75</td>
<td>33.3375</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2</td>
<td>Colombia</td>
<td>2012</td>
<td>7.67</td>
<td>7.83</td>
<td>7.83</td>
<td>8.00</td>
<td>33.0375</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">3</td>
<td>Colombia</td>
<td>2012</td>
<td>7.42</td>
<td>7.67</td>
<td>7.75</td>
<td>7.75</td>
<td>32.2825</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">4</td>
<td>Colombia</td>
<td>2012</td>
<td>7.75</td>
<td>7.75</td>
<td>7.75</td>
<td>7.75</td>
<td>32.9375</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">410</td>
<td>Guatemala</td>
<td>2015</td>
<td>7.50</td>
<td>7.25</td>
<td>7.00</td>
<td>7.25</td>
<td>31.0000</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">411</td>
<td>Guatemala</td>
<td>2015</td>
<td>7.50</td>
<td>7.33</td>
<td>7.00</td>
<td>7.42</td>
<td>31.1600</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">412</td>
<td>Guatemala</td>
<td>2015</td>
<td>7.25</td>
<td>7.17</td>
<td>6.75</td>
<td>7.25</td>
<td>30.2775</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">413</td>
<td>Mexico</td>
<td>2015</td>
<td>7.75</td>
<td>7.67</td>
<td>7.42</td>
<td>7.42</td>
<td>32.5300</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">414</td>
<td>Mexico</td>
<td>2015</td>
<td>7.58</td>
<td>7.50</td>
<td>7.33</td>
<td>7.50</td>
<td>31.8675</td>
</tr>
</tbody>
</table>

<p>415 rows × 7 columns</p>
</div>
</div>
</div>
<p>If you check the original data frame, you will see that the <code>Score</code> column that we just created is not there:</p>
<div id="9c2d3437" class="cell" data-execution_count="116">
<div class="sourceCode cell-code" id="cb128"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb128-1"><a href="#cb128-1" aria-hidden="true" tabindex="-1"></a><span class="cf">try</span>:</span>
<span id="cb128-2"><a href="#cb128-2" aria-hidden="true" tabindex="-1"></a>    coffee[<span class="st">"Score"</span>]</span>
<span id="cb128-3"><a href="#cb128-3" aria-hidden="true" tabindex="-1"></a><span class="cf">except</span> <span class="pp">KeyError</span>:</span>
<span id="cb128-4"><a href="#cb128-4" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="st">"no Score column!"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>no Score column!</code></pre>
</div>
</div>
<p>If you want to actually save that column in your original data frame, you need to use the bracket notation again.</p>
<div id="5ad5361e" class="cell" data-execution_count="117">
<div class="sourceCode cell-code" id="cb130"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb130-1"><a href="#cb130-1" aria-hidden="true" tabindex="-1"></a>coffee[<span class="st">"Score"</span>] <span class="op">=</span> (</span>
<span id="cb130-2"><a href="#cb130-2" aria-hidden="true" tabindex="-1"></a>    <span class="fl">1.5</span> <span class="op">*</span> coffee[<span class="st">"Score.Aroma"</span>]</span>
<span id="cb130-3"><a href="#cb130-3" aria-hidden="true" tabindex="-1"></a>    <span class="op">+</span> <span class="dv">2</span> <span class="op">*</span> coffee[<span class="st">"Score.Flavor"</span>]</span>
<span id="cb130-4"><a href="#cb130-4" aria-hidden="true" tabindex="-1"></a>    <span class="op">+</span> <span class="fl">0.75</span> <span class="op">*</span> coffee[<span class="st">"Score.Aftertaste"</span>]</span>
<span id="cb130-5"><a href="#cb130-5" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb130-6"><a href="#cb130-6" aria-hidden="true" tabindex="-1"></a>coffee</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="117">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">Country</th>
<th data-quarto-table-cell-role="th">Year</th>
<th data-quarto-table-cell-role="th">Score.Aroma</th>
<th data-quarto-table-cell-role="th">Score.Flavor</th>
<th data-quarto-table-cell-role="th">Score.Aftertaste</th>
<th data-quarto-table-cell-role="th">Score.Acidity</th>
<th data-quarto-table-cell-role="th">Score</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>Colombia</td>
<td>2012</td>
<td>7.83</td>
<td>8.00</td>
<td>7.75</td>
<td>7.75</td>
<td>33.5575</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>Colombia</td>
<td>2012</td>
<td>7.75</td>
<td>7.92</td>
<td>7.83</td>
<td>7.75</td>
<td>33.3375</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2</td>
<td>Colombia</td>
<td>2012</td>
<td>7.67</td>
<td>7.83</td>
<td>7.83</td>
<td>8.00</td>
<td>33.0375</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">3</td>
<td>Colombia</td>
<td>2012</td>
<td>7.42</td>
<td>7.67</td>
<td>7.75</td>
<td>7.75</td>
<td>32.2825</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">4</td>
<td>Colombia</td>
<td>2012</td>
<td>7.75</td>
<td>7.75</td>
<td>7.75</td>
<td>7.75</td>
<td>32.9375</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">410</td>
<td>Guatemala</td>
<td>2015</td>
<td>7.50</td>
<td>7.25</td>
<td>7.00</td>
<td>7.25</td>
<td>31.0000</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">411</td>
<td>Guatemala</td>
<td>2015</td>
<td>7.50</td>
<td>7.33</td>
<td>7.00</td>
<td>7.42</td>
<td>31.1600</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">412</td>
<td>Guatemala</td>
<td>2015</td>
<td>7.25</td>
<td>7.17</td>
<td>6.75</td>
<td>7.25</td>
<td>30.2775</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">413</td>
<td>Mexico</td>
<td>2015</td>
<td>7.75</td>
<td>7.67</td>
<td>7.42</td>
<td>7.42</td>
<td>32.5300</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">414</td>
<td>Mexico</td>
<td>2015</td>
<td>7.58</td>
<td>7.50</td>
<td>7.33</td>
<td>7.50</td>
<td>31.8675</td>
</tr>
</tbody>
</table>

<p>415 rows × 7 columns</p>
</div>
</div>
</div>
<p>And now the <code>Score</code> column is part of the <code>coffee</code> data frame. Let’s drop it out so it doesn’t stick around for the rest of the tutorial.</p>
<div id="6ac3031d" class="cell" data-execution_count="118">
<div class="sourceCode cell-code" id="cb131"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb131-1"><a href="#cb131-1" aria-hidden="true" tabindex="-1"></a>coffee <span class="op">=</span> coffee.drop(columns<span class="op">=</span><span class="st">"Score"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="grouping-data-1" class="level3">
<h3 class="anchored" data-anchor-id="grouping-data-1">Grouping Data</h3>
<p>Grouping and aggregating data is a very common operation. For example, you might want to run aggregation functions on groups of data like, what’s the mean Flavor score for countries in this data set?</p>
<div id="4e859da8" class="cell" data-execution_count="119">
<div class="sourceCode cell-code" id="cb132"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb132-1"><a href="#cb132-1" aria-hidden="true" tabindex="-1"></a>coffee.groupby(<span class="st">"Country"</span>).agg({<span class="st">"Score.Flavor"</span>: <span class="st">"mean"</span>})</span>
<span id="cb132-2"><a href="#cb132-2" aria-hidden="true" tabindex="-1"></a><span class="co"># coffee.groupby("Country").agg({"Score.Aroma": ["mean", "min", "mean"]})</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="119">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">Score.Flavor</th>
</tr>
<tr class="even">
<th data-quarto-table-cell-role="th">Country</th>
<th data-quarto-table-cell-role="th"></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">Colombia</td>
<td>7.602347</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">Guatemala</td>
<td>7.461803</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">Mexico</td>
<td>7.374513</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<p>You can run the aggregations on multiple columns at once. Here we take the mean flavor and the sum of the aroma. (Yes, that’s a weird thing to do, it’s just here to show you that you don’t have to run the same function for each column.)</p>
<div id="137bdb63" class="cell" data-execution_count="120">
<div class="sourceCode cell-code" id="cb133"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb133-1"><a href="#cb133-1" aria-hidden="true" tabindex="-1"></a>coffee.groupby(<span class="st">"Country"</span>).agg({<span class="st">"Score.Flavor"</span>: <span class="st">"mean"</span>, <span class="st">"Score.Aroma"</span>: <span class="st">"sum"</span>})</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="120">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">Score.Flavor</th>
<th data-quarto-table-cell-role="th">Score.Aroma</th>
</tr>
<tr class="even">
<th data-quarto-table-cell-role="th">Country</th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">Colombia</td>
<td>7.602347</td>
<td>752.53</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">Guatemala</td>
<td>7.461803</td>
<td>920.60</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">Mexico</td>
<td>7.374513</td>
<td>1454.48</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<p>You can even run multiple aggregation functions on each column:</p>
<div id="18c51490" class="cell" data-execution_count="121">
<div class="sourceCode cell-code" id="cb134"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb134-1"><a href="#cb134-1" aria-hidden="true" tabindex="-1"></a>coffee.groupby(<span class="st">"Country"</span>).agg(</span>
<span id="cb134-2"><a href="#cb134-2" aria-hidden="true" tabindex="-1"></a>    {<span class="st">"Score.Flavor"</span>: [<span class="st">"mean"</span>, <span class="st">"min"</span>, <span class="st">"max"</span>], <span class="st">"Score.Aroma"</span>: <span class="st">"sum"</span>}</span>
<span id="cb134-3"><a href="#cb134-3" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="121">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th colspan="3" data-quarto-table-cell-role="th" data-halign="left">Score.Flavor</th>
<th data-quarto-table-cell-role="th">Score.Aroma</th>
</tr>
<tr class="even">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">mean</th>
<th data-quarto-table-cell-role="th">min</th>
<th data-quarto-table-cell-role="th">max</th>
<th data-quarto-table-cell-role="th">sum</th>
</tr>
<tr class="header">
<th data-quarto-table-cell-role="th">Country</th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">Colombia</td>
<td>7.602347</td>
<td>7.25</td>
<td>8.00</td>
<td>752.53</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">Guatemala</td>
<td>7.461803</td>
<td>6.08</td>
<td>8.17</td>
<td>920.60</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">Mexico</td>
<td>7.374513</td>
<td>6.42</td>
<td>8.25</td>
<td>1454.48</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<p>In many cases you need to group based on multiple columns. In this dataset, it makes sense to group by Country-Year pairs:</p>
<div id="e150753b" class="cell" data-execution_count="122">
<div class="sourceCode cell-code" id="cb135"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb135-1"><a href="#cb135-1" aria-hidden="true" tabindex="-1"></a>coffee.groupby([<span class="st">"Country"</span>, <span class="st">"Year"</span>]).agg(</span>
<span id="cb135-2"><a href="#cb135-2" aria-hidden="true" tabindex="-1"></a>    {<span class="st">"Score.Flavor"</span>: [<span class="st">"mean"</span>, <span class="st">"std"</span>], <span class="st">"Score.Aroma"</span>: [<span class="st">"mean"</span>, <span class="st">"std"</span>]}</span>
<span id="cb135-3"><a href="#cb135-3" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="122">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th colspan="2" data-quarto-table-cell-role="th" data-halign="left">Score.Flavor</th>
<th colspan="2" data-quarto-table-cell-role="th" data-halign="left">Score.Aroma</th>
</tr>
<tr class="even">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">mean</th>
<th data-quarto-table-cell-role="th">std</th>
<th data-quarto-table-cell-role="th">mean</th>
<th data-quarto-table-cell-role="th">std</th>
</tr>
<tr class="header">
<th data-quarto-table-cell-role="th">Country</th>
<th data-quarto-table-cell-role="th">Year</th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td rowspan="4" data-quarto-table-cell-role="th" data-valign="top">Colombia</td>
<td data-quarto-table-cell-role="th">2012</td>
<td>7.621667</td>
<td>0.166900</td>
<td>7.637333</td>
<td>0.124677</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">2013</td>
<td>7.546579</td>
<td>0.184028</td>
<td>7.646053</td>
<td>0.170493</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2014</td>
<td>7.617333</td>
<td>0.128478</td>
<td>7.728667</td>
<td>0.142672</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">2015</td>
<td>7.690000</td>
<td>0.115388</td>
<td>7.795333</td>
<td>0.213972</td>
</tr>
<tr class="odd">
<td rowspan="3" data-quarto-table-cell-role="th" data-valign="top">Guatemala</td>
<td data-quarto-table-cell-role="th">2012</td>
<td>7.401364</td>
<td>0.501006</td>
<td>7.508182</td>
<td>0.363237</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2015</td>
<td>7.595714</td>
<td>0.230508</td>
<td>7.625000</td>
<td>0.172571</td>
</tr>
<tr class="even">
<td rowspan="4" data-quarto-table-cell-role="th" data-valign="top">Mexico</td>
<td data-quarto-table-cell-role="th">2012</td>
<td>7.370741</td>
<td>0.324318</td>
<td>7.457284</td>
<td>0.275460</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2013</td>
<td>7.369500</td>
<td>0.236609</td>
<td>7.486500</td>
<td>0.161156</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">2014</td>
<td>7.400909</td>
<td>0.234668</td>
<td>7.394545</td>
<td>0.239097</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2015</td>
<td>7.585000</td>
<td>0.120208</td>
<td>7.665000</td>
<td>0.120208</td>
</tr>
</tbody>
</table>

<p>12 rows × 4 columns</p>
</div>
</div>
</div>
<p>That would be the mean and standard deviation of flavor and aroma for all country-year pairs.</p>
</section>
<section id="combining-data-sets" class="level3">
<h3 class="anchored" data-anchor-id="combining-data-sets">Combining Data Sets</h3>
<p>Another useful bit of functionality is merging datasets that have overlapping columns. These is a lot like doing joins in a relational database. While Pandas does have a <code>join()</code> function, we are mainly going to be using <code>merge()</code> instead, as it doesn’t require that the tables have meaningful row indices.</p>
<p>Let’s say we have a data frame that includes useful information about the countries for which we have coffee data. (Okay, we’re not using necessarily “useful” data in this example, but work with me a bit.)</p>
<div id="66d62c48" class="cell" data-execution_count="123">
<div class="sourceCode cell-code" id="cb136"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb136-1"><a href="#cb136-1" aria-hidden="true" tabindex="-1"></a>country_capitals <span class="op">=</span> pd.DataFrame(</span>
<span id="cb136-2"><a href="#cb136-2" aria-hidden="true" tabindex="-1"></a>    {</span>
<span id="cb136-3"><a href="#cb136-3" aria-hidden="true" tabindex="-1"></a>        <span class="st">"Country"</span>: [<span class="st">"Colombia"</span>, <span class="st">"Guatemala"</span>, <span class="st">"Mexico"</span>],</span>
<span id="cb136-4"><a href="#cb136-4" aria-hidden="true" tabindex="-1"></a>        <span class="st">"Capital"</span>: [<span class="st">"Bogotá"</span>, <span class="st">"Guatemala City"</span>, <span class="st">"Mexico City"</span>],</span>
<span id="cb136-5"><a href="#cb136-5" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb136-6"><a href="#cb136-6" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb136-7"><a href="#cb136-7" aria-hidden="true" tabindex="-1"></a>country_capitals</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="123">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">Country</th>
<th data-quarto-table-cell-role="th">Capital</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>Colombia</td>
<td>Bogotá</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>Guatemala</td>
<td>Guatemala City</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2</td>
<td>Mexico</td>
<td>Mexico City</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<p>Okay, now let’s say we wanted that info in our coffee data frame. We can join them using <code>merge()</code>.</p>
<div id="6ff5bc89" class="cell" data-execution_count="124">
<div class="sourceCode cell-code" id="cb137"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb137-1"><a href="#cb137-1" aria-hidden="true" tabindex="-1"></a>coffee.merge(country_capitals)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="124">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">Country</th>
<th data-quarto-table-cell-role="th">Year</th>
<th data-quarto-table-cell-role="th">Score.Aroma</th>
<th data-quarto-table-cell-role="th">Score.Flavor</th>
<th data-quarto-table-cell-role="th">Score.Aftertaste</th>
<th data-quarto-table-cell-role="th">Score.Acidity</th>
<th data-quarto-table-cell-role="th">Capital</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>Colombia</td>
<td>2012</td>
<td>7.83</td>
<td>8.00</td>
<td>7.75</td>
<td>7.75</td>
<td>Bogotá</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>Colombia</td>
<td>2012</td>
<td>7.75</td>
<td>7.92</td>
<td>7.83</td>
<td>7.75</td>
<td>Bogotá</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2</td>
<td>Colombia</td>
<td>2012</td>
<td>7.67</td>
<td>7.83</td>
<td>7.83</td>
<td>8.00</td>
<td>Bogotá</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">3</td>
<td>Colombia</td>
<td>2012</td>
<td>7.42</td>
<td>7.67</td>
<td>7.75</td>
<td>7.75</td>
<td>Bogotá</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">4</td>
<td>Colombia</td>
<td>2012</td>
<td>7.75</td>
<td>7.75</td>
<td>7.75</td>
<td>7.75</td>
<td>Bogotá</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">410</td>
<td>Guatemala</td>
<td>2015</td>
<td>7.50</td>
<td>7.25</td>
<td>7.00</td>
<td>7.25</td>
<td>Guatemala City</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">411</td>
<td>Guatemala</td>
<td>2015</td>
<td>7.50</td>
<td>7.33</td>
<td>7.00</td>
<td>7.42</td>
<td>Guatemala City</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">412</td>
<td>Guatemala</td>
<td>2015</td>
<td>7.25</td>
<td>7.17</td>
<td>6.75</td>
<td>7.25</td>
<td>Guatemala City</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">413</td>
<td>Mexico</td>
<td>2015</td>
<td>7.75</td>
<td>7.67</td>
<td>7.42</td>
<td>7.42</td>
<td>Mexico City</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">414</td>
<td>Mexico</td>
<td>2015</td>
<td>7.58</td>
<td>7.50</td>
<td>7.33</td>
<td>7.50</td>
<td>Mexico City</td>
</tr>
</tbody>
</table>

<p>415 rows × 7 columns</p>
</div>
</div>
</div>
<p>There is actually a lot to the <code>merge()</code> function which we won’t get into too much here, but one important thing is how missing data is handled between data frames. Let’s make some more data to look at this.</p>
<p>First, a data frame for jobs:</p>
<div id="5c2df1e0" class="cell" data-execution_count="125">
<div class="sourceCode cell-code" id="cb138"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb138-1"><a href="#cb138-1" aria-hidden="true" tabindex="-1"></a>jobs <span class="op">=</span> pd.DataFrame(</span>
<span id="cb138-2"><a href="#cb138-2" aria-hidden="true" tabindex="-1"></a>    {</span>
<span id="cb138-3"><a href="#cb138-3" aria-hidden="true" tabindex="-1"></a>        <span class="st">"Name"</span>: [<span class="st">"Rahaf"</span>, <span class="st">"Nanjin"</span>, <span class="st">"Lujain"</span>, <span class="st">"Lovisa"</span>],</span>
<span id="cb138-4"><a href="#cb138-4" aria-hidden="true" tabindex="-1"></a>        <span class="st">"Job"</span>: [<span class="st">"Chef"</span>, <span class="st">"Courier"</span>, <span class="st">"Engineer"</span>, <span class="st">"Bookmaker"</span>],</span>
<span id="cb138-5"><a href="#cb138-5" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb138-6"><a href="#cb138-6" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb138-7"><a href="#cb138-7" aria-hidden="true" tabindex="-1"></a>jobs</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="125">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">Name</th>
<th data-quarto-table-cell-role="th">Job</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>Rahaf</td>
<td>Chef</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>Nanjin</td>
<td>Courier</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2</td>
<td>Lujain</td>
<td>Engineer</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">3</td>
<td>Lovisa</td>
<td>Bookmaker</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<p>And another one for ages:</p>
<div id="2cc27037" class="cell" data-execution_count="126">
<div class="sourceCode cell-code" id="cb139"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb139-1"><a href="#cb139-1" aria-hidden="true" tabindex="-1"></a>ages <span class="op">=</span> pd.DataFrame(</span>
<span id="cb139-2"><a href="#cb139-2" aria-hidden="true" tabindex="-1"></a>    {</span>
<span id="cb139-3"><a href="#cb139-3" aria-hidden="true" tabindex="-1"></a>        <span class="st">"Name"</span>: [<span class="st">"Rahaf"</span>, <span class="st">"Nanjin"</span>, <span class="st">"Lujain"</span>, <span class="st">"Lovisa"</span>],</span>
<span id="cb139-4"><a href="#cb139-4" aria-hidden="true" tabindex="-1"></a>        <span class="st">"Age"</span>: [<span class="st">"47"</span>, <span class="st">"26"</span>, <span class="st">"31"</span>, <span class="st">"61"</span>],</span>
<span id="cb139-5"><a href="#cb139-5" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb139-6"><a href="#cb139-6" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb139-7"><a href="#cb139-7" aria-hidden="true" tabindex="-1"></a>ages</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="126">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">Name</th>
<th data-quarto-table-cell-role="th">Age</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>Rahaf</td>
<td>47</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>Nanjin</td>
<td>26</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2</td>
<td>Lujain</td>
<td>31</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">3</td>
<td>Lovisa</td>
<td>61</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<p>To demonstrate the joins, we will need to take subsets of the data frames in which some of the rows overlap and some of them don’t:</p>
<div id="b8ffde3d" class="cell" data-execution_count="127">
<div class="sourceCode cell-code" id="cb140"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb140-1"><a href="#cb140-1" aria-hidden="true" tabindex="-1"></a>jobs_subset <span class="op">=</span> jobs.head(<span class="dv">3</span>)</span>
<span id="cb140-2"><a href="#cb140-2" aria-hidden="true" tabindex="-1"></a>ages_subset <span class="op">=</span> ages.tail(<span class="dv">3</span>)</span>
<span id="cb140-3"><a href="#cb140-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb140-4"><a href="#cb140-4" aria-hidden="true" tabindex="-1"></a>display(jobs_subset)</span>
<span id="cb140-5"><a href="#cb140-5" aria-hidden="true" tabindex="-1"></a>display(ages_subset)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">Name</th>
<th data-quarto-table-cell-role="th">Job</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>Rahaf</td>
<td>Chef</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>Nanjin</td>
<td>Courier</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2</td>
<td>Lujain</td>
<td>Engineer</td>
</tr>
</tbody>
</table>

</div>
</div>
<div class="cell-output cell-output-display">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">Name</th>
<th data-quarto-table-cell-role="th">Age</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">1</td>
<td>Nanjin</td>
<td>26</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">2</td>
<td>Lujain</td>
<td>31</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">3</td>
<td>Lovisa</td>
<td>61</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<section id="inner-join" class="level4">
<h4 class="anchored" data-anchor-id="inner-join">Inner Join</h4>
<p>The inner join keeps rows that only belong to both sets of data. (This is like the inner join in SQL.)</p>
<div id="aa170dec" class="cell" data-execution_count="128">
<div class="sourceCode cell-code" id="cb141"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb141-1"><a href="#cb141-1" aria-hidden="true" tabindex="-1"></a>jobs_subset.merge(ages_subset, how<span class="op">=</span><span class="st">"inner"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="128">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">Name</th>
<th data-quarto-table-cell-role="th">Job</th>
<th data-quarto-table-cell-role="th">Age</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>Nanjin</td>
<td>Courier</td>
<td>26</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>Lujain</td>
<td>Engineer</td>
<td>31</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
</section>
<section id="outer-join" class="level4">
<h4 class="anchored" data-anchor-id="outer-join">Outer Join</h4>
<p>The outer join keeps all the rows, even if some of the rows are only present in one data frame or the other. Missing values will be <code>NaN</code> by default. (This is like the full outer join in SQL.)</p>
<div id="17e4bd45" class="cell" data-execution_count="129">
<div class="sourceCode cell-code" id="cb142"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb142-1"><a href="#cb142-1" aria-hidden="true" tabindex="-1"></a>jobs_subset.merge(ages_subset, how<span class="op">=</span><span class="st">"outer"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="129">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">Name</th>
<th data-quarto-table-cell-role="th">Job</th>
<th data-quarto-table-cell-role="th">Age</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>Lovisa</td>
<td>NaN</td>
<td>61</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>Lujain</td>
<td>Engineer</td>
<td>31</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2</td>
<td>Nanjin</td>
<td>Courier</td>
<td>26</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">3</td>
<td>Rahaf</td>
<td>Chef</td>
<td>NaN</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
</section>
<section id="left-join" class="level4">
<h4 class="anchored" data-anchor-id="left-join">Left Join</h4>
<p>The left join keeps all the rows in the left data frame, even if they are not present in the right data frame. Missing values will be <code>NaN</code> by default. (This is like the left outer join in SQL.)</p>
<div id="a33f56ba" class="cell" data-execution_count="130">
<div class="sourceCode cell-code" id="cb143"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb143-1"><a href="#cb143-1" aria-hidden="true" tabindex="-1"></a>jobs_subset.merge(ages_subset, how<span class="op">=</span><span class="st">"left"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="130">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">Name</th>
<th data-quarto-table-cell-role="th">Job</th>
<th data-quarto-table-cell-role="th">Age</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>Rahaf</td>
<td>Chef</td>
<td>NaN</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>Nanjin</td>
<td>Courier</td>
<td>26</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2</td>
<td>Lujain</td>
<td>Engineer</td>
<td>31</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
</section>
<section id="right-join" class="level4">
<h4 class="anchored" data-anchor-id="right-join">Right Join</h4>
<p>The right join keeps all the rows in the right data frame, even if they are not present in the left data frame. Missing values will be <code>NaN</code> by default. (This is like the right outer join in SQL.)</p>
<div id="eadcb1e6" class="cell" data-execution_count="131">
<div class="sourceCode cell-code" id="cb144"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb144-1"><a href="#cb144-1" aria-hidden="true" tabindex="-1"></a>jobs_subset.merge(ages_subset, how<span class="op">=</span><span class="st">"right"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="131">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">Name</th>
<th data-quarto-table-cell-role="th">Job</th>
<th data-quarto-table-cell-role="th">Age</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>Nanjin</td>
<td>Courier</td>
<td>26</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>Lujain</td>
<td>Engineer</td>
<td>31</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2</td>
<td>Lovisa</td>
<td>NaN</td>
<td>61</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<div id="tip-07-merge-considerations" class="callout callout-style-default callout-tip callout-titled" title="Stop &amp; Think">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-8-contents" aria-controls="callout-8" aria-expanded="true" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Tip&nbsp;7.8: Stop &amp; Think
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-8" class="callout-8-contents callout-collapse collapse show">
<div class="callout-body-container callout-body">
<p>When merging datasets, what factors should you consider when choosing between inner, outer, left, and right joins?</p>
</div>
</div>
</div>
</section>
</section>
<section id="pandas-summary" class="level3">
<h3 class="anchored" data-anchor-id="pandas-summary">Pandas Summary</h3>
<p>Pandas is a huge and fairly complex library. But you can of get a lot of real work done by getting comfortable with a fairly small subset, and then working your way through more advanced concepts over time.</p>
</section>
</section>
<section id="wrap-up" class="level2">
<h2 class="anchored" data-anchor-id="wrap-up">Wrap-Up</h2>
<p>In this chapter, we went over the basics of exploratory data analysis (EDA) in Python using the Pandas library. We went through three examples datasets together letting our curiosity guide us. Then, we went through a big tour of the Pandas library for you to use as a reference to some of the most frequently used Pandas functions. Pandas is a big library with a lot of different functions and different ways to do things. This chapter should give you enough Pandas skills to start using it in your own research, and give you the basics you need to get more in-depth with the library later in your career.</p>
</section>
<section id="suggested-readings" class="level2">
<h2 class="anchored" data-anchor-id="suggested-readings">Suggested Readings</h2>
<p>Pandas is a massive library. These resources can help get a handle on it:</p>
<ul>
<li><a href="https://pandas.pydata.org/Pandas_Cheat_Sheet.pdf">Pandas cheat sheet</a> Pandas docs</li>
<li><a href="https://pandas.pydata.org/pandas-docs/stable/user_guide/index.html">Pandas User Guide</a></li>
<li><a href="https://realpython.com/pandas-dataframe">The pandas DataFrame: Make Working With Data Delightful</a></li>
</ul>
</section>
<section id="practice-problems" class="level2">
<h2 class="anchored" data-anchor-id="practice-problems">Practice Problems</h2>
<p>Consider the following data when answering the following problems.</p>
<div id="4d3b01f8" class="cell" data-execution_count="132">
<div class="sourceCode cell-code" id="cb145"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb145-1"><a href="#cb145-1" aria-hidden="true" tabindex="-1"></a>state_cancer_data <span class="op">=</span> {</span>
<span id="cb145-2"><a href="#cb145-2" aria-hidden="true" tabindex="-1"></a>    <span class="st">"State"</span>: [</span>
<span id="cb145-3"><a href="#cb145-3" aria-hidden="true" tabindex="-1"></a>        <span class="st">"Delaware"</span>,</span>
<span id="cb145-4"><a href="#cb145-4" aria-hidden="true" tabindex="-1"></a>        <span class="st">"Maryland"</span>,</span>
<span id="cb145-5"><a href="#cb145-5" aria-hidden="true" tabindex="-1"></a>        <span class="st">"Virginia"</span>,</span>
<span id="cb145-6"><a href="#cb145-6" aria-hidden="true" tabindex="-1"></a>        <span class="st">"Pennsylvania"</span>,</span>
<span id="cb145-7"><a href="#cb145-7" aria-hidden="true" tabindex="-1"></a>        <span class="st">"New York"</span>,</span>
<span id="cb145-8"><a href="#cb145-8" aria-hidden="true" tabindex="-1"></a>        <span class="st">"New Jersey"</span>,</span>
<span id="cb145-9"><a href="#cb145-9" aria-hidden="true" tabindex="-1"></a>    ],</span>
<span id="cb145-10"><a href="#cb145-10" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Cancer Deaths"</span>: [</span>
<span id="cb145-11"><a href="#cb145-11" aria-hidden="true" tabindex="-1"></a>        <span class="dv">13_000</span>,</span>
<span id="cb145-12"><a href="#cb145-12" aria-hidden="true" tabindex="-1"></a>        <span class="dv">72_000</span>,</span>
<span id="cb145-13"><a href="#cb145-13" aria-hidden="true" tabindex="-1"></a>        <span class="dv">99_000</span>,</span>
<span id="cb145-14"><a href="#cb145-14" aria-hidden="true" tabindex="-1"></a>        <span class="dv">202_000</span>,</span>
<span id="cb145-15"><a href="#cb145-15" aria-hidden="true" tabindex="-1"></a>        <span class="dv">249_000</span>,</span>
<span id="cb145-16"><a href="#cb145-16" aria-hidden="true" tabindex="-1"></a>        <span class="dv">117_000</span>,</span>
<span id="cb145-17"><a href="#cb145-17" aria-hidden="true" tabindex="-1"></a>    ],</span>
<span id="cb145-18"><a href="#cb145-18" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Population"</span>: [</span>
<span id="cb145-19"><a href="#cb145-19" aria-hidden="true" tabindex="-1"></a>        <span class="dv">6_300_000</span>,</span>
<span id="cb145-20"><a href="#cb145-20" aria-hidden="true" tabindex="-1"></a>        <span class="dv">40_500_000</span>,</span>
<span id="cb145-21"><a href="#cb145-21" aria-hidden="true" tabindex="-1"></a>        <span class="dv">56_100_000</span>,</span>
<span id="cb145-22"><a href="#cb145-22" aria-hidden="true" tabindex="-1"></a>        <span class="dv">88_800_000</span>,</span>
<span id="cb145-23"><a href="#cb145-23" aria-hidden="true" tabindex="-1"></a>        <span class="dv">135_700_000</span>,</span>
<span id="cb145-24"><a href="#cb145-24" aria-hidden="true" tabindex="-1"></a>        <span class="dv">61_500_000</span>,</span>
<span id="cb145-25"><a href="#cb145-25" aria-hidden="true" tabindex="-1"></a>    ],</span>
<span id="cb145-26"><a href="#cb145-26" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Percent Aged 65+"</span>: [</span>
<span id="cb145-27"><a href="#cb145-27" aria-hidden="true" tabindex="-1"></a>        <span class="dv">19</span>,</span>
<span id="cb145-28"><a href="#cb145-28" aria-hidden="true" tabindex="-1"></a>        <span class="dv">16</span>,</span>
<span id="cb145-29"><a href="#cb145-29" aria-hidden="true" tabindex="-1"></a>        <span class="dv">16</span>,</span>
<span id="cb145-30"><a href="#cb145-30" aria-hidden="true" tabindex="-1"></a>        <span class="dv">19</span>,</span>
<span id="cb145-31"><a href="#cb145-31" aria-hidden="true" tabindex="-1"></a>        <span class="dv">17</span>,</span>
<span id="cb145-32"><a href="#cb145-32" aria-hidden="true" tabindex="-1"></a>        <span class="dv">17</span>,</span>
<span id="cb145-33"><a href="#cb145-33" aria-hidden="true" tabindex="-1"></a>    ],</span>
<span id="cb145-34"><a href="#cb145-34" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Median Household Income"</span>: [</span>
<span id="cb145-35"><a href="#cb145-35" aria-hidden="true" tabindex="-1"></a>        <span class="dv">68_000</span>,</span>
<span id="cb145-36"><a href="#cb145-36" aria-hidden="true" tabindex="-1"></a>        <span class="dv">85_000</span>,</span>
<span id="cb145-37"><a href="#cb145-37" aria-hidden="true" tabindex="-1"></a>        <span class="dv">74_000</span>,</span>
<span id="cb145-38"><a href="#cb145-38" aria-hidden="true" tabindex="-1"></a>        <span class="dv">62_000</span>,</span>
<span id="cb145-39"><a href="#cb145-39" aria-hidden="true" tabindex="-1"></a>        <span class="dv">69_000</span>,</span>
<span id="cb145-40"><a href="#cb145-40" aria-hidden="true" tabindex="-1"></a>        <span class="dv">83_000</span>,</span>
<span id="cb145-41"><a href="#cb145-41" aria-hidden="true" tabindex="-1"></a>    ],</span>
<span id="cb145-42"><a href="#cb145-42" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<section id="sec-problem-7.1" class="level3">
<h3 class="anchored" data-anchor-id="sec-problem-7.1">7.1</h3>
<p>Create a Pandas DataFrame to represent the state cancer and demographic data given above.</p>
</section>
<section id="sec-problem-7.2" class="level3">
<h3 class="anchored" data-anchor-id="sec-problem-7.2">7.2</h3>
<p>Create a new column called <code>Cancer Deaths Per 100k</code> that represents the number of cancer cases per 100,000 people for each state.</p>
</section>
<section id="sec-problem-7.3" class="level3">
<h3 class="anchored" data-anchor-id="sec-problem-7.3">7.3</h3>
<p>Which states have a cancer rate of at least 180 cases per 100k and a median household income less than $68,500?</p>
</section>
<section id="sec-problem-7.4" class="level3">
<h3 class="anchored" data-anchor-id="sec-problem-7.4">7.4</h3>
<p>What is the relationship between median household income and the rate of cancer deaths?</p>
</section>
<section id="sec-problem-7.5" class="level3">
<h3 class="anchored" data-anchor-id="sec-problem-7.5">7.5</h3>
<p>What is the relationship between the percent of the population aged 65 and older and the rate of cancer deaths?</p>


</section>
</section>

</main> <!-- /main -->
<script async="" src="https://scripts.simpleanalyticscdn.com/latest.js"></script>
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp("https:\/\/pythonforlifescientists\.com");
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="./errors_exceptions.html" class="pagination-link" aria-label="Errors &amp; Exceptions">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">Errors &amp; Exceptions</span></span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="./stats_models.html" class="pagination-link" aria-label="Statistics &amp; Modeling">
        <span class="nav-page-text"><span class="chapter-number">8</span>&nbsp; <span class="chapter-title">Statistics &amp; Modeling</span></span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->
<footer class="footer">
  <div class="nav-footer">
    <div class="nav-footer-left">
<p>© 2025 Ryan M. Moore. CC BY 4.0.</p>
</div>   
    <div class="nav-footer-center">
      &nbsp;
    <div class="toc-actions d-sm-block d-md-none"><ul><li><a href="https://github.com/mooreryan/practical_python/issues/new" class="toc-action"><i class="bi bi-github"></i>Report an issue</a></li><li><a href="https://github.com/mooreryan/practical_python/blob/main/exploratory_data_analysis.qmd" class="toc-action"><i class="bi empty"></i>View source</a></li></ul></div></div>
    <div class="nav-footer-right">
      <ul class="footer-items list-unstyled">
    <li class="nav-item compact">
    <a class="nav-link" href="https://orcid.org/0000-0003-3337-8184">
      <i class="bi bi-person-lines-fill" role="img">
</i> 
    </a>
  </li>  
    <li class="nav-item compact">
    <a class="nav-link" href="https://scholar.google.com/citations?user=W08DPpMAAAAJ">
      <i class="bi bi-journals" role="img">
</i> 
    </a>
  </li>  
    <li class="nav-item compact">
    <a class="nav-link" href="https://github.com/mooreryan">
      <i class="bi bi-github" role="img">
</i> 
    </a>
  </li>  
</ul>
    </div>
  </div>
</footer>




</body></html>